{
  "version": 78,
  "tenantid": "BeckerMigration",
  "mobappid": 8251,
  "appName": "Becker Migration",
  "appDisplayName": "Becker Bluelight",
  "homeScreenTemplate": "<script>\r\n  MyCampusApp.rootScope.mobileAppName = \"Becker Bluelight\";\r\n  StatusBar.backgroundColorByHexString(\"#1b284b\");\r\n  try {\r\n    if (!MyCampusApp.rootScope.cangelistadded) {\r\n      console.log(MyCampusApp);\r\n      MyCampusApp.rootScope.$on(\"$routeChangeStart\", function(event, next, current) {\r\n        //alert(event);\r\n        $(\".app-body\").removeClass(\"slideInDown\");\r\n        $(\".app-body\").removeClass(\"slideInRight\");\r\n        $(\".app-body\").removeClass(\"slideInLeft\");\r\n        $(\".app-body\").addClass(\"animated\");\r\n\r\n        //$(\".app-body\").addClass(\"slideOutUp\");\r\n\r\n      });\r\n      MyCampusApp.rootScope.$on(\"$routeChangeSuccess\", function(event, next, current) {\r\n        //alert('success');\r\n        console.log(\"route change success\");\r\n        console.log(\"Event:\");\r\n        console.log(event);\r\n        console.log(\"next:\");\r\n        console.log(next);\r\n        console.log(\"current:\");\r\n        console.log(current);\r\n        console.log(next.pathParams.appid);\r\n        console.log(\"----------\");\r\n        if (next.pathParams.appid != \"QuickLaunch4\") {\r\n          console.log(\"ql icon opacity restored\")\r\n          $('.divQuickLaunch img').css('opacity', '0.4');\r\n          $('.divQuickLaunch').css('opacity', '0.4');\r\n        }\r\n        if (next.params.appid == 'SignIn2') {\r\n          $(\".app-body\").addClass(\"slideInDown\");\r\n        } else {\r\n          /*if (current.params.appid == next.params.appid && next.params.appid == next.params.pageid) {\r\n          $(\".app-body\").addClass(\"slideInLeft\");\r\n          } else {\r\n          $(\".app-body\").addClass(\"slideInRight\");\r\n          }*/\r\n          console.log(MyCampusApp.rootScope.leftToRight);\r\n\r\n          if (MyCampusApp.rootScope.leftToRight) {\r\n            $(\".app-body\").addClass(\"slideInLeft\");\r\n            MyCampusApp.rootScope.leftToRight = false;\r\n          } else {\r\n            $(\".app-body\").addClass(\"slideInRight\");\r\n          }\r\n        }\r\n\r\n        $(\".app-body\").addClass(\"animated\");\r\n        //$(\".app-body\").removeClass(\"slideOutUp\");\r\n      });\r\n      MyCampusApp.rootScope.cangelistadded = true;\r\n    }\r\n  } catch (e) {\r\n    alert(e)\r\n  }\r\n<\/script>\r\n\r\n<script>\r\n  try {\r\n    $(\"#mainSidebar\").css('background', '#232323 !important');\r\n\r\n    if ($.jStorage.get(\"userdetails\") != null && $.jStorage.get(\"userdetails\") != undefined) {\r\n      var e = document.getElementsByClassName(\"app\")[0];\r\n      var $injector = angular.element(e).injector();\r\n      var $location = $injector.get('$location');\r\n      //$location.path(\"/app/Home4/Home4\");\r\n      $.unblockUI();\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n\r\n    } else {\r\n      $.unblockUI();\r\n      var e = document.getElementsByClassName(\"app\")[0];\r\n      var $injector = angular.element(e).injector();\r\n      var $location = $injector.get('$location');\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n    }\r\n  } catch (e) {\r\n    //alert(e)\r\n  }\r\n<\/script>\r\n<script>\r\n  var onBackKeyDown = function(event) {\r\n    //alert('back');\r\n    var loc = window.location;\r\n    MyCampusApp.rootScope.leftToRight = true;\r\n    if (loc.hash == \"#/app/BlueLightEmergency50/BlueLightEmergency50\" || loc.hash == \"#/app/BlueLightEmergency50/BlueLightEmergency50\") {\r\n      navigator.app.exitApp();\r\n    } else if (loc.hash == \"#/app/BlueLightEmergency50/BlueLightEmergency50\") {\r\n      window.location.href = \"index.html#app/BlueLightEmergency50/BlueLightEmergency50\";\r\n      //alert(\"signuo\");\r\n    } else {\r\n      navigator.app.backHistory();\r\n\r\n    }\r\n  }\r\n  document.addEventListener(\"backbutton\", onBackKeyDown, true);\r\n<\/script>\r\n\r\n<script>\r\n  $('input:text').focusout(function() {\r\n\r\n    /*  document.getElementsByClassName('footerGroupIcons')[0].style.display = \"block !important\";\r\n     alert(document.getElementsByClassName('footerGroupIcons')[0].style.display);*/\r\n\r\n    $(\"#footerContentContainer\").addClass('footerGroupIcons').removeClass('hideFooter');\r\n    $(\"#bottomPoweredBy\").removeClass('hideFooter');\r\n\r\n  });\r\n\r\n  $('input:text').focusin(function() {\r\n    // document.getElementsByClassName('footerGroupIcons')[0].style.display = \"none !important\";\r\n    // alert(document.getElementsByClassName('footerGroupIcons')[0].style.display);\r\n    //$(\".footerGroupIcons\").css('display', 'none !important');\r\n\r\n    $(\"#footerContentContainer\").addClass('hideFooter').removeClass('footerGroupIcons');\r\n    $(\"#bottomPoweredBy\").addClass('hideFooter');\r\n  })\r\n  var Notification = PushNotification.init({\r\n    android: {\r\n      senderID: \"1012473507211\"\r\n    },\r\n    browser: {\r\n      pushServiceURL: 'http://push.api.phonegap.com/v1/push'\r\n    },\r\n    ios: {\r\n      alert: \"true\",\r\n      badge: \"true\",\r\n      sound: \"true\"\r\n    },\r\n    windows: {}\r\n  });\r\n\r\n  Notification.on('registration', function(data) {\r\n\r\n    var devicePushID = data.registrationId;\r\n  });\r\n\r\n  MyCampusApp.rootScope.inAppNotificationHandler(Notification);\r\n<\/script>",
  "middlewareServerUrl": null,
  "feedbackEmail": null,
  "backgroundurl": "BeckerMigration/background.png",
  "brandingurl": "BeckerMigration/branding.png",
  "customStyle": "#branding {\r\n  position: absolute !important;\r\n  bottom: 40px;\r\n  left: 0px !important;\r\n  right: 0px !important;\r\n  width: 50% !important;\r\n  margin: auto !important;\r\n}\r\n\r\nbody {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: 100% 100% !important;\r\n}\r\n\r\n.icon {\r\n  width: 56px !important;\r\n  height: 56px !important;\r\n}\r\n\r\n.campuseai-Info {\r\n  color: white;\r\n}\r\n\r\n.dockicon:after {\r\n  bottom: 0px !important;\r\n}\r\n\r\n.dockicon {\r\n  margin-bottom: 25px !important;\r\n}\r\n\r\n.blockUI i {\r\n  color: white !important;\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  #branding {\r\n    width: 50% !important;\r\n    margin: auto;\r\n  }\r\n  .icon {\r\n    width: 102px !important;\r\n    height: 102px !important;\r\n  }\r\n}\r\n\r\n.promptumenu_nav a.active {\r\n  background: #fff;\r\n  border-radius: 50%;\r\n  width: 10px;\r\n  height: 10px;\r\n}\r\n\r\n.promptumenu_nav a {\r\n  background: #00162f;\r\n  border-radius: 50%;\r\n  width: 10px;\r\n  height: 10px;\r\n}\r\n\r\n.promptumenu_window {\r\n  overflow: visible !important;\r\n}\r\n\r\n.promptumenu_nav {\r\n  margin-bottom: -3px;\r\n}\r\n\r\n.app-body {\r\n  padding-bottom: 19px !important;\r\n}\r\n\r\n.blockUI {\r\n  margin: auto !important;\r\n  left: 0px !important;\r\n  right: 0px !important;\r\n  width: auto !important;\r\n}\r\n\r\n#homedata .campuseai-Info {\r\n  width: 76px !important;\r\n  margin-left: -10px;\r\n}\r\n\r\n@media (min-width: 320px) and (max-width: 480px) {\r\n  .icon {\r\n    width: 56px !important;\r\n    height: 56px !important;\r\n  }\r\n  #homedata .campuseai-Info {\r\n    width: 76px !important;\r\n    margin-left: -10px;\r\n  }\r\n}\r\n\r\n@media (min-width: 320px) and (max-width: 568px) {\r\n  .icon {\r\n    width: 63px !important;\r\n    height: 63px !important;\r\n  }\r\n  #homedata .campuseai-Info {\r\n    width: 83px !important;\r\n    margin-left: -10px;\r\n  }\r\n}\r\n\r\n#mainSidebar .list-group-item {\r\n  border-bottom: 1px solid #000 !important;\r\n}\r\n\r\n#homedata .campuseai-Info {\r\n  font-weight: bold;\r\n  text-shadow: 2px 2px 2px #000;\r\n}\r\n.headerFooterBg{\r\n\tbackground-color:#1b284b;\r\n}\r\n\r\n.navbar-app, .sidebar, #mainSidebar { background : #1b284b !important; } .navbar-brand, .navbar-absolute-top .btn-navbar { color : #ffffff !important; } .navbar-absolute-bottom .navbar-inverse { background : #1b284b !important; } .navbar-absolute-bottom .navbar-inverse { color : #ffffff !important; } .app { background : #efefef !important; } .campuseai-Info { color : #000000 !important; } #mainSidebar .list-group-item { background :  !important; } #mainSidebar .list-group-item { color :  !important; } #mainSidebar .appgroup { background :  !important; } #mainSidebar .appgroup { color :  !important; } .btn-primary { background : #1b284b !important; } .btn-primary { color : #ffffff !important; } .btn-primary { border-color : #1b284b !important; } ",
  "authFunction": "function authFunction(uname, password, $http, $rootScope, success, error) {\r\n  alert (\"Tenant from Mycampus : \" + MyCampusApp.config.tenant);\r\n  alert (\"Tenant from Jstorage : \" + $.jStorage.get('tenant'));\r\n  $.jStorage.deleteKey('tenant');\r\n    var authSuccess = success;\r\n    var authError = error;\r\n    //Peoplesoft authentication\r\n    /*\r\n    var url = $rootScope.middlewareServerUrl + \"/services/ps/psholds\";\r\n    var data = {};\r\n    if (window.device) {\r\n        data = \"userId=\" + uname + \"&password=\" + password;\r\n    } else {\r\n        url = \"/websimulator/json?url=\" + url;\r\n        data = {\r\n            method: \"POST\",\r\n            body: \"userId=\" + uname + \"&password=\" + password\r\n        };\r\n    }\r\n    $.blockUI({\r\n        message: '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3>Authenticating<\/h3><\/div>'\r\n    });\r\n    alert(\"URL : \" + url);\r\n    $http.post(url, data).success(function (data, status, headers, config) {\r\n        success(data);\r\n        $.unblockUI();\r\n    }).error(function (data, status, headers, config) {\r\n        error(data);\r\n        $.unblockUI();\r\n    });\r\n*/\r\n    //Banner Authentication with CAS\r\n\r\n    /*var url = \"https://my.curry.edu/cas/v1/tickets/\";\r\n    var data = {};\r\n    if (window.device) {\r\n        data = \"username=\" + uname + \"&password=\" + password;\r\n    } else {\r\n        url = \"/websimulator/text?url=\" + url;\r\n        data = {\r\n            method: \"POST\",\r\n            body: \"username=\" + uname + \"&password=\" + password\r\n        };\r\n    }\r\n\r\n    $rootScope.generateST = function (tgt, service, callback) {\r\n        var data = {};\r\n        if (window.device) {\r\n            data = \"service=\" + service;\r\n        } else {\r\n            url = \"/websimulator/text?url=\" + \"https://my.curry.edu/cas/v1/tickets/\";\r\n            data = {\r\n                method: \"POST\",\r\n                body: \"service=\" + service\r\n            };\r\n        }\r\n\r\n        $.ajax({\r\n            url: url + tgt,\r\n            type: \"POST\",\r\n            async: true,\r\n            data: data,\r\n            error: function (response) {\r\n                alert(\"Error : \" + response);\r\n\r\n            },\r\n            success: function (data) {\r\n                //alert(\"Success : \" + data);\r\n                callback(data);\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    $.blockUI({\r\n        message: '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3>Authenticating<\/h3><\/div>'\r\n    });\r\n    $.ajax({\r\n        url: url,\r\n        type: \"POST\",\r\n        async: true,\r\n        data: data,\r\n        error: function (response) {\r\n            $.unblockUI();\r\n        },\r\n        success: function (data) {\r\n            //alert(\"Success : \" + data);\r\n            $.unblockUI();\r\n\r\n        },\r\n        complete: function (response, textStatus) {\r\n            //alert(\"complete : \" + response + \"  text status : \" + textStatus);\r\n            $.unblockUI();\r\n            if (textStatus == \"success\" && response.status == 201) {\r\n                var str = response.getResponseHeader('Location');\r\n                var tgtTicket = str.substr(str.lastIndexOf('/') + 1);\r\n                //generateST(tgtTicket);\r\n                success({\r\n                    \"ticket\": tgtTicket\r\n                });\r\n                $rootScope.$apply(function () {\r\n\r\n                    $rootScope.setRoute(\"/home\");\r\n\r\n                });\r\n\r\n\r\n            } else {\r\n                success({\r\n                    \"error\": \"Oops! Cannot log you in. Please check your login details.\"\r\n                });\r\n            }\r\n        }\r\n\r\n    });*/\r\n\r\n\r\n    //Banner Authentication with LDAP - middlware auth\r\n\r\n    var url = $rootScope.middlewareServerUrl + \"/bannermobile2/services/authenticate/login\";\r\n    var data = {};\r\n    if (window.device) {\r\n        data = \"username=\" + uname + \"&password=\" + password;\r\n    } else {\r\n        url = \"/websimulator/json?url=\" + url;\r\n        data = {\r\n            method: \"POST\",\r\n            body: \"username=\" + uname + \"&password=\" + password\r\n        };\r\n    }\r\n    var authUrl = url;\r\n    var authData = data;\r\n    $rootScope.generateST = function(tgt, service, callback) {\r\n        //Bypassing the ST as there is no service ticket required here..\r\n        callback(tgt);\r\n    };\r\n\r\n    $rootScope.postAPI = function(endpoint, postdata, callback) {\r\n        $.blockUI();\r\n        $rootScope.generateST($rootScope.ticket, endpoint, function(st) {\r\n            var serviceurl = endpoint + \"?ticket=\" + st;\r\n            var url = \"\";\r\n            var proxyMethod = \"POST\";\r\n            var proxyData = postdata;\r\n            if (window.device) {\r\n                url = serviceurl;\r\n            } else {\r\n                url = \"/websimulator/json?url=\" + serviceurl;\r\n                proxyMethod = \"POST\";\r\n                proxyData = {\r\n                    method: \"POST\",\r\n                    body: postdata\r\n                }\r\n            }\r\n            $http({\r\n                method: proxyMethod,\r\n                url: url,\r\n                data: proxyData\r\n            }).\r\n            success(function(data, status, headers, config) {\r\n                $.unblockUI();\r\n                callback(data, status, headers, config);\r\n            }).\r\n            error(function(data, status, headers, config) {\r\n                $.unblockUI();\r\n                //alert(\"Error in service call : \" + data + \" Status : \" + status);\r\n                if (status == 403) { //Ticket expired.. need to relogin\r\n                    $http.post(authUrl, authData).success(function(data, status, headers, config) {\r\n                        authSuccess(data);\r\n                        $rootScope.getAPI(endpoint, callback);\r\n                    }).error(function(data, status, headers, config) {\r\n                        authError(data);\r\n\r\n                    });\r\n                }\r\n\r\n            });\r\n\r\n        });\r\n\r\n    };\r\n\r\n    $rootScope.getAPI = function(endpoint, callback) {\r\n        $.blockUI();\r\n        $rootScope.generateST($rootScope.ticket, endpoint, function(st) {\r\n            var serviceurl = endpoint + \"?ticket=\" + st;\r\n            var url = \"\";\r\n            var proxyMethod = \"GET\";\r\n            var proxyData = {};\r\n            if (window.device) {\r\n                url = serviceurl;\r\n            } else {\r\n                url = \"/websimulator/json?url=\" + encodeURIComponent(serviceurl);\r\n                proxyMethod = \"POST\";\r\n                proxyData = {\r\n                    method: \"GET\"\r\n                }\r\n            }\r\n            $http({\r\n                method: proxyMethod,\r\n                url: url,\r\n                data: proxyData\r\n            }).\r\n            success(function(data, status, headers, config) {\r\n                $.unblockUI();\r\n                callback(data, status, headers, config);\r\n            }).\r\n            error(function(data, status, headers, config) {\r\n                $.unblockUI();\r\n                //alert(\"Error in service call : \" + data + \" Status : \" + status);\r\n                if (status == 403) { //Ticket expired.. need to relogin\r\n                    $http.post(authUrl, authData).success(function(data, status, headers, config) {\r\n                        authSuccess(data);\r\n                        $rootScope.getAPI(endpoint, callback);\r\n                    }).error(function(data, status, headers, config) {\r\n                        authError(data);\r\n\r\n                    });\r\n                }\r\n\r\n            });\r\n\r\n        });\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    $.blockUI({\r\n        message: '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3>Authenticating<\/h3><\/div>'\r\n    });\r\n\r\n    $http.post(url, data).success(function(data, status, headers, config) {\r\n        success(data);\r\n        $.unblockUI();\r\n    }).error(function(data, status, headers, config) {\r\n        error(data);\r\n        $.unblockUI();\r\n    });\r\n\r\n}",
  "forgotPasswordUrl": null,
  "portalGatewayUrl": null,
  "siteid": null,
  "loginaslanding": false,
  "reportissueEmail": null,
  "iconWidth": 70,
  "apps": 
  [
    {
      "id": 118525,
      "name": "BlueLightEmergency50",
      "displayname": "Becker Emergency",
      "logo": "BeckerMigration/BlueLightEmergency50.png",
      "logourl": "BeckerMigration/BlueLightEmergency50.png",
      "description": "BlueLight Emergency",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "BlueLightEmergency50",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $rootScope.fromEmail = pagedef.fromEmail ? pagedef.fromEmail : 'donotreply@blueLight.com';\r\n  $rootScope.collegeName = pagedef.collegename ? pagedef.collegename : '';\r\n  $rootScope.universityPhones = pagedef.universityphones ? pagedef.universityphones : [];\r\n  $rootScope.apikey = pagedef.apikey;\r\n  $rootScope.androidDownloadLink = pagedef.android;\r\n  $rootScope.iosDownloadLink =  pagedef.ios;\r\n\r\n\r\n  if ($.jStorage.get('termsCondition') == null || $.jStorage.get('termsCondition') == undefined) {\r\n    $.unblockUI();\r\n    $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page5\");\r\n    return;\r\n  }\r\n  $rootScope.showlogin = true;\r\n  setTimeout(function() {\r\n    $.unblockUI();\r\n  }, 2000);\r\n  if (!$rootScope.user) {\r\n\r\n    $rootScope.user = {};\r\n\r\n  }\r\n\r\n  if ($location.search().email != undefined && $location.search().email != '') {\r\n\r\n    $rootScope.emailTrack = $location.search().email;\r\n\r\n\r\n  }\r\n\r\n  if (!pagedef.IDPCLIENT && ($.jStorage.get('email') == undefined || $.jStorage.get('email') == '')) {\r\n    $.unblockUI();\r\n    navigator.notification.prompt(\" Please enter your Email ID.\\n Note:Email ID can't be changed.\", onPrompt, 'Registration', ['Register'], '');\r\n\r\n    function onPrompt(results) {\r\n\r\n      if (results.input1 == \"\") {\r\n\r\n        navigator.notification.prompt(\" Please enter your Email ID.\\nNote: Email ID can't be changed.)\", onPrompt, 'Registration', ['Register'], '');\r\n\r\n      } else {\r\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        if (!re.test(String(results.input1).toLowerCase())) {\r\n\r\n\r\n          navigator.notification.prompt(\" Please enter your Email ID.\\nNote: Email ID can't be changed.)\", onPrompt, 'Registration', ['Register'], '');\r\n        } else {\r\n\r\n\r\n          $rootScope.user.email = results.input1.toLowerCase();\r\n          $.jStorage.set('email', results.input1.toLowerCase());\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n  if ($.jStorage.get('email') != undefined && $.jStorage.get('email') != '') {\r\n\r\n\r\n    $rootScope.user.email = $.jStorage.get('email').toLowerCase();\r\n\r\n  }\r\n\r\n  var globalUrl = pagedef.url\r\n  if (!globalUrl || globalUrl == null) {\r\n    alert(\"Please enter url from studio\");\r\n    retrun;\r\n  }\r\n\r\n  $.jStorage.set('url', globalUrl);\r\n\r\n  if (window.device) {\r\n\r\n    $.jStorage.set('tenantId', MyCampusApp.config.tenant);\r\n\r\n\r\n\r\n  } else {\r\n\r\n    $.jStorage.set('tenantId', 'unifyeddev');\r\n\r\n  }\r\n\r\n\r\n  var tenantId = $.jStorage.get('tenantId');\r\n\r\n\r\n\r\n  $scope.flag = false;\r\n  var url = '';\r\n  var userInfo;\r\n  $scope.gurUpUser = {};\r\n  $scope.guardiansList = [];\r\n\r\n  var usertrackingInterval;\r\n  var gudata;\r\n  if ($rootScope.guardianTrackingShow == undefined)\r\n    $rootScope.guardianTrackingShow = true;\r\n  // var script = document.createElement(\"script\");\r\n\r\n  // Get the first script element on the page\r\n  var ref = window.document.getElementsByTagName('script')[0];\r\n\r\n  // Create a new script element\r\n  var script = window.document.createElement('script');\r\n\r\n  // Set the script element `src`\r\n  //script.src = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o';\r\n  script.src = \"https://maps.googleapis.com/maps/api/js?key=\" + $rootScope.apikey;\r\n  // Inject the script into the DOM\r\n  ref.parentNode.insertBefore(script, ref);\r\n\r\n  // script.type = \"text/javascript\";\r\n\r\n  //script.src = \"https://maps.googleapis.com/maps/api/js?key=AIzaSyBf-3Ff01fEYn-d6qC6mXaVAbKvOkPLOTY\";\r\n\r\n\r\n  // script.src = \"https://maps.googleapis.com/maps/api/js?key=\" + $rootScope.apikey\r\n  //script.id = \"googleMapApi\";\r\n  if ($('#googleMapApi').html() == '')\r\n    document.body.appendChild(script);\r\n  var mapDisplay = document.getElementById(\"MapMapCanvas\");\r\n  var mapheight = $(window).height() - ($(\"#appContent .list-group-item\").height() + $(\".navbar-absolute-top\").height() + $(\".navbar-absolute-bottom\").height() + 100)\r\n  $(\"#MapMapCanvas\").css(\"height\", mapheight + \"px\");\r\n\r\n\r\n\r\n\r\n  $scope.getUserTrackingDetails = function(trackMe) {\r\n\r\n    var lat = trackMe.lat;\r\n    var lng = trackMe.longitude;\r\n    var latlng = new google.maps.LatLng(lat, lng);\r\n    var myOptions = {\r\n      zoom: 14,\r\n      center: latlng,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP\r\n    };\r\n    map = new google.maps.Map(mapDisplay, myOptions);\r\n    //$scope.createMarker($scope.gurUpUser.fname + \" \"+ $scope.gurUpUser.lname +' current location', latlng)\r\n    map.addMarker($scope.createMarker($scope.gurUpUser.fname + \" \" + $scope.gurUpUser.lname + ' current location ', latlng));\r\n    //$scope.addMarker(latlng);\r\n  }\r\n\r\n  $scope.createMarker = function(text, latlng) {\r\n\r\n\r\n    var marker = new google.maps.Marker({\r\n      position: latlng,\r\n      map: map\r\n    });\r\n    infowindow = new google.maps.InfoWindow({\r\n      content: text\r\n    });\r\n    infowindow.open(map, marker);\r\n    return marker;\r\n  }\r\n\r\n  $scope.trackUserInterval = function() {\r\n\r\n\r\n    if (($rootScope.user == undefined || $rootScope.user == null || $rootScope.user == '') && ($rootScope.emailTrack != undefined && $rootScope.emailTrack == '')) {\r\n\r\n      var refreshUrl = $.jStorage.get('url') + \"/personal/\" + $scope.gurUpUser.email;\r\n\r\n      $http({\r\n        method: 'GET',\r\n        url: refreshUrl,\r\n        headers: {\r\n          \"X-Tenant-ID\": tenantId,\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        data: ''\r\n\r\n      }).then(function(res) {\r\n        $scope.gurUpUser = res.data;\r\n\r\n        if (!$scope.gurUpUser.trackMe.active) {\r\n\r\n          clearInterval(usertrackingInterval);\r\n\r\n          if (window.device) {\r\n            navigator.notification.alert(\"The user stopped tracking.\");\r\n\r\n          } else {\r\n            alert(\"The user stopped tracking.\");\r\n          }\r\n          $rootScope.guardianTrackingShow = true;\r\n          $rootScope.usertracking = false;\r\n          $rootScope.emailTrack = '';\r\n\r\n        } else {\r\n\r\n          var trackMe = res.data.trackMe;\r\n\r\n          if ($scope.flag == false) {\r\n\r\n            $scope.flag = true;\r\n            if (window.device) {\r\n\r\n              navigator.notification.alert(\"You are tracking Live location of: \" + $scope.gurUpUser.fname + \" \" + $scope.gurUpUser.lname);\r\n\r\n            } else {\r\n\r\n              alert(\"You are tracking Live location of: \" + $scope.gurUpUser.fname + \" \" + $scope.gurUpUser.lname);\r\n            }\r\n          }\r\n          $scope.getUserTrackingDetails(trackMe);\r\n        }\r\n\r\n\r\n\r\n      }, function(error) {\r\n\r\n        if (window.device) {\r\n          navigator.notification.alert(\"Error\");\r\n        } else {\r\n          alert(\"Error\");\r\n        }\r\n\r\n      });\r\n\r\n    } else {\r\n\r\n      var proxyMethod = \"POST\";\r\n\r\n\r\n      $scope.guardiansList = [];\r\n\r\n      var refreshUrl = $.jStorage.get('url') + \"/personal/\" + $scope.gurUpUser.email;\r\n\r\n      $http({\r\n        method: 'GET',\r\n        url: refreshUrl,\r\n        headers: {\r\n          \"X-Tenant-ID\": tenantId,\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        data: ''\r\n\r\n      }).then(function(res) {\r\n\r\n        setTimeout(function() {\r\n\r\n          $scope.gurUpUser = res.data;\r\n          $scope.guardiansList = $scope.gurUpUser.guardiansList;\r\n\r\n          for (var i = 0; i < $scope.guardiansList.length; i++) {\r\n\r\n            if ($scope.guardiansList[i].gudemail == $rootScope.user.email) {\r\n\r\n              $scope.guardiansList[i].guardianTracking = true;\r\n              break;\r\n            }\r\n          }\r\n\r\n\r\n          url = $.jStorage.get('url') + \"/personal/\" + $scope.gurUpUser.email;\r\n          $scope.gurUpUser.guardiansList = $scope.guardiansList;\r\n\r\n          var proxyData = $scope.gurUpUser;\r\n\r\n\r\n          $http({\r\n            method: proxyMethod,\r\n            url: url,\r\n            headers: {\r\n              \"X-Tenant-ID\": tenantId,\r\n              \"Content-Type\": \"application/json\"\r\n            },\r\n            data: proxyData\r\n\r\n          }).then(function(response) {\r\n\r\n\r\n\r\n            if (!response.data.trackMe.active) {\r\n\r\n              clearInterval(usertrackingInterval);\r\n\r\n              if (window.device) {\r\n                navigator.notification.alert(\"The user stopped tracking.\");\r\n\r\n              } else {\r\n                alert(\"The user stopped tracking.\");\r\n              }\r\n              $rootScope.guardianTrackingShow = true;\r\n              $rootScope.usertracking = false;\r\n              $rootScope.emailTrack = '';\r\n\r\n            } else {\r\n\r\n              var trackMe = response.data.trackMe;\r\n\r\n              if ($scope.flag == false) {\r\n\r\n                $scope.flag = true;\r\n                if (window.device) {\r\n\r\n                  navigator.notification.alert(\"You are tracking Live location of: \" + $scope.gurUpUser.fname + \" \" + $scope.gurUpUser.lname);\r\n\r\n                } else {\r\n\r\n                  alert(\"You are tracking Live location of: \" + $scope.gurUpUser.fname + \" \" + $scope.gurUpUser.lname);\r\n                }\r\n              }\r\n              $scope.getUserTrackingDetails(trackMe);\r\n            }\r\n\r\n\r\n          });\r\n\r\n\r\n        }, 1000);\r\n\r\n      }, function(error) {\r\n\r\n        if (window.device) {\r\n          navigator.notification.alert(\"Error\");\r\n        } else {\r\n          alert(\"Error\");\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n\r\n\r\n  }\r\n  $scope.trackMeConfirmation = function(btn) {\r\n\r\n    if (btn == 1) {\r\n      clearInterval(usertrackingInterval);\r\n      $rootScope.usertracking = false;\r\n      $rootScope.guardianTrackingShow = true;\r\n      $rootScope.emailTrack = '';\r\n\r\n      if (window.device) {\r\n\r\n        navigator.notification.alert(\"Tracking stopped\");\r\n        $location.path(\"#/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n      } else {\r\n        alert(\"Tracking stopped\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n\r\n  $scope.UpdateGuardianStatus = function(gEmail) {\r\n    var proxyMethod = \"GET\";\r\n\r\n    url = $.jStorage.get('url') + \"/personal/\" + gEmail;\r\n\r\n    var proxyData = gEmail;\r\n\r\n    $http({\r\n      method: proxyMethod,\r\n      url: url,\r\n      headers: {\r\n        \"X-Tenant-ID\": tenantId,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      data: proxyData\r\n\r\n    }).then(function(response) {\r\n\r\n      var refreshData = response.data;\r\n      if (!refreshData.trackMe.active) {\r\n\r\n\r\n        if (window.device) {\r\n          navigator.notification.alert(\"The user stopped tracking.\");\r\n        } else {\r\n          alert(\"The user stopped tracking.\");\r\n        }\r\n        $rootScope.usertracking = false;\r\n\r\n      } else {\r\n\r\n        $scope.gurUpUser = response.data;\r\n\r\n        var time = $scope.gurUpUser.additionalInfo.timeInterval;\r\n        if (parseInt(time) < 5)\r\n          time = time * 5;\r\n        time = time * 1000;\r\n        console.log(\"time\", time);\r\n        usertrackingInterval = setInterval($scope.trackUserInterval, time);\r\n        $scope.trackUserInterval();\r\n\r\n      }\r\n\r\n    }, function(data, status, headers, config) {\r\n\r\n    });\r\n  }\r\n\r\n  if ($rootScope.emailTrack != '' && $rootScope.emailTrack != undefined) {\r\n\r\n\r\n    $rootScope.usertracking = true;\r\n    $rootScope.guardianTrackingShow = false;\r\n    $scope.UpdateGuardianStatus($rootScope.emailTrack);\r\n\r\n  }\r\n\r\n  $scope.StopTrackingUser = function() {\r\n    if (!$rootScope.usertracking == true) {\r\n      $rootScope.guardianTrackingShow = true;\r\n      $rootScope.emailTrack = '';\r\n      clearInterval(usertrackingInterval);\r\n      $location.path(\"#/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n    } else {\r\n\r\n      if (window.device) {\r\n        navigator.notification.confirm(\"You are tracking user location. Are you sure you want to stop.\", $scope.trackMeConfirmation, 'Confirmation', ['Yes', 'No']);\r\n      } else {\r\n        $scope.trackMeConfirmation(1);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n  $rootScope.back = function() {\r\n    if ($rootScope.usertracking == false) {\r\n      clearInterval(usertrackingInterval);\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n    } else {\r\n      $scope.StopTrackingUser();\r\n\r\n    }\r\n  }\r\n\r\n  if (pagedef.icon_url) {\r\n\r\n    $rootScope.icon_url = pagedef.icon_url;\r\n  }\r\n\r\n\r\n  $scope.OpenClicked = function(id) {\r\n    switch (id) {\r\n      case 'profile':\r\n        {\r\n          $location.path('/app/BlueLightEmergency50/BlueLightEmergency50Page6');\r\n          break;\r\n        }\r\n      case 'guardians':\r\n        {\r\n          $location.path('/app/BlueLightEmergency50/BlueLightEmergency50Page2');\r\n          break;\r\n        }\r\n\r\n      case 'preference':\r\n        {\r\n          $location.path('/app/BlueLightEmergency50/BlueLightEmergency50Page7');\r\n          break;\r\n        }\r\n      case 'share':\r\n        {\r\n          $location.path('/app/BlueLightEmergency50/BlueLightEmergency50Page17');\r\n\r\n          break;\r\n        }\r\n      case 'places':\r\n        {\r\n          $location.path('/app/BlueLightEmergency50/BlueLightEmergency50Page12');\r\n          break;\r\n        }\r\n      case 'sendalert':\r\n        {\r\n          //$scope.AlertSend();\r\n          $location.path('/app/BlueLightEmergency50/BlueLightEmergency50Page10');\r\n          break;\r\n        }\r\n      case 'trackme':\r\n        {\r\n          $location.path('/app/BlueLightEmergency50/BlueLightEmergency50Page8');\r\n          break;\r\n        }\r\n      case 'trackuser':\r\n        {\r\n          $location.path('/app/BlueLightEmergency50/BlueLightEmergency50Page9');\r\n          break;\r\n        }\r\n    }\r\n  }\r\n\r\n\r\n\r\n  $scope.getPersonal = function() {\r\n\r\n\r\n\r\n\r\n    url = $.jStorage.get('url') + \"/personal\";\r\n    url = url + \"/\" + $rootScope.user.email;\r\n\r\n\r\n    var proxyMethod = \"GET\";\r\n\r\n    var data = {};\r\n    var proxyData = data;\r\n\r\n    $http({\r\n      method: proxyMethod,\r\n      url: url,\r\n      headers: {\r\n        \"X-Tenant-ID\": tenantId,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      data: proxyData\r\n\r\n    }).then(function(response) {\r\n\r\n\r\n      if (response.data != '') {\r\n\r\n        $scope.status = response.status;\r\n\r\n        if (response.data != '') {\r\n          $scope.data = response.data;\r\n\r\n\r\n          $.jStorage.set(\"PersonalInfo\", $scope.data);\r\n\r\n          $rootScope.PersonalInfo = response.data;\r\n\r\n        }\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  if ($rootScope.user.email)\r\n\r\n    $scope.getPersonal();\r\n\r\n\r\n\r\n\r\n}",
          "datatemplate": "<style>\r\n.bluelight_main ul li{ list-style: none;}\r\n.blue-light-block{    \r\n    overflow: hidden;\r\n}\r\n.blue-light-innergap{\r\n    height: 100px;\r\n    text-align: center;\r\n    cursor: pointer\r\n}\r\n.blue-light-alert svg path{\r\n    fill: #fff;\r\n    stroke: #fff;\r\n  }\r\n.blue-light-innergap{\r\n    border-bottom: 1px solid #e7e7e7;\r\n    position: relative;\r\n}\r\n.blue-light-block:nth-child(even){\r\n  padding-left:0px;\r\n}\r\n.blue-light-block:nth-child(odd){\r\n  padding-right:0px;\r\n}\r\n.blue-light-block:nth-child(odd) .blue-light-innergap{\r\n  border-right: 1px solid #e7e7e7;\r\n}\r\n.blue-light-block input , .blue-light-alert input{\r\n    opacity: 0;\r\n    position: absolute;\r\n}\r\n.bluelightTransFormBox{\r\n    position: absolute;\r\n    top: 50%;\r\n    right: 50%;\r\n    cursor: pointer;\r\n    transform: translate(50% , -50%);\r\n }\r\n.bluelightTransFormBox span{ margin-top: 10px; font-size: 16px; font-weight: normal; }\r\n\r\n<\/style>\r\n\r\n<div class=\"lg_webAppletContentPadding marginTop30px\" ng-hide='guardianTrackingShow'>\r\n<div class=\"list-group-item\">\r\n\t<div class=\"row\"> \r\n        <div class=\"col-md-12\"> \r\n        \t<span ng-click=\"StopTrackingUser()\" class='btn btn-primary pull-right'>Stop Tracking<\/span>\r\n<div class=\"font16 proximaSemiBold displayInline marginTop10\">You are now tracking <span class=\"colorDark proximaBoldFont\">{{gurUpUser.fname + \" \" + gurUpUser.lname  }} <\/span> location\r\n<\/div>\r\n<\/div>\r\n<\/div>\r\n<\/div>\r\n<div class=\"\" style=\"padding-top: 0px !important\">\r\n<div id=\"MapMapCanvas\" style=\"width:100%;height:100%;margin-top:10px;padding:0px;\"><\/div>\r\n<\/div> \r\n<\/div>\r\n\r\n<div class=\"bluelight_main\" ng-show='guardianTrackingShow'>\r\n<div class=\"list-group listItems lg_webAppletContentPadding marginTop30px\">\r\n<div class=\"list-group-item\">\r\n  <div class=\"row\">\r\n    <div class=\"col-xs-6 blue-light-block\"  ng-click=\"OpenClicked('profile')\">\r\n    <div class=\"blue-light-innergap\">\r\n      <input id='c1' type='checkbox'>\r\n      <label for='c1'> \r\n        <div class=\"bluelightTransFormBox\">\r\n          <svg version=\"1.1\" id=\"Layer_1\" class=\"icon30\"  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n          viewBox=\"0 0 48 48\" style=\"enable-background:new 0 0 48 48;\" xml:space=\"preserve\">\r\n          <path class=\"st0\" d=\"M23.9,26.8c7.1,0,12.9-5.7,13-12.8C36.9,6.8,31.2,1,24,1c-7.1,0-12.9,5.7-13,12.8c0,0,0,0,0,0\r\n          C11.1,21,16.8,26.8,23.9,26.8z M24,3.8c5.6,0,10.2,4.6,10.2,10.2S29.6,24.2,24,24.2S13.8,19.6,13.8,14l0,0C13.8,8.4,18.4,3.8,24,3.8\r\n          z M1.7,47h44.6c0.9,0,1.7-0.7,1.7-1.7c0,0,0,0,0,0c0-8.9-7.2-16.2-16.1-16.2H16.1C7.2,29.1,0,36.4,0,45.3C0,46.2,0.7,47,1.7,47\r\n          C1.7,47,1.7,47,1.7,47z M15.8,31.8h16.4c6.7,0,12.2,5.5,13.1,12.5H2.7C3.6,37.3,9.1,31.8,15.8,31.8L15.8,31.8z\"/>\r\n          <\/svg>\r\n        <span class=\"displayBlock marginTop10\">Profile<\/span>\r\n      <\/div>\r\n    <\/label>\r\n    <\/div>\r\n   <\/div>\r\n   <div  class=\"preferenceLH col-xs-6 blue-light-block\" ng-click=\"OpenClicked('preference')\">\r\n      <div class=\"blue-light-innergap\">\r\n      <input id='c4' type='checkbox'>\r\n      <label for='c4'>\r\n        <div class=\"bluelightTransFormBox\">\r\n          <svg version=\"1.1\" id=\"Layer_1\" class=\"icon30\"  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n          viewBox=\"0 0 48 48\" style=\"enable-background:new 0 0 48 48;\" xml:space=\"preserve\">\r\n          <path class=\"st0\" d=\"M40.9,0.7H7.1C3.2,0.7,0,3.9,0,7.8v32.4c0,3.9,3.2,7.1,7.1,7.1h33.7c3.9,0,7.1-3.2,7.1-7.1V7.8\r\n          C48,3.9,44.8,0.7,40.9,0.7z M45.3,40.2c0,2.4-2,4.4-4.4,4.4H7.1c-2.4,0-4.4-2-4.4-4.4V7.8c0-2.4,2-4.4,4.4-4.4h33.7\r\n          c2.4,0,4.4,2,4.4,4.4L45.3,40.2L45.3,40.2z M38.8,24.7V9.4c0-0.8-0.6-1.4-1.4-1.4c-0.8,0-1.4,0.6-1.4,1.4v15.2\r\n          c-2.6,0.7-4.1,3.5-3.3,6c0.5,1.6,1.7,2.9,3.3,3.3v4.5c0,0.8,0.6,1.4,1.4,1.4c0.8,0,1.4-0.6,1.4-1.4V34c2.6-0.7,4.1-3.5,3.3-6\r\n          C41.7,26.4,40.4,25.1,38.8,24.7z M37.4,31.5c-1.2,0-2.2-1-2.2-2.2s1-2.2,2.2-2.2c1.2,0,2.2,1,2.2,2.2C39.6,30.5,38.6,31.5,37.4,31.5\r\n          L37.4,31.5z M24,6.8c-2.7,0-4.9,2.2-4.9,4.9c0,2.2,1.4,4.1,3.5,4.7v22.1c0,0.8,0.6,1.4,1.4,1.4c0.8,0,1.4-0.6,1.4-1.4V16.4\r\n          c2.6-0.7,4.1-3.5,3.3-6C28.1,8.3,26.2,6.8,24,6.8z M24,13.9c-1.2,0-2.2-1-2.2-2.2s1-2.2,2.2-2.2c1.2,0,2.2,1,2.2,2.2\r\n          C26.2,12.9,25.2,13.9,24,13.9z M11.9,19.3V9.4c0-0.8-0.6-1.4-1.4-1.4c-0.8,0-1.4,0.6-1.4,1.4v9.9c-2.6,0.7-4.1,3.5-3.3,6\r\n          c0.5,1.6,1.7,2.9,3.3,3.3v9.9c0,0.8,0.6,1.4,1.4,1.4c0.8,0,1.4-0.6,1.4-1.4v-9.9c2.6-0.7,4.1-3.5,3.3-6C14.8,21,13.5,19.8,11.9,19.3\r\n          L11.9,19.3z M10.6,26.2c-1.2,0-2.2-1-2.2-2.2s1-2.2,2.2-2.2c1.2,0,2.2,1,2.2,2.2C12.7,25.2,11.8,26.2,10.6,26.2L10.6,26.2z\"/>\r\n          <\/svg>\r\n          <span class=\"displayBlock marginTop10\">Preferences<\/span>\r\n        <\/div>\r\n      <\/label>\r\n      <\/div>\r\n    <\/div>\r\n    <div  class=\"preferenceLH col-xs-6 blue-light-block\" ng-click=\"OpenClicked('guardians')\">\r\n      <div class=\"blue-light-innergap\"  >\r\n      <input id='c2' type='checkbox'>\r\n      <label for='c2'>\r\n        <div class=\"bluelightTransFormBox\">\r\n            <svg version=\"1.1\" id=\"Capa_1\" class=\"icon30\"  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n            viewBox=\"0 0 48 48\" style=\"enable-background:new 0 0 48 48;\" xml:space=\"preserve\">\r\n            <path class=\"st0\" d=\"M42.3,48H9.6c-1,0-1.9-0.4-2.6-1.1C6.4,46.2,6,45.3,6,44.4v-3.5H5.3c-1.8,0-3.2-1.4-3.2-3.2v-0.2\r\n            c0-1.8,1.4-3.2,3.2-3.2H6v-7H5.3c-1.8,0-3.2-1.4-3.2-3.2v-0.2c0-1.8,1.4-3.2,3.2-3.2H6v-7H5.3c-1.8,0-3.2-1.4-3.2-3.2v-0.2\r\n            c0-1.8,1.4-3.2,3.2-3.2H6V3.6C6,1.6,7.6,0,9.6,0h32.7c1,0,1.9,0.4,2.6,1.1c0.7,0.7,1.1,1.6,1.1,2.6v40.7C45.9,46.4,44.3,48,42.3,48z\r\n            M8.4,40.9v3.5c0,0.3,0.1,0.6,0.4,0.9c0.2,0.2,0.5,0.3,0.9,0.3h32.7c0.7,0,1.2-0.6,1.2-1.2l0-40.7c0-0.7-0.6-1.2-1.2-1.2H9.6\r\n            C9,2.4,8.4,3,8.4,3.6v3.5H9c1.8,0,3.2,1.4,3.2,3.2v0.2c0,1.8-1.4,3.2-3.2,3.2H8.4v7H9c1.8,0,3.2,1.4,3.2,3.2v0.2\r\n            c0,1.8-1.4,3.2-3.2,3.2H8.4v7.1h0.7c1.8,0,3.2,1.4,3.2,3.2v0.2c0,1.8-1.4,3.2-3.2,3.2H8.4z M5.3,36.8c-0.2,0-0.4,0.1-0.5,0.2\r\n            c-0.1,0.1-0.2,0.3-0.2,0.5v0.2c0,0.4,0.3,0.7,0.7,0.7l3.8,0c0.4,0,0.7-0.3,0.7-0.7v-0.2c0-0.4-0.3-0.7-0.7-0.7H5.3z M5.3,23.2\r\n            c-0.4,0-0.7,0.3-0.7,0.7v0.2c0,0.4,0.3,0.7,0.7,0.7l3.8,0c0.4,0,0.7-0.3,0.7-0.7v-0.2c0-0.4-0.3-0.7-0.7-0.7H5.3z M5.3,9.6\r\n            c-0.2,0-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5v0.2c0,0.4,0.3,0.7,0.7,0.7l3.8,0c0.4,0,0.7-0.3,0.7-0.7v-0.2\r\n            c0-0.4-0.3-0.7-0.7-0.7H5.3z\"/>\r\n            <path class=\"st0\" d=\"M38.9,30.8l-9.8-16.3c-0.4-0.6-1.1-1-1.8-1c-0.8,0-1.5,0.4-1.8,1l-9.8,16.3c-0.4,0.7-0.4,1.5,0,2.2\r\n            c0.4,0.7,1.1,1.1,1.9,1.1h19.7c0.8,0,1.5-0.4,1.9-1.1C39.4,32.3,39.3,31.5,38.9,30.8z M36,31.3c-0.1,0.2-0.3,0.3-0.4,0.3H18.9\r\n            c-0.2,0-0.3-0.1-0.4-0.3c-0.1-0.2-0.1-0.4,0-0.5L26.8,17c0.1-0.1,0.3-0.2,0.4-0.2c0.2,0,0.3,0.1,0.4,0.2L36,30.8\r\n            C36.1,30.9,36.1,31.1,36,31.3z\"/>\r\n            <path class=\"st0\" d=\"M27.2,21c-0.8,0-1.4,0.3-1.4,0.9c0,1.7,0.3,2.2,0.3,3.9c0,0.4,0.5,0.6,1.1,0.6c0.4,0,1.1-0.2,1.1-0.6\r\n            c0-1.7,0.3-2.2,0.3-3.9C28.6,21.3,27.9,21,27.2,21z\"/>\r\n            <path class=\"st0\" d=\"M27.2,27.3c-0.7,0-1.3,0.6-1.3,1.3c0,0.7,0.5,1.3,1.3,1.3c0.7,0,1.2-0.6,1.2-1.3\r\n            C28.5,27.9,27.9,27.3,27.2,27.3z\"/>\r\n            <\/svg>\r\n          <span class=\"displayBlock marginTop10\">Alert Contacts<\/span>\r\n        <\/div>\r\n      <\/label>\r\n     <\/div>\r\n    <\/div>\r\n    <div class=\"TrackMeLH col-xs-6 blue-light-block\"  ng-click=\"OpenClicked('trackme')\">\r\n      <div class=\"blue-light-innergap\">\r\n      <input id='c5' type='checkbox'>\r\n      <label for='c5'>\r\n        <div class=\"bluelightTransFormBox\">\r\n            <svg version=\"1.1\" id=\"Layer_1\" class=\"icon30\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n            viewBox=\"0 0 48 48\" style=\"enable-background:new 0 0 48 48;\" xml:space=\"preserve\">\r\n            <path d=\"M41.9,46.3l-6.3-13.4c-0.1-0.3-0.3-0.5-0.6-0.6l-3.1-1.4l5.5-9.1c0,0,0,0,0-0.1c1.1-2.1,1.6-4.4,1.6-6.8\r\n            c0-4-1.6-7.8-4.4-10.6C31.6,1.5,27.8-0.1,23.8,0c-3.9,0.1-7.6,1.6-10.4,4.4c-2.8,2.8-4.3,6.5-4.3,10.4c0,2.4,0.6,4.8,1.6,6.9\r\n            c0,0,0,0,0,0.1l5.5,9.1L13,32.3c-0.3,0.1-0.5,0.3-0.6,0.6L6.1,46.3c-0.2,0.4-0.1,1,0.2,1.3c0.3,0.4,0.9,0.5,1.3,0.3l7.9-3.5\r\n            l7.9,3.5c0.3,0.1,0.7,0.1,1,0l7.9-3.5l7.9,3.5c0.2,0.1,0.3,0.1,0.5,0.1c0.3,0,0.6-0.1,0.8-0.4C42,47.3,42.1,46.8,41.9,46.3z\r\n            M12.8,20.6c-0.9-1.8-1.4-3.7-1.4-5.8c0-6.8,5.6-12.4,12.4-12.5c3.4,0,6.6,1.2,9,3.6c2.4,2.4,3.7,5.6,3.7,8.9c0,2-0.5,3.9-1.4,5.7\r\n            L25,37.7c-0.3,0.5-0.8,0.6-1,0.6c-0.2,0-0.7-0.1-1-0.6L12.8,20.6z M32.9,42c-0.3-0.1-0.7-0.1-1,0L24,45.5L16.1,42\r\n            c-0.3-0.1-0.7-0.1-1,0l-5.5,2.4l4.8-10.1l3-1.3l3.5,5.9c0.6,1.1,1.8,1.7,3.1,1.7s2.4-0.6,3.1-1.7l3.5-5.9l3,1.3l4.8,10.1L32.9,42z\r\n            \"/>\r\n            <path d=\"M24,9.5c-3,0-5.4,2.4-5.4,5.4s2.4,5.4,5.4,5.4c3,0,5.4-2.4,5.4-5.4S27,9.5,24,9.5z M24,18c-1.7,0-3-1.4-3-3\r\n            c0-1.7,1.4-3,3-3c1.7,0,3,1.4,3,3S25.7,18,24,18z\"/>\r\n            <\/svg>\r\n          <span class=\"displayBlock marginTop10\">Track Me<\/span>\r\n        <\/div>\r\n      <\/label>\r\n      <\/div>\r\n    <\/div> \r\n    <div  class=\"TrackMeLH col-xs-6 blue-light-block\" ng-click=\"OpenClicked('trackuser')\">\r\n      <div class=\"blue-light-innergap\">\r\n      <input id='c5' type='checkbox'>\r\n      <label for='c5'>\r\n        <div class=\"bluelightTransFormBox\">\r\n            <svg version=\"1.1\" id=\"Capa_1\" class=\"icon30\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n            viewBox=\"0 0 48 48\" style=\"enable-background:new 0 0 48 48;\" xml:space=\"preserve\">\r\n            <path d=\"M38.1,45.2H26.8l11.8-15.9c2.4-3.2,3.6-7,3.6-11C42.3,8.2,34.1,0,24,0S5.7,8.2,5.7,18.3c0,4,1.3,7.8,3.6,11l11.8,16H9.9\r\n            c-0.8,0-1.4,0.6-1.4,1.4S9.2,48,9.9,48h28.1c0.8,0,1.4-0.6,1.4-1.4S38.8,45.2,38.1,45.2z M11.6,27.6c-2-2.7-3.1-5.9-3.1-9.3\r\n            C8.5,9.8,15.5,2.8,24,2.8s15.5,6.9,15.5,15.5c0,3.4-1.1,6.6-3.1,9.3L24,44.2L11.6,27.6z\"/>\r\n            <path d=\"M24,5.3C17,5.3,11.3,11,11.3,18c0,7,5.7,12.7,12.7,12.7c6.9,0,12.7-5.6,12.7-12.7C36.7,11,31,5.3,24,5.3z M24,27.8\r\n            c-2,0-3.8-0.6-5.4-1.6c0.7-2.3,2.9-4,5.4-4s4.7,1.7,5.4,4C27.8,27.3,26,27.8,24,27.8z M21.2,16.6c0-1.6,1.3-2.8,2.8-2.8\r\n            s2.8,1.3,2.8,2.8s-1.3,2.8-2.8,2.8S21.2,18.1,21.2,16.6z M31.6,24.2c-0.7-1.5-1.9-2.9-3.5-3.8c1-1,1.5-2.4,1.5-3.9\r\n            c0-3.1-2.5-5.6-5.6-5.6s-5.6,2.5-5.6,5.6c0,1.5,0.6,2.9,1.5,3.9c-1.6,0.9-2.8,2.2-3.5,3.8c-1.4-1.7-2.2-3.9-2.2-6.2\r\n            c0-5.4,4.4-9.8,9.8-9.8s9.8,4.4,9.8,9.8C33.8,20.4,33,22.5,31.6,24.2z\"/>\r\n            <\/svg>\r\n         <span class=\"displayBlock marginTop10\">Track User<\/span>\r\n        <\/div>\r\n      <\/label>\r\n      <\/div>\r\n    <\/div>\r\n\r\n    <div  class=\"TrackMeLH col-xs-6 blue-light-block\" ng-click=\"OpenClicked('share')\">\r\n      <div class=\"blue-light-innergap\">\r\n      <input id='c5' type='checkbox'>\r\n      <label for='c5'>\r\n        <div class=\"bluelightTransFormBox\">\r\n            <svg version=\"1.1\" id=\"Layer_1\" class=\"icon30\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n            viewBox=\"0 0 48 48\" style=\"enable-background:new 0 0 48 48;\" xml:space=\"preserve\">\r\n            <path class=\"st0\" d=\"M24,0C13.9,0,5.8,8.1,5.8,18.2c0,9.8,16.8,28.7,17.5,29.5c0.3,0.4,0.9,0.4,1.3,0.1c0,0,0.1,0,0.1-0.1\r\n            c0.7-0.8,17.5-19.7,17.5-29.5C42.2,8.1,34.1,0,24,0z M24,44.9L24,44.9C20.9,41.3,8.2,26.1,8.2,18.4C8.3,9.7,15.4,2.6,24.1,2.7\r\n            c8.6,0.1,15.6,7,15.7,15.7C39.8,26.1,27.1,41.3,24,44.9z\"/>\r\n            <path class=\"st0\" d=\"M24.3,6.3C24.3,6.3,24.3,6.3,24.3,6.3L24.3,6.3c-7,0-12.7,5.7-12.6,12.7c0,7,5.7,12.6,12.7,12.6\r\n            C31.4,31.6,37,26,37,19C37,12,31.3,6.3,24.3,6.3z M24.3,29.2C24.3,29.2,24.3,29.2,24.3,29.2L24.3,29.2c-5.6,0-10.2-4.6-10.1-10.2\r\n            c0-5.6,4.6-10.2,10.2-10.1c5.6,0,10.1,4.6,10.1,10.2C34.5,24.6,30,29.2,24.3,29.2z\"/>\r\n            <path class=\"st0\" d=\"M27.3,16.9c1.7,0,3.1-1.4,3.1-3.1c0-1.7-1.4-3.1-3.1-3.1c-1.7,0-3.1,1.4-3.1,3.1c0,0.1,0,0.1,0,0.2l-4.4,2.5\r\n            c-1.3-1-3.1-0.9-4.2,0.4c-1.1,1.3-1,3.2,0.3,4.3c1.1,1,2.8,1,3.9,0.1l4.4,2.6c0,0.1,0,0.1,0,0.2c0,1.7,1.4,3,3.1,3l0,0\r\n            c0.9,0,1.7-0.4,2.3-1.1c1.1-1.3,1-3.2-0.3-4.3c-1.1-1-2.8-1-3.9-0.1L21,19.2c0-0.1,0-0.1,0-0.2c0-0.1,0-0.1,0-0.2l4.4-2.6\r\n            C25.9,16.7,26.6,16.9,27.3,16.9z M27.3,12.9L27.3,12.9c0.6,0,1,0.4,1,1c0,0.6-0.4,1-1,1c-0.6,0-1-0.4-1-1\r\n            C26.3,13.3,26.7,12.9,27.3,12.9z M17.9,20c-0.6,0-1-0.4-1-1c0-0.6,0.4-1,1-1l0,0c0.6,0,1,0.4,1,1C18.9,19.5,18.5,20,17.9,20z\r\n            M27.3,23.1L27.3,23.1c0.6,0,1,0.4,1,1c0,0.6-0.4,1-1,1c-0.6,0-1-0.4-1-1C26.3,23.6,26.7,23.1,27.3,23.1z\"/>\r\n            <\/svg>\r\n\r\n          <span class=\"displayBlock marginTop10\">Share location<\/span>\r\n        <\/div>\r\n      <\/label>\r\n      <\/div>\r\n    <\/div>\r\n    <div class=\"TrackMeLH col-xs-6 blue-light-block\" ng-click=\"OpenClicked('places')\">\r\n      <div class=\"blue-light-innergap\">\r\n      <input id='c5' type='checkbox'>\r\n      <label for='c5'>\r\n        <div class=\"bluelightTransFormBox\">\r\n            <svg version=\"1.1\" id=\"Layer_1\" class=\"icon30\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n            viewBox=\"0 0 48 48\" style=\"enable-background:new 0 0 48 48;\" xml:space=\"preserve\">\r\n            <path class=\"st0\" d=\"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24S37.3,0,24,0z M24,45.3C12.2,45.3,2.7,35.8,2.7,24\r\n            S12.2,2.7,24,2.7S45.3,12.2,45.3,24S35.8,45.3,24,45.3L24,45.3z M36.5,18.8h-7.3v-7.3c0-0.6-0.5-1-1-1l0,0h-8.3c-0.6,0-1,0.5-1,1\r\n            l0,0v7.3h-7.3c-0.6,0-1,0.5-1,1l0,0v8.3c0,0.6,0.5,1,1,1l0,0h7.3v7.3c0,0.6,0.5,1,1,1l0,0h8.3c0.6,0,1-0.5,1-1l0,0v-7.3h7.3\r\n            c0.6,0,1-0.5,1-1l0,0v-8.3C37.5,19.3,37.1,18.8,36.5,18.8L36.5,18.8z M34.9,27h-7c-0.5,0-1,0.4-1,1l0,0v6.9H21V28c0-0.5-0.4-1-1-1\r\n            l0,0h-6.9v-6H20c0.5,0,1-0.4,1-1l0,0v-6.9h6V20c0,0.5,0.4,1,1,1l0,0h6.9V27L34.9,27z\"/>\r\n            <\/svg>\r\n        <span class=\"displayBlock marginTop10\">Emergency Places<\/span>\r\n        <\/div>\r\n      <\/label>\r\n      <\/div>\r\n    <\/div>\r\n\r\n\r\n  <div class=\"col-xs-6 blue-light-block blue-light-alert\"  ng-click=\"OpenClicked('sendalert')\" >\r\n    <div class=\"blue-light-innergap\"  style=\"background: #cc0000\">\r\n      <input id='c1' type='checkbox'>\r\n      <label for='c1'> \r\n        <div class=\"bluelightTransFormBox\">\r\n            \r\n<svg version=\"1.1\" class=\"icon30\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n   viewBox=\"0 0 512 512\" style=\"enable-background:new 0 0 512 512;\" xml:space=\"preserve\">\r\n    <path d=\"M349.867,0H162.133c-23.553,0.028-42.639,19.114-42.667,42.667v426.667c0.028,23.553,19.114,42.639,42.667,42.667h187.733\r\n      c23.553-0.028,42.639-19.114,42.667-42.667V42.667C392.506,19.114,373.419,0.028,349.867,0z M375.467,469.333\r\n      c-0.015,14.132-11.468,25.585-25.6,25.6H162.133c-14.132-0.015-25.585-11.468-25.6-25.6V409.6h238.933V469.333z M375.467,392.533\r\n      H136.533v-307.2h238.933V392.533z M375.467,68.267H136.533v-25.6c0.015-14.132,11.468-25.585,25.6-25.6h187.733\r\n      c14.132,0.015,25.585,11.468,25.6,25.6V68.267z\"/>\r\n    <path d=\"M256,426.667c-14.138,0-25.6,11.462-25.6,25.6c0.015,14.132,11.468,25.585,25.6,25.6c14.138,0,25.6-11.462,25.6-25.6\r\n      C281.6,438.128,270.138,426.667,256,426.667z M256,460.8c-4.713,0-8.533-3.821-8.533-8.533c0.005-4.711,3.822-8.529,8.533-8.533\r\n      c4.713,0,8.533,3.821,8.533,8.533C264.533,456.979,260.713,460.8,256,460.8z\"/>\r\n    <path d=\"M229.717,39.425c-0.413-1.044-1.021-2-1.791-2.817c-2.453-2.425-6.126-3.133-9.304-1.792\r\n      c-1.033,0.433-1.984,1.039-2.813,1.792c-0.773,0.815-1.383,1.772-1.796,2.817c-1.835,4.293,0.157,9.26,4.449,11.095\r\n      c1.076,0.46,2.235,0.691,3.404,0.68c4.664,0.048,8.485-3.694,8.533-8.358C230.412,41.668,230.179,40.504,229.717,39.425z\"/>\r\n    <path d=\"M290.133,34.133H256c-4.713,0-8.533,3.82-8.533,8.533S251.287,51.2,256,51.2h34.133c4.713,0,8.533-3.82,8.533-8.533\r\n      S294.846,34.133,290.133,34.133z\"/>\r\n    <path d=\"M185.236,104.903c-0.001-0.001-0.002-0.002-0.003-0.003c-3.33-3.332-8.732-3.333-12.064-0.003\r\n      c-0.001,0.001-0.002,0.002-0.003,0.003L156.1,121.967c-3.353,3.311-3.387,8.714-0.076,12.066\r\n      c3.311,3.353,8.713,3.387,12.066,0.076c0.025-0.025,0.051-0.05,0.076-0.076l17.067-17.067\r\n      C188.565,113.636,188.566,108.235,185.236,104.903z\"/>\r\n    <path d=\"M236.358,104.9c-3.323-3.282-8.668-3.282-11.991,0l-51.2,51.2c-3.332,3.331-3.333,8.732-0.003,12.064\r\n      c0.001,0.001,0.002,0.002,0.003,0.003c3.33,3.332,8.732,3.333,12.064,0.003c0.001-0.001,0.002-0.002,0.003-0.003l51.2-51.2\r\n      C239.745,113.614,239.711,108.211,236.358,104.9z\"/>\r\n    <path d=\"M337.125,273.2l-60.079-98.783c-6.565-11.623-21.31-15.723-32.934-9.158c-3.829,2.163-6.995,5.329-9.158,9.158\r\n      L174.875,273.2c-5.46,9.019-5.637,20.281-0.463,29.467c4.238,7.964,12.488,12.976,21.508,13.067h120.158\r\n      c9.02-0.091,17.27-5.103,21.508-13.067C342.762,293.481,342.585,282.219,337.125,273.2z M322.713,294.3L322.713,294.3\r\n      c-1.246,2.56-3.79,4.234-6.633,4.367H195.921c-2.844-0.132-5.388-1.807-6.633-4.367c-2.115-3.82-2.05-8.474,0.171-12.233\r\n      l60.079-98.783c1.697-3.569,5.966-5.087,9.535-3.39c1.486,0.707,2.684,1.904,3.39,3.39l60.079,98.783\r\n      C324.762,285.826,324.827,290.48,322.713,294.3z\"/>\r\n    <path d=\"M256.004,204.8c-0.001,0-0.003,0-0.004,0c-4.712-0.001-8.532,3.817-8.533,8.529c0,0.001,0,0.003,0,0.004v34.133\r\n      c0,4.713,3.82,8.533,8.533,8.533s8.533-3.82,8.533-8.533v-34.133C264.535,208.622,260.716,204.801,256.004,204.8z\"/>\r\n    <path d=\"M263.851,269.825c-0.433-1.034-1.039-1.987-1.792-2.817c-3.421-3.158-8.695-3.158-12.117,0\r\n      c-0.755,0.829-1.363,1.782-1.796,2.817c-0.906,2.066-0.906,4.417,0,6.483c0.78,2.141,2.467,3.828,4.608,4.608\r\n      c3.176,1.362,6.861,0.653,9.304-1.791c0.751-0.832,1.357-1.784,1.792-2.817C264.762,274.244,264.762,271.89,263.851,269.825z\"/>\r\n<\/svg>\r\n\r\n        <span class=\"displayBlock marginTop10\" style=\"color: #ffffff\" >Send Alert<\/span>\r\n      <\/div>\r\n    <\/label>\r\n    <\/div>\r\n   <\/div>\r\n  <\/div>\r\n  <div class=\"clearfix\"><\/div>\r\n<\/div>\r\n<\/div>\r\n<\/div>",
          "IDPCLIENT": null,
          "icon_url": "https://studio.unifyed.com/metaData/appLogo/106958?q=1538729616250",
          "apikey": "AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o",
          "url": "https://unifyedprod.unifyed.com/unifyd-gateway/api/unifydbluelight/open",
          "universityphones": 
          [
            {
              "name": "Emergency Phone Number",
              "phone": "5083739555"
            },
            {
              "name": "Worcester- Boutin Hall",
              "phone": "5083739559"
            },
            {
              "phone": "7743540606",
              "name": "Leicester- Susan E. Knight Hall"
            }
          ],
          "fromEmail": "Donotreply@getbluelightapp.com",
          "collegename": "Becker college",
          "ios": "https://itunes.apple.com/cv/app/bluelight-emergency/id993846844?mt=8",
          "android": "https://play.google.com/store/apps/details?id=com.kryptosmobile.Emergency&reviewId=gp:AOqpTOFT05Kt0yB8p5kDeVWb-UdTH8n4QwTMybyAETMYR-6qmS_EahAwx4GVobG0ehmy0S7Sw68yJH9Ceg-kvA"
        },
        {
          "pageid": "BlueLightEmergency50Page2",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "  function pageprocessorBlueLightEmergency50Page2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $rootScope.back = function() {\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n    };\r\n    var tenantId = $.jStorage.get('tenantId');\r\n    $scope.getPersonal = function() {\r\n\r\n\r\n      url = $.jStorage.get('url') + \"/personal\";\r\n      url = url + \"/\" + $rootScope.user.email;\r\n      var proxyMethod = \"GET\";\r\n\r\n      var data = {};\r\n      var proxyData = data;\r\n      $.blockUI();\r\n      $http({\r\n        method: proxyMethod,\r\n        url: url,\r\n        headers: {\r\n          \"X-Tenant-ID\": tenantId,\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        data: proxyData\r\n\r\n      }).then(function(response) {\r\n        $.unblockUI();\r\n\r\n\r\n        if (response.data != '') {\r\n\r\n          $scope.status = response.status;\r\n\r\n          if (response.data != '') {\r\n            $scope.data = response.data;\r\n\r\n\r\n            $.jStorage.set(\"PersonalInfo\", $scope.data);\r\n\r\n            $rootScope.PersonalInfo = response.data;\r\n\r\n          }\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n    $scope.getPersonal();\r\n\r\n    if ($.jStorage.get(\"PersonalInfo\") == null) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please update your profile\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page6\");\r\n        return;\r\n      } else {\r\n        alert(\"Please update your profile\");\r\n      }\r\n      return;\r\n    }\r\n\r\n    var tenantid = \"BlueLight\";\r\n    var mobappid = \"BlueLight\"\r\n    var featureid = \"31808\";\r\n    $scope.PerEmail = $rootScope.user.email;\r\n    var url = $.jStorage.get('url') + \"/personal/\" + $scope.PerEmail;\r\n\r\n    $scope.editGud = true;\r\n    $scope.delGud = true;\r\n\r\n\r\n\r\n    $scope.AddMoreGuardians = function() {\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page3\");\r\n    }\r\n    $scope.EditGuardian = function(index) {\r\n\r\n      angular.forEach($rootScope.GuardiansData, function(value, key) {\r\n\r\n        if (key == index) {\r\n\r\n          $rootScope.editGud = $rootScope.GuardiansData[key];\r\n          $rootScope.editGud._id = index;\r\n\r\n        }\r\n      });\r\n\r\n\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page4\");\r\n    }\r\n\r\n    $scope.deleteIndex = '';\r\n    $scope.deleteGuardian = function(index) {\r\n\r\n      if (window.device) {\r\n        navigator.notification.confirm(\"Are you sure you want delete the guardian?\", $scope.cnfDeleteGuardian, 'Delete Guardian?', ['Yes', 'No']);\r\n      } else {\r\n\r\n        $scope.cnfDeleteGuardian(1);\r\n\r\n      }\r\n\r\n      $scope.deleteIndex = index;\r\n\r\n\r\n    }\r\n\r\n    $scope.cnfDeleteGuardian = function(btn) {\r\n\r\n      if (btn === 1) {\r\n\r\n        angular.forEach($rootScope.GuardiansData, function(value, key) {\r\n\r\n\r\n          if (key == $scope.deleteIndex) {\r\n\r\n            $rootScope.GuardiansData.splice(key, 1);\r\n\r\n          }\r\n          $rootScope.PersonalInfo.guardiansList = $rootScope.GuardiansData;\r\n\r\n          $.jStorage.set(\"PersonalInfo\", $rootScope.PersonalInfo);\r\n\r\n\r\n        });\r\n\r\n\r\n\r\n\r\n        $.blockUI();\r\n        proxyData = $rootScope.PersonalInfo;\r\n        var proxyMethod = \"POST\";\r\n        $http({\r\n          method: proxyMethod,\r\n          url: url,\r\n          headers: {\r\n            \"X-Tenant-ID\": tenantId,\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          data: proxyData\r\n\r\n        }).then(function(response) {\r\n          $scope.data = response.data;\r\n          $rootScope.PersonalInfo = $scope.data;\r\n          $rootScope.GuardiansData = $rootScope.PersonalInfo.guardiansList;\r\n          if ($rootScope.GuardiansData.length >= 5) {\r\n            $(\"#addGud\").hide();\r\n          } else {\r\n            $(\"#addGud\").show();\r\n          }\r\n          $.unblockUI();\r\n\r\n          if (window.device) {\r\n            navigator.notification.alert(\"Guardian removed.\");\r\n          } else {\r\n            alert(\"Guardian removed.\", null, 'Guardian', 'Ok');\r\n          }\r\n\r\n          checkGuardiansData();\r\n        }, function(error) {\r\n\r\n          alert(error);\r\n          $.unblockUI();\r\n        });\r\n      }\r\n    }\r\n\r\n    var Guddata;\r\n    var GuardianData;\r\n\r\n    var checkGuardiansData = function() {\r\n\r\n\r\n\r\n      var proxyMethod = \"GET\";\r\n\r\n      var email = $scope.PerEmail;\r\n\r\n      var proxyData = email;\r\n\r\n      $.blockUI();\r\n      $http({\r\n        method: proxyMethod,\r\n        url: url,\r\n        headers: {\r\n          \"X-Tenant-ID\": tenantId,\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        data: ''\r\n\r\n      }).then(function(response) {\r\n        $.unblockUI();\r\n\r\n        $scope.data = response.data;\r\n        $rootScope.PersonalInfo = $scope.data;\r\n        $rootScope.GuardiansData = $rootScope.PersonalInfo.guardiansList;\r\n\r\n\r\n\r\n        if ($rootScope.GuardiansData == null || $rootScope.GuardiansData == 'undefined' || $rootScope.GuardiansData.length == 0) {\r\n\r\n\r\n\r\n        } else {\r\n\r\n          $scope.editGud = false;\r\n          $scope.delGud = false;\r\n          if ($rootScope.GuardiansData.length >= 5) {\r\n            $(\"#addGud\").hide();\r\n          } else {\r\n            $(\"#addGud\").show();\r\n          }\r\n\r\n        }\r\n        if ($rootScope.PersonalInfo == null) {\r\n          if (window.device) {\r\n            navigator.notification.alert(\"Please update your profile before adding guardians.\", null, 'Update your profile', 'Ok');\r\n            $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n          } else {\r\n            alert(\"Please update your profile before adding guardians.\");\r\n          }\r\n        }\r\n\r\n      }, function(error) {\r\n        $scope.data = error.data || 'Request failed';\r\n        $scope.status = error.status;\r\n        $scope.GuardiansData = $scope.DefaultList;\r\n        if ($rootScope.PersonalInfo == null) {\r\n          if (window.device) {\r\n            navigator.notification.alert(\"Please update your profile before adding guardians.\", null, 'Update your profile', 'Ok');\r\n            $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n          } else {\r\n            alert(\"Please update your profile before adding guardians.\");\r\n          }\r\n        }\r\n      });\r\n\r\n\r\n    }\r\n\r\n    checkGuardiansData();\r\n\r\n\r\n    var gudDataChanged = false;\r\n    $scope.$watch('GuardiansData', function(newVal) {\r\n      gudDataChanged = true;\r\n    });\r\n  }",
          "datatemplate": "<div class=\"list-group listItems lg_webAppletContentPadding marginTop30px ng-scope\">\r\n<div class=\"row borderAll padding15  borderRadius4px whiteBackground\">\r\n<div id=\"addGud\" class=\"text-center marginBottom15px\">\r\n    <div class=\"Applybtn btn btn-primary btn-block\" ng-click=\"AddMoreGuardians();\">Add more alert contacts<\/div>\r\n<\/div>\r\n<div id='GdList'>\r\n    <div>\r\n        <div class=\"list-group marginBottom10px\" ng-repeat='g in GuardiansData'>\r\n            <div class=\"list-group-item\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-8 col-md-8 fontSize18 colorDark proximaBoldFont colorDark\">\r\n                        {{g.guardianName}}\r\n                    <\/div>\r\n                    <div class=\"col-xs-4 col-md-4\">\r\n                        <div class=\"no-side-padding pull-right fontSize16 colorDark\">\r\n                        <a class=\"themeAccentColor ancorDecoration\" ng-hide=\"editGud\" ng-click=\"EditGuardian($index)\">\r\n                          <i class=\"fa fa-pencil fontSize18 cursorPointer\"><\/i>\r\n                          <span class=\"hidden-xs font12\">Edit<\/span>\r\n                        <\/a>\r\n                        <a class=\"themeAccentColor anchorDecoration marginLeft15px\" ng-hide=\"delGud\" ng-click=\"deleteGuardian($index)\">\r\n                        <i class=\"fa fa-trash-o fontSize18 themeAccentColor cursorPointer\"><\/i>\r\n                            <span class=\"hidden-xs font12\">Delete<\/span>\r\n                        <\/a>\r\n                      <\/div>\r\n                    <div style='clear:both'><\/div>\r\n                    <\/div>\r\n                <\/span>\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item\">\r\n\t\t\t <div class=\"row\">\r\n                <div class=\"col-md-3 col-sm-3 col-xs-3\">\r\n                    <label class=\"labelType colorDarkGrey\">Phone: <\/label>\r\n                <\/div>\r\n                <div class=\"col-md-9 text-right col-sm-9 col-xs-9\">\r\n                    <label class=\"\" style=\"margin-top:5px\">\r\n                   {{g.guardianPhn}}\r\n                    \r\n                  <\/label>\r\n                <\/div>\r\n                <\/div>\r\n                \r\n            <\/div> \r\n\t\t\t<div class=\"list-group-item\">\r\n\t\t\t <div class=\"row\">\r\n                <div class=\"col-md-3 col-sm-3 col-xs-3\">\r\n                    <label class=\"labelType colorDarkGrey\">Email: <\/label>\r\n                <\/div>\r\n                <div class=\"col-md-9 text-right col-sm-9 col-xs-9\">\r\n                    <label class=\"\" style=\"margin-top:5px\">\r\n                   {{g.gudemail}}\r\n                    \r\n                  <\/label>\r\n                <\/div>\r\n                <\/div>\r\n                \r\n            <\/div>\r\n           \r\n            <div class=\"list-group-item\">\r\n                <div class=\"row\">\r\n                <div class=\"col-md-6 colsm-6 col-xs-6\">\r\n                    <label class=\"labelType colorDarkGrey\">Enabled: <\/label>\r\n                <\/div>\r\n                <div class=\"col-md-6 colsm-6 col-xs-6\">\r\n                    <label class=\" pull-right\" style=\"margin-top:5px\">\r\n                   {{g.enabled == true? 'Yes':'No'}}\r\n                    \r\n                  <\/label>\r\n                <\/div>\r\n                <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>\r\n<\/div>\r\n<\/div>"
        },
        {
          "pageid": "BlueLightEmergency50Page3",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  $rootScope.back = function() {\r\n    $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page2\");\r\n  };\r\n\r\n  $scope.PerEmail = $rootScope.user.email;\r\n  var url = $.jStorage.get('url') + \"/personal/\" + $scope.PerEmail;\r\n  var tenantId = $.jStorage.get('tenantId');\r\n  $scope.PickContact = function() {\r\n\r\n    try {\r\n\r\n      navigator.contacts.pickContact(function(contact) {\r\n\r\n        for (var k = 0; k < contact.phoneNumbers.length; k++) {\r\n          if (contact.phoneNumbers[k].type == \"mobile\" || contact.phoneNumbers[k].type == \"work\" || contact.phoneNumbers[k].type == \"home\") {\r\n            var gPhn = contact.phoneNumbers[k].value.toString();\r\n            gPhn = gPhn.replace(/ /g, '');\r\n            //gPhn = gPhn.substr(gPhn.length - 10, gPhn.length);\r\n\r\n            $(\"#guardianPhn\").val(gPhn);\r\n            break;\r\n          }\r\n        }\r\n        $(\"#guardianName\").val(contact.name.formatted);\r\n        for (var k = 0; k < contact.emails.length; k++) {\r\n          if (contact.emails[k].type == \"other\" || contact.emails[k].type == \"home\") {\r\n            $(\"#gudemail\").val(contact.emails[k].value);\r\n            break;\r\n          }\r\n        }\r\n      });\r\n    } catch (e) {\r\n      navigator.notification.alert('The contact is not properly configured or Contact Permission is not enabled.', null, 'Contact Error', 'Ok')\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  $scope.SaveGuardians = function() {\r\n\r\n    try {\r\n      if ($(\"#guardianName\").val().trim() == \"\") {\r\n        if (window.device) {\r\n          navigator.notification.alert(\"Please enter valid guardian name.\", null, 'Error', 'Ok');\r\n\r\n        } else {\r\n          alert(\"Please enter valid guardian name.\");\r\n        }\r\n        return;\r\n        $.unblockUI();\r\n      }\r\n\r\n\r\n\r\n      var phoneRegx = /^(\\+\\d{1,3}[- ]?)?\\d{10}$/;\r\n\r\n\r\n      if (!phoneRegx.test($(\"#guardianPhn\").val()) || ('' + $(\"#guardianPhn\").val()).length != 10) {\r\n        if (window.device) {\r\n\r\n          navigator.notification.alert(\"Please enter a valid phone number.\", null, 'Error', 'ok');\r\n        } else {\r\n          alert(\"Please enter a valid phone number.\");\r\n        }\r\n        $.unblockUI();\r\n        return;\r\n      } else if ($(\"#gudemail\").val() == \"\") {\r\n\r\n        if (window.device) {\r\n          navigator.notification.alert(\"Please enter a valid email.\");\r\n        } else {\r\n\r\n          alert(\"Please enter a valid email.\");\r\n        }\r\n        $.unblockUI();\r\n        return;\r\n\r\n\r\n      } else if ($(\"#gudemail\").val() == $rootScope.user.email) {\r\n        if (window.device) {\r\n          navigator.notification.alert(\"Please enter your Guardian Email ID.\");\r\n        } else {\r\n\r\n          alert(\"Please enter your Guardian Email ID.\");\r\n        }\r\n        $.unblockUI();\r\n        return;\r\n      } else {\r\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n        var proxyData = $.jStorage.get(\"PersonalInfo\");\r\n        proxyData.guardiansList = proxyData.guardiansList ? proxyData.guardiansList : [];\r\n        if (proxyData.guardiansList != null || proxyData.guardiansList.length != 0) {\r\n          if ((proxyData.guardiansList).map(function(e) {\r\n              return (e.gudemail).trim().toLowerCase();\r\n            }).indexOf($(\"#gudemail\").val().trim().toLowerCase()) != -1) {\r\n\r\n\r\n            if (window.device) {\r\n              navigator.notification.alert(\"This email is already added as a Guardian.\");\r\n              $.unblockUI();\r\n            } else {\r\n              alert(\"This email is already added as a Guardian.\");\r\n            }\r\n            $.unblockUI();\r\n            return;\r\n\r\n\r\n          }\r\n        }\r\n\r\n        if (!re.test(String($(\"#gudemail\").val()).toLowerCase())) {\r\n          if (window.device) {\r\n            navigator.notification.alert(\"Please enter a valid email.\");\r\n            $.unblockUI();\r\n          } else {\r\n            alert(\"Please enter a valid email.\");\r\n          }\r\n          $.unblockUI();\r\n          return;\r\n        } else {\r\n\r\n\r\n\r\n          var AndroidDownloadLink = \"<a href = \" + $rootScope.androidDownloadLink + \"> Android Link<\/a>\";\r\n          var iosDownloadLink = \"<a href= \" + $rootScope.iosDownloadLink + \">Ios Link<\/a>\";\r\n          var msgOptions = {\r\n            replaceLineBreaks: true, // true to replace \\n by a new line, false by default\r\n            android: {\r\n              intent: '' // send email without open any other app\r\n            }\r\n          };\r\n\r\n          var PI = $.jStorage.get(\"PersonalInfo\");\r\n\r\n          var UserName = PI.fname + \" \" + PI.lname;\r\n\r\n          var message = \"<b>\" + UserName + \"<\/b> has added you as a Guardian in \" + $rootScope.metadata.appDisplayName + \". <br/> Please consider installing \" + $rootScope.metadata.appDisplayName + \".\" +\r\n            \"<br/> <br/> <br/>  \\nDownload \" + $rootScope.metadata.appDisplayName + \".  <br/> \\niOS: \" + iosDownloadLink + \"\\n <br/> Android: \" + AndroidDownloadLink;\r\n\r\n          message += \"<br/><br/>Thanks,<br/>\" + $rootScope.metadata.appDisplayName;\r\n          message += \"<br/><br/><div ><img  height='70' src='\" + $rootScope.icon_url + \"'/><\/div>\";\r\n\r\n          var emailData = {\r\n            'to': $(\"#gudemail\").val().trim(),\r\n            'subject': UserName + ' added you as a Guardian in ' + $rootScope.metadata.appDisplayName + '!',\r\n            'body': message,\r\n            'from': $rootScope.fromEmail\r\n          };\r\n\r\n          $http({\r\n            method: \"POST\",\r\n            url: \"https://kryptos.kryptosmobile.com/gateway/CEAI/kryptosemailsender\",\r\n\r\n\r\n            headers: {\r\n              'licenseKey': 'UjpIaWVDVzpTOjE0NDk0ODk2MzUxMzE6VTpha0BjYW1wdXNlYWkub3JnOlQ6NDpQOjI4Ng==',\r\n              'Content-Type': 'application/json'\r\n            },\r\n            data: JSON.stringify(emailData)\r\n          }).then(function(response) {\r\n\r\n            $.unblockUI();\r\n          });\r\n\r\n\r\n\r\n          emailConfirm(1);\r\n\r\n        }\r\n      }\r\n\r\n    } catch (e) {\r\n      alert(e)\r\n    }\r\n  }\r\n\r\n  var emailConfirm = function(btn) {\r\n    if (btn == 1) {\r\n\r\n\r\n      var Guardians = {\r\n        \"guardianPhn\": $(\"#guardianPhn\").val(),\r\n        \"guardianName\": $(\"#guardianName\").val(),\r\n        \"gudemail\": $(\"#gudemail\").val().trim().toLowerCase(),\r\n        \"enabled\": 'true'\r\n      };\r\n      if ($rootScope.PersonalInfo.guardiansList == null || $rootScope.PersonalInfo.guardiansList == 'undefined' || $rootScope.PersonalInfo.guardiansList.length == 0) {\r\n        $rootScope.PersonalInfo.guardiansList = [];\r\n        $scope.guardiansList = [];\r\n        $scope.guardiansList[0] = Guardians;\r\n        $rootScope.PersonalInfo.guardiansList = $scope.guardiansList;\r\n      } else {\r\n\r\n        $scope.guardiansList = $rootScope.PersonalInfo.guardiansList;\r\n\r\n        $scope.guardiansList.push(Guardians);\r\n        $rootScope.PersonalInfo.guardiansList = $scope.guardiansList;\r\n      }\r\n      $.jStorage.set(\"GuardiansInfo\", $scope.guardianData);\r\n      //$.jStorage.set(\"PersonalInfo\", JSON.stringify(perInfo));\r\n\r\n      var proxyMethod = \"POST\";\r\n\r\n      var data = $rootScope.PersonalInfo;\r\n      var proxyData = data;\r\n      $.blockUI();\r\n      $http({\r\n        method: proxyMethod,\r\n        url: url,\r\n        headers: {\r\n          \"X-Tenant-ID\": tenantId,\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        data: proxyData\r\n\r\n      }).then(function(response) {\r\n        $.unblockUI();\r\n\r\n        $rootScope.PersonalInfo = response.data;\r\n        if (window.device) {\r\n\r\n          navigator.notification.alert(\"Guardian information is saved successfully.\");\r\n\r\n        } else {\r\n          alert(\"Information is saved successfully.\");\r\n          $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page2\");\r\n        }\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page2\");\r\n\r\n      }, function(error) {\r\n        $.unblockUI();\r\n        alert(\"error adding\");\r\n      });\r\n\r\n    }\r\n  }\r\n}",
          "endpoint": "",
          "datatemplate": "<style>\r\n\t.noteStar{\r\n\t\tcolor: red;\r\n\t    font-size: 26px;\r\n\t    position: absolute;\r\n\t    top: -8px;\r\n\t    right: 6px;\r\n\t}\r\n\r\n<\/style>\r\n<div class=\"list-group listItems lg_webAppletContentPadding marginTop30px\">\r\n<div class=\" borderAll  whiteBackground\">\r\n<div id='GdList'>\r\n            <div class=\"list-group-item\">\r\n            \t<div class=\"row\">\r\n            \t<div class=\"col-md-1 col-sm-1 col-xs-2 pr0\">\r\n            \t  <input class='form-control disabled text-center' style=\"padding:0px;\" value=\"+1\" disabled />\r\n            \t<\/div>\r\n            \t<div class=\"col-md-11 col-sm-11 col-xs-10\">\r\n            \t<input class='form-control' maxlength='10' type='number' id='guardianPhn' placeholder='Phone Number' ng-model=\"guardianPhn\"/>\r\n            \t<span class=\"noteStar pull-right\">*<\/span>\r\n                <\/div>\r\n            \t<!--\t<div class=\"col-md-1 col-sm-1 col-xs-2 pl0\"><img ng-click=\"PickContact();\" style=\"margin:5px;\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAABLFBMVEUAAADRLz7fLTzeLTyyJDDiLjzoLj7oLj/mLj7lLj7kLj7kLj7oLkDbJkDkLz3jLT22JDG3JTK2JTGyJDC1JTOzJjPJKDa5JjK5JjHkLz63JTLrMD+3JjLMKTazJDDfLTz////gLTzrLz/fMD6rAAC0MjvkLj3hxsfhOkbmLj7wMECyJDCzIzDgIzWyJzPAJjO7JjLdAADusbLhVFnYKzq2JDH89/ewIy/gNkO1NT3fHzKvIy7cAAD56urx2tvhysrYsLLhTFO3SE2zJjHeGy2xGyixFSaxECGoAAD88fH38fH34OHu4ODxxsfvubvcubrYtLXmsrTYsrPro6XQoqTplZbMlJbni43Hioy5VlnjN0XPNkLOMj/HKDXfACXeACWwDxzdAAnPAAC/AADpA4XrAAAAH3RSTlMACPz6/Pby19KpfF8sE+Y/59N9YC0U9vPz5tfWqqlA8hrziwAAAX5JREFUKM9Vkud2gkAUhDcKdk3vBVhwA4gUAXuPRtN778n7v0Muu9b5AQe+M+fO3h00UjoZj/ISH40n02iqBbSQyGCsSYKkYT2TgO8xSMV0EgoJgUIhosdSFMFjMYLDwlRhHFlkKBXRwhL8kVVVleEthbVIinpimIGq4zhVhnAs8CR0Br7cwkXB/WRIT0DcbSIEIO82RFFsuPkACSSTRklMQ5WdBzHQ4+8rjYiTKD4iP0+UPCvvhJI4imo0qupcUnKlZD8kmKtFES8xUi9Q0lYqNUuAbfAIAEvQOQFw2j02jZrtARp5ZJWZroeVrGmUfI/wMIc6nJ57B+T+5VsBV67k7dJscrVTOCvSOcXzdndgGpy9T88j95riVM2BecRZqyidIXJeLc6QYqVv+kvrdG9y/qZ1OFbrtg+WlfGu639DZaIcZy9P7qesvmUn4vzNtZk7JZ5RMnIgcGwdzPfAs2tGjuN8a3ltrjs6dMcq+ba1tMKaM9c3srGzt7qOmP4B7XhIsAxci4EAAAAASUVORK5CYII=\"/>\r\n<\/div> --><div style='clear:both'><\/div>\r\n\t\t\t<\/div>\r\n\t\t\t<\/div>\r\n            \r\n            <div class=\"list-group-item\">\r\n\t\t        <div class=\"row\">\r\n\t\t            <div class=\"col-md-12\">\r\n\t\t            \t<input class='form-control' type='textbox' id='guardianName' placeholder='Name'  ng-model=\"guardianName\"/><span class=\"noteStar\">*<\/span>\r\n\t\t            <\/div>\r\n\t\t        <\/div>\r\n            <\/div>\r\n           \t<div class=\"list-group-item\">\r\n\t    \t   \t<div class=\"row\">\r\n\t\t        \t<div class=\"col-md-12\">\r\n\t\t            \t<input class='form-control' type='textbox' id='gudemail' placeholder='Email' ng-model=\"gudemail\" /><span class=\"noteStar\">*<\/span>\r\n\t\t            <\/div>\r\n\t        \t<\/div>\r\n        \t<\/div>\r\n            <div class=\"list-group-item \">\r\n                <div class='Applybtn btn btn-block btn-primary' ng-click=\"SaveGuardians();\">Save<\/div>\r\n            <\/div>\r\n<br>\r\n<div class=\"red \">Note: Make sure you enter correct Email ID for guardian. The guardian's Email ID is used to send tracking and alert information.<\/div>\r\n<\/div>\r\n<\/div>"
        },
        {
          "pageid": "BlueLightEmergency50Page4",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page4(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  $rootScope.back = function() {\r\n    $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page2\");\r\n  };\r\n  var tenantId = $.jStorage.get('tenantId');\r\n\r\n  var mobappid = \"BlueLight\"\r\n  var featureid = \"31808\";\r\n  $scope.PerEmail = $rootScope.user.email;\r\n  var url = $.jStorage.get('url') + \"/personal/\" + $scope.PerEmail;\r\n  var Gdata = $rootScope.editGud;\r\n  $(\"#gudId\").val(Gdata._id);\r\n  $(\"#guardianPhn\").val(Gdata.guardianPhn);\r\n  $(\"#guardianName\").val(Gdata.guardianName);\r\n  $(\"#gudemail\").val(Gdata.gudemail);\r\n  $(\"#enabled\").prop('checked', Gdata.enabled);\r\n\r\n  $scope.PickContact = function() {\r\n\r\n    try {\r\n      navigator.contacts.pickContact(function(contact) {\r\n        for (var k = 0; k < contact.phoneNumbers.length; k++) {\r\n          if (contact.phoneNumbers[k].type == \"mobile\" || contact.phoneNumbers[k].type == \"work\" || contact.phoneNumbers[k].type == \"home\") {\r\n            var gPhn = contact.phoneNumbers[k].value.toString();\r\n            gPhn = gPhn.replace(/ /g, '');\r\n            //gPhn = gPhn.substr(gPhn.length - 10, gPhn.length);\r\n\r\n            $(\"#guardianPhn\").val(gPhn);\r\n            break;\r\n          }\r\n        }\r\n        $(\"#guardianName\").val(contact.name.formatted);\r\n        for (var k = 0; k < contact.emails.length; k++) {\r\n          if (contact.emails[k].type == \"other\" || contact.emails[k].type == \"home\") {\r\n            $(\"#gudemail\").val(contact.emails[k].value);\r\n            break;\r\n          }\r\n        }\r\n      });\r\n    } catch (e) {\r\n      navigator.notification.alert('The contact is not properly configured or Contact Permission is not enabled.', null, 'Contact Error', 'Ok')\r\n    }\r\n\r\n  }\r\n\r\n  $scope.SaveEditInfo = function() {\r\n    $.blockUI();\r\n\r\n    if ($(\"#guardianName\").val().trim() == \"\") {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter valid guardian name.\", null, 'Error', 'Ok');\r\n\r\n      } else {\r\n        alert(\"Please enter valid guardian name.\");\r\n      }\r\n      $.unblockUI();\r\n      return;\r\n\r\n    }\r\n\r\n\r\n\r\n    var phoneRegx = /^(\\+\\d{1,3}[- ]?)?\\d{10}$/;\r\n\r\n\r\n    if (!phoneRegx.test($(\"#guardianPhn\").val()) || ('' + $(\"#guardianPhn\").val()).length != 10) {\r\n      if (window.device) {\r\n\r\n        navigator.notification.alert(\"Please enter a valid phone number.\");\r\n      } else {\r\n        alert(\"Please enter a valid phone number.\");\r\n      }\r\n      $.unblockUI();\r\n      return;\r\n    } else if ($(\"#gudemail\").val() == \"\") {\r\n\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter a valid email.\");\r\n      } else {\r\n\r\n        alert(\"Please enter a valid email.\");\r\n      }\r\n      $.unblockUI();\r\n      return;\r\n\r\n\r\n    } else if ($(\"#gudemail\").val() == $rootScope.user.email) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter your Guardian Email ID.\");\r\n      } else {\r\n\r\n        alert(\"Please enter your Guardian Email ID.\");\r\n      }\r\n      $.unblockUI();\r\n      return;\r\n    } else {\r\n      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n      var proxyData = angular.copy($.jStorage.get(\"PersonalInfo\"));\r\n      if (proxyData.guardiansList != null || proxyData.guardiansList.length != 0) {\r\n        if ($rootScope.editGud._id == 0 || $rootScope.editGud._id) {\r\n          /*remove exist email which we are editing*/\r\n          proxyData.guardiansList.splice($rootScope.editGud._id, 1)\r\n\r\n          if ((proxyData.guardiansList).map(function(e) {\r\n              return (e.gudemail).trim().toLowerCase();\r\n            }).indexOf($(\"#gudemail\").val().trim().toLowerCase()) != -1) {\r\n\r\n            if (window.device) {\r\n              proxyData = $.jStorage.get(\"PersonalInfo\")\r\n              navigator.notification.alert(\"This email is already added as a Guardian.\");\r\n              $.unblockUI();\r\n\r\n            } else {\r\n              alert(\"This email is already added as a Guardian.\");\r\n            }\r\n            $.unblockUI();\r\n            return;\r\n          }\r\n\r\n          proxyData = $.jStorage.get(\"PersonalInfo\")\r\n\r\n        } else {\r\n          if ((proxyData.guardiansList).map(function(e) {\r\n              return (e.gudemail).trim().toLowerCase();\r\n            }).indexOf($(\"#gudemail\").val().trim().toLowerCase()) != -1) {\r\n\r\n            if (window.device) {\r\n              navigator.notification.alert(\"This email is already added as a Guardian.\");\r\n              $.unblockUI();\r\n            } else {\r\n              alert(\"This email is already added as a Guardian.\");\r\n            }\r\n            $.unblockUI();\r\n            return;\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n\r\n      if (!re.test(String($(\"#gudemail\").val()).toLowerCase())) {\r\n        if (window.device) {\r\n          navigator.notification.alert(\"Please enter a valid email.\");\r\n          $.unblockUI();\r\n        } else {\r\n          alert(\"Please enter a valid email.\");\r\n        }\r\n        $.unblockUI();\r\n        return;\r\n      } else {\r\n\r\n\r\n\r\n        var AndroidDownloadLink = \"<a href = \" + $rootScope.androidDownloadLink + \"> Android Link<\/a>\";\r\n        var iosDownloadLink = \"<a href= \" + $rootScope.iosDownloadLink + \">Ios Link<\/a>\";\r\n        var msgOptions = {\r\n          replaceLineBreaks: true, // true to replace \\n by a new line, false by default\r\n          android: {\r\n            intent: '' // send email without open any other app\r\n          }\r\n        };\r\n\r\n        var PI = $.jStorage.get(\"PersonalInfo\");\r\n\r\n        var UserName = PI.fname + \" \" + PI.lname;\r\n\r\n        var message = \"<b>\" + UserName + \"<\/b> has added you as a Guardian in \" + $rootScope.metadata.appDisplayName + \". <br/> Please consider installing \" + $rootScope.metadata.appDisplayName + \".\" +\r\n          \"<br/> <br/> <br/>  \\nDownload \" + $rootScope.metadata.appDisplayName + \".  <br/> \\niOS: \" + iosDownloadLink + \"\\n <br/> Android: \" + AndroidDownloadLink;\r\n\r\n        message += \"<br/><br/>Thanks,<br/>\" + $rootScope.metadata.appDisplayName;\r\n        message += \"<br/><br/><div ><img  height='70' src='\" + $rootScope.icon_url + \"'/><\/div>\";\r\n\r\n        var emailData = {\r\n          'to': $(\"#gudemail\").val().trim(),\r\n          'subject': UserName + ' added you as a Guardian in ' + $rootScope.metadata.appDisplayName + '!',\r\n          'body': message,\r\n          'from': $rootScope.fromEmail\r\n        };\r\n\r\n        $http({\r\n          method: \"POST\",\r\n          url: \"https://kryptos.kryptosmobile.com/gateway/CEAI/kryptosemailsender\",\r\n\r\n\r\n          headers: {\r\n            'licenseKey': 'UjpIaWVDVzpTOjE0NDk0ODk2MzUxMzE6VTpha0BjYW1wdXNlYWkub3JnOlQ6NDpQOjI4Ng==',\r\n            'Content-Type': 'application/json'\r\n          },\r\n          data: JSON.stringify(emailData)\r\n        }).then(function(response) {\r\n\r\n          $.unblockUI();\r\n        });\r\n\r\n\r\n        var Guardians = {\r\n          \"_id\": $(\"#gudId\").val(),\r\n          \"guardianPhn\": $(\"#guardianPhn\").val(),\r\n          \"guardianName\": $(\"#guardianName\").val(),\r\n          \"gudemail\": $(\"#gudemail\").val().trim().toLowerCase(),\r\n          \"enabled\": $(\"#enabled\").prop('checked')\r\n        };\r\n\r\n\r\n\r\n        if ($rootScope.PersonalInfo.guardiansList == null || $rootScope.PersonalInfo.guardiansList == 'undefined' || $rootScope.PersonalInfo.guardiansList.length == 0) {\r\n\r\n          $rootScope.PersonalInfo.guardiansList = [];\r\n          $rootScope.PersonalInfo.guardiansList.push(Guardians);\r\n\r\n        } else {\r\n\r\n          for (var i = 0; i < $rootScope.PersonalInfo.guardiansList.length; i++) {\r\n\r\n            if (i == $(\"#gudId\").val()) {\r\n\r\n              $rootScope.PersonalInfo.guardiansList[i] = Guardians;\r\n              break;\r\n            }\r\n          }\r\n\r\n\r\n        }\r\n\r\n        var proxyMethod = \"POST\";\r\n\r\n        var data = $rootScope.PersonalInfo;\r\n        var proxyData = data;\r\n        $.blockUI();\r\n        $http({\r\n          method: proxyMethod,\r\n          url: url,\r\n          headers: {\r\n            \"X-Tenant-ID\": tenantId,\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          data: proxyData\r\n\r\n        }).then(function(response) {\r\n          $.unblockUI();\r\n\r\n\r\n          if (window.device) {\r\n            navigator.notification.alert(\"Guardian information updated\");\r\n            $.unblockUI();\r\n          } else {\r\n            alert(\"Guardian information updated\");\r\n          }\r\n\r\n          $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page2\");\r\n        }, function(error) {\r\n\r\n          if (window.device) {\r\n            navigator.notification.alert(\"Error\");\r\n            $.unblockUI();\r\n          } else {\r\n            alert(\"Error\");\r\n          }\r\n\r\n          $.unblockUI();\r\n\r\n\r\n        });\r\n      }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n  }\r\n\r\n}",
          "endpoint": "",
          "datatemplate": "<style type=\"text/css\">\r\n.no-lineHeight{ line-height: 0px; }\r\n.noteStar{\r\n\t\tcolor: red;\r\n\t    font-size: 26px;\r\n\t    position: absolute;\r\n\t    top: -8px;\r\n\t    right: 6px;\r\n\t}\r\n<\/style>\r\n<div class=\"list-group listItems lg_webAppletContentPadding marginTop30px\">\r\n<div class=\" borderAll  whiteBackground\">\r\n<div id='GdList'>\r\n<div class=\"list-group-item\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12 col-sm-12 col-xs-12 ng-hide\">\r\n\t    \t\t<span><input class='form-control' type='textbox' id='gudId'  placeholder='' /><\/span>\r\n\t\t\t<\/div>\r\n            \r\n\t\t\t\r\n\t\t\t<div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n\t\t\t\t<span><input class='form-control' type='textbox' id='guardianPhn'  placeholder='Phone Number' /><\/span><span class=\"noteStar\">*<\/span>\r\n\t\t\t<\/div>\r\n\t\t<!--\t<div class=\"col-md-1 col-sm-1 col-xs-2 pl0\"><img ng-click=\"PickContact();\" style=\"margin:5px;\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAABLFBMVEUAAADRLz7fLTzeLTyyJDDiLjzoLj7oLj/mLj7lLj7kLj7kLj7oLkDbJkDkLz3jLT22JDG3JTK2JTGyJDC1JTOzJjPJKDa5JjK5JjHkLz63JTLrMD+3JjLMKTazJDDfLTz////gLTzrLz/fMD6rAAC0MjvkLj3hxsfhOkbmLj7wMECyJDCzIzDgIzWyJzPAJjO7JjLdAADusbLhVFnYKzq2JDH89/ewIy/gNkO1NT3fHzKvIy7cAAD56urx2tvhysrYsLLhTFO3SE2zJjHeGy2xGyixFSaxECGoAAD88fH38fH34OHu4ODxxsfvubvcubrYtLXmsrTYsrPro6XQoqTplZbMlJbni43Hioy5VlnjN0XPNkLOMj/HKDXfACXeACWwDxzdAAnPAAC/AADpA4XrAAAAH3RSTlMACPz6/Pby19KpfF8sE+Y/59N9YC0U9vPz5tfWqqlA8hrziwAAAX5JREFUKM9Vkud2gkAUhDcKdk3vBVhwA4gUAXuPRtN778n7v0Muu9b5AQe+M+fO3h00UjoZj/ISH40n02iqBbSQyGCsSYKkYT2TgO8xSMV0EgoJgUIhosdSFMFjMYLDwlRhHFlkKBXRwhL8kVVVleEthbVIinpimIGq4zhVhnAs8CR0Br7cwkXB/WRIT0DcbSIEIO82RFFsuPkACSSTRklMQ5WdBzHQ4+8rjYiTKD4iP0+UPCvvhJI4imo0qupcUnKlZD8kmKtFES8xUi9Q0lYqNUuAbfAIAEvQOQFw2j02jZrtARp5ZJWZroeVrGmUfI/wMIc6nJ57B+T+5VsBV67k7dJscrVTOCvSOcXzdndgGpy9T88j95riVM2BecRZqyidIXJeLc6QYqVv+kvrdG9y/qZ1OFbrtg+WlfGu639DZaIcZy9P7qesvmUn4vzNtZk7JZ5RMnIgcGwdzPfAs2tGjuN8a3ltrjs6dMcq+ba1tMKaM9c3srGzt7qOmP4B7XhIsAxci4EAAAAASUVORK5CYII=\"/>\r\n<\/div> --><div style='clear:both'><\/div>\r\n<\/div>\r\n<\/div>\r\n\r\n            <div class=\"list-group-item\">\r\n\t\t        <div class=\"row\">\r\n\t\t            <div class=\"col-md-12\">\r\n\t\t            \t<input class='form-control' type='textbox' id='guardianName'  placeholder='Name'  /><span class=\"noteStar\">*<\/span>\r\n\t\t            <\/div>\r\n\t\t        <\/div>\r\n\t\t    <\/div>\r\n            <div class=\"list-group-item\">\r\n\t\t        <div class=\"row\">\r\n\t\t            <div class=\"col-md-12\">\r\n\t\t            \t<input class='form-control' type='textbox' id='gudemail'  placeholder='Email'  /><span class=\"noteStar\">*<\/span>\r\n\t\t            <\/div>\r\n\t\t        <\/div>\r\n\t\t    <\/div>\r\n             <div class=\"list-group-item\">\r\n                  <div class=\"row\">\r\n                <div class=\"col-md-6 colsm-6 col-xs-6\">\r\n                    <label class=\"labelType colorDarkGrey\">Enabled: <\/label>\r\n                <\/div>\r\n                <div class=\"col-md-6 colsm-6 col-xs-6\">\r\n                    <label class=\"switch switchCircle colPadding grey-background pull-right\" style=\"margin-top:5px\">\r\n                    <input class='no-lineHeight' type='checkbox' id='enabled'   >\r\n                    <div class=\"slider sliderCircle round\"><\/div>\r\n                  <\/label>\r\n                <\/div>\r\n                <\/div>\r\n\t\t    <\/div>\r\n           <div class=\"list-group-item \">\r\n                <div class='Applybtn btn btn-block btn-primary' ng-click=\"SaveEditInfo();\">Update<\/div>\r\n            <\/div>\r\n<\/div>\r\n<\/div>\r\n\r\n\r\n "
        },
        {
          "pageid": "BlueLightEmergency50Page5",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page5(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  setTimeout(function() {\r\n    $.unblockUI();\r\n  }, 2000);\r\n  $scope.terms = function() {\r\n\r\n    $.jStorage.set('termsCondition', true);\r\n    $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n\r\n  }\r\n  $scope.termsName = 'Unifyed';\r\n  $scope.collegeName = $rootScope.collegeName;\r\n\r\n  if (pagedef.termsName) {\r\n\r\n    $scope.termsName = pagedef.termsName;\r\n\r\n  }\r\n\r\n\r\n}",
          "endpoint": "",
          "datatemplate": "<style>\r\n  #scroll {\r\n    width: 100%;\r\n    overflow-y: scroll;\r\n  }\r\n<\/style>\r\n<div class=\"sm_webAppletContentPadding\">\r\n  <div class=\"row borderAll padding15 border1px borderRadius4px whiteBackground\">\r\n\r\n    <p class=\"font16\"><strong>Terms of Use({{termsName}})<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      Welcome to <span> {{termsName}} <\/span> Emergency, the mobile emergency service for {{collegeName}}(&quot;<span> {{termsName}} <\/span>,&quot; &quot;<span> {{termsName}} <\/span> Emergency,&quot; &quot;we,&quot; or &quot;us&quot;).\r\n      This page explains the terms by which you may use our mobile services (collectively the &quot;Service&quot;). By accessing or using the Service, you signify that you have read, understood, and agree to be bound by this Terms of Use Agreement (&quot;Agreement&quot;)\r\n      and to the collection and use of your information as set forth in the <span> {{termsName}} <\/span> Privacy Policy, whether or not you are a registered user of our Service. This Agreement applies to all visitors, users, and others who access the\r\n      Service (&quot;Users&quot; or &quot;You&quot;).\r\n      <br> PLEASE READ THIS AGREEMENT CAREFULLY TO ENSURE THAT YOU UNDERSTAND EACH PROVISION. <\/p>\r\n\r\n\r\n    <p class=\"font16\"><strong> 1. Use of Our Service<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      <span> {{termsName}} <\/span> Emergency is mobile safety application for students, faculty, staff, and alumni. The Service enables users to report incidents, send distress messages, alert your contacts, get quick listings for local hospitals and\r\n      police stations, and more. A response from Public Safety personnel to requests initiated through the mobile app will only occur during normal college operating hours and on College property. You represent, warrant, and agree that in the event of\r\n      an emergency you will immediately call 911 rather than <span> {{termsName}} <\/span> Public Safety.\r\n      <br> <span class=\"proximaBoldFont\">A. Eligibility.<\/span>\r\n      <br> You may use the Service only if you can form a binding contract with <span> {{termsName}} <\/span>, and only in compliance with this Agreement and all applicable local, state, national, and international laws, rules and regulations. Anyone under\r\n      13 is strictly prohibited from creating an account for the Service.\r\n      <br> <span class=\"proximaBoldFont\">B. <span> {{termsName}} <\/span><\/span>\r\n      <br> Subject to the terms and conditions of this Agreement, you are hereby granted a non-exclusive, limited, non-transferable, freely revocable license to use the Service for your personal use only and as permitted by the features of the Service. <span> {{termsName}} <\/span>      reserves all rights not expressly granted herein in the Service and the <span> {{termsName}} <\/span> Emergency Content (as defined below). <span> {{termsName}} <\/span> may terminate this license at any time for any reason or no reason.\r\n      <br> <span class=\"proximaBoldFont\">C. <span> {{termsName}} <\/span> Emergency Accounts.<\/span>\r\n      <br> Your <span> {{termsName}} <\/span> Emergency account gives you access to the services and functionality that we may establish and maintain from time to time and in our sole discretion.\r\n      <br> You may never use another Users account without permission. When creating your account, you must provide accurate and complete information. You are solely responsible for the activity that occurs on your account. You must notify <span> {{termsName}} <\/span>      immediately of any breach of security or unauthorized use of your account. <span> {{termsName}} <\/span> will not be liable for any losses caused by any unauthorized use of your account.\r\n      <br> You may control your User profile and how you interact with the Service by changing the Profile Settings in the <span> {{termsName}} <\/span> Emergency app. By providing <span> {{termsName}} <\/span> your email address you consent to our using the\r\n      email address to send you Service-related notices, including any notices required by law, in lieu of communication by postal mail. We may also use your email address to send you other messages, such as changes to features of the Service. If you\r\n      do not want to receive promotional email messages, you may opt out by unsubscribing from such email communications from <span> {{termsName}} <\/span>. Opting out may prevent you from receiving email messages regarding updates, improvements, or offers.\r\n      <br> D. Service Rules.\r\n      <br> You agree not to engage in any of the following prohibited activities: (i) copying, distributing, or disclosing any part of the Service in any medium, including without limitation by any automated or non-automated &quot;scraping&quot;; (ii) using\r\n      any automated system, including without limitation &quot;robots,&quot; &quot;spiders,&quot; &quot;offline readers,&quot; etc., to access the Service in a manner that sends more request messages to the <span> {{termsName}} <\/span> servers than a\r\n      human can reasonably produce in the same period of time by using a conventional on-line web browser; (iii) transmitting spam, chain letters, or other unsolicited email; (iv) attempting to interfere with, compromise the system integrity or security\r\n      or decipher any transmissions to or from the servers running the Service; (v) taking any action that imposes, or may impose at our sole discretion an unreasonable or disproportionately large load on our infrastructure; (vi) uploading invalid data,\r\n      viruses, worms, or other software agents through the Service; (vii) collecting or harvesting any personally identifiable information, including account names, from the Service; (viii) using the Service for any commercial solicitation purposes; (ix)\r\n      impersonating another person or otherwise misrepresenting your affiliation with a person or entity, conducting fraud; (x) interfering with the proper working of the Service; (xi) accessing any content on the Service through any technology or means\r\n      other than those provided or authorized by the Service; or (xii) bypassing the measures we may use to prevent or restrict access to the Service, including without limitation features that prevent or restrict use or copying of any content or enforce\r\n      limitations on use of the Service or the content therein.\r\n      <br> We may, without prior notice, change the Service; stop providing the Service or features of the Service, to you or to users generally; or create usage limits for the Service. We may permanently or temporarily terminate or suspend your access to\r\n      the Service without notice and liability for any reason, including if in our sole determination you violate any provision of this Agreement, or for no reason. Upon termination for any reason or no reason, you continue to be bound by this Agreement.\r\n      You are solely responsible for your interactions with other <span> {{termsName}} <\/span> Emergency Users. We reserve the right, but have no obligation, to monitor disputes between you and other Users. <span> {{termsName}} <\/span> shall have no liability\r\n      for your interactions with other Users, or for any Users action or inaction.\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong> 2. User Content<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      Some areas of the Service allow Users to post content such as profile information, comments, questions, and other content or information (any such materials a User submits, posts, displays, or otherwise makes available on the Service User Content).\r\n      We claim no ownership rights over User Content created by you. The User Content you create remains yours; however, by sharing User Content through the Service, you agree to allow others to view, edit, and/or share your User Content in accordance\r\n      with your settings and this Agreement. <span> {{termsName}} <\/span> has the right (but not the obligation) in its sole discretion to remove any User Content that is shared via the Service.\r\n      <br>You agree not to post or transmit User Content that: (i) may create a risk of harm, loss, physical or mental injury, emotional distress, death, disability, disfigurement, or physical or mental illness to you, to any other person, or to any animal;\r\n      (ii) may create a risk of any other loss or damage to any person or property; (iii) seeks to harm or exploit children by exposing them to inappropriate content, asking for personally identifiable details or otherwise; (iv) may constitute or contribute\r\n      to a crime or tort; (v) contains any information or content that we deem to be unlawful, harmful, abusive, racially or ethnically offensive, defamatory, infringing, invasive of personal privacy or publicity rights, harassing, humiliating to other\r\n      people (publicly or otherwise), libelous, threatening, profane, or otherwise objectionable; (vi) contains any information or content that is illegal (including, without limitation, the disclosure of insider information under securities law or of\r\n      another partys trade secrets); (vii) contains any information or content that you do not have a right to make available under any law or under contractual or fiduciary relationships; (viii) contains any information or content that you know is not\r\n      correct and current; (ix) violates any school or other applicable policy, including those related to cheating or ethics; (x) interferes with other Users of the Service including, without limitation, disrupting the normal flow of dialogue in an interactive\r\n      area of the Service and deleting or revising any content posted by another person or entity; (xi) except where expressly permitted, post or transmit charity requests, petitions for signatures, franchise arrangements, distributorship arrangements,\r\n      sales representative agency arrangements or other business opportunities (including offers of employment or contracting arrangements), club memberships, chain letters or letters relating to pyramid schemes, any advertising or promotional materials\r\n      or any other solicitation of other users to use goods or services except in those areas (e.g., a classified bulletin board) that are designated for such purpose. You agree that any employment or other relationship you form or attempt to form with\r\n      an employer, employee, or contractor whom you contact through areas of the Service that may be designated for that purpose is between you and that employer, employee, or contractor alone, and not with us. You may not copy or use personal identifying\r\n      or business contact information about other Users without their permission. You agree that any User Content that you post does not and will not violate third-party rights of any kind, including without limitation any Intellectual Property Rights\r\n      (as defined below) or rights of privacy. <span> {{termsName}} <\/span> reserves the right, but is not obligated, to reject and/or remove any User Content that <span> {{termsName}} <\/span> believes, in its sole discretion, violates these provisions.\r\n      <br> For the purposes of this Agreement, &quot;Intellectual Property Rights&quot; means all patent rights, copyright rights, mask work rights, moral rights, rights of publicity, trademark, trade dress and service mark rights, goodwill, trade secret\r\n      rights and other intellectual property rights as may now exist or hereafter come into existence, and all applications therefore and registrations, renewals and extensions thereof, under the laws of any state, country, territory or other jurisdiction.\r\n      <br>In connection with your User Content, you affirm, represent and warrant the following:\r\n      <br> A. You have the consent of each and every identifiable natural person in the User Content to use such persons name or likeness in the manner contemplated by the Service and this Agreement, and each such person has released you from any liability\r\n      that may arise in relation to such use.\r\n      <br> B. Your User Content and <span> {{termsName}} <\/span> Emergencys use thereof as contemplated by this Agreement and the Service will not violate any law or infringe any rights of any third party, including but not limited to any Intellectual Property\r\n      Rights and privacy rights. <span> {{termsName}} <\/span> takes no responsibility and assumes no liability for any User Content that you or any other User or third party posts or sends over the Service. You shall be solely responsible for your User\r\n      Content and the consequences of posting or publishing it, and you agree that we are only acting as a passive conduit for your online distribution and publication of your User Content. You understand and agree that you may be exposed to User Content\r\n      that is inaccurate, objectionable, inappropriate for children, or otherwise unsuited to your purpose, and you agree that <span> {{termsName}} <\/span> shall not be liable for any damages you allege to incur as a result of User Content.\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong>3. User Content License Grant <\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      By posting any User Content on the Service, you expressly grant, and you represent and warrant that you have all rights necessary to grant, to Company a royalty-free, sub-licensable, transferable, perpetual, irrevocable, non-exclusive, worldwide license\r\n      to use, reproduce, modify, publish, list information regarding, edit, translate, distribute, syndicate, publicly perform, publicly display, and make derivative works of all such User Content and your name, voice, and/or likeness as contained in\r\n      your User Content, in whole or in part, and in any form, media or technology, whether now known or hereafter developed, for use in connection with the Service\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong>4. Mobile Software<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      <span class=\"proximaBoldFont\">A. Mobile Software.<\/span>\r\n      <br> We make available software to access the Service via a mobile device (&quot;Mobile Software&quot;). To use the Mobile Software you must have a mobile device that is compatible with the Mobile Service. <span> {{termsName}} <\/span> does not warrant\r\n      that the Mobile Software will be compatible with your mobile device. <span> {{termsName}} <\/span> hereby grants you a non-exclusive, non-transferable, revocable license to use a compiled code copy of the Mobile Software for one <span> {{termsName}} <\/span>      Emergency account owned or leased solely by you, for your personal use. You may not: (i) modify, disassemble, decompile or reverse engineer the Mobile Software, except to the extent that such restriction is expressly prohibited by law; (ii) rent,\r\n      lease, loan, resell, sublicense, distribute or otherwise transfer the Mobile Software to any third party or use the Mobile Software to provide time sharing or similar services for any third party; (iii) make any copies of the Mobile Software; (iv)\r\n      remove, circumvent, disable, damage or otherwise interfere with security-related features of the Mobile Software, features that prevent or restrict use or copying of any content accessible through the Mobile Software, or features that enforce limitations\r\n      on use of the Mobile Software; or (v) delete the copyright and other proprietary rights notices on the Mobile Software. You acknowledge that <span> {{termsName}} <\/span> Emergency may from time to time issue upgraded versions of the Mobile Software,\r\n      and may automatically electronically upgrade the version of the Mobile Software that you are using on your mobile device. You consent to such automatic upgrading on your mobile device, and agree that the terms and conditions of this Agreement will\r\n      apply to all such upgrades. Any third-party code that may be incorporated in the Mobile Software is covered by the applicable open source or third-party license EULA, if any, authorizing use of such code. The foregoing license grant is not a sale\r\n      of the Mobile Software or any copy thereof, and <span> {{termsName}} <\/span> Emergency or its third party partners or suppliers retain all right, title, and interest in the Mobile Software (and any copy thereof). Any attempt by you to transfer any\r\n      of the rights, duties or obligations hereunder, except as expressly provided for in this Agreement, is void. <span> {{termsName}} <\/span> Emergency reserves all rights not expressly granted under this Agreement. The Mobile Software originates in\r\n      the United States, and is subject to United States export laws and regulations. The Mobile Software may not be exported or re-exported to certain countries or those persons or entities prohibited from receiving exports from the United States. In\r\n      addition, the Mobile Software may be subject to the import and export laws of other countries. You agree to comply with all United States and foreign laws related to use of the Mobile Software and the <span> {{termsName}} <\/span> Emergency Service.\r\n      (1) Mobile Software from iTunes. The following applies to any Mobile Software you acquire from the iTunes Store (&quot;iTunes-Sourced Software&quot;): You acknowledge and agree that this Agreement is solely between you and <span> {{termsName}} <\/span>      Emergency, not Apple, and that Apple has no responsibility for the iTunes-Sourced Software or content thereof. Your use of the iTunes-Sourced Software must comply with the App Store Terms of Service. You acknowledge that Apple has no obligation\r\n      whatsoever to furnish any maintenance and support services with respect to the iTunes-Sourced Software. In the event of any failure of the iTunes-Sourced Software to conform to any applicable warranty, you may notify Apple, and Apple will refund\r\n      the purchase price for the iTunes-Sourced Software to you; to the maximum extent permitted by applicable law, Apple will have no other warranty obligation whatsoever with respect to the iTunes-Sourced Software, and any other claims, losses, liabilities,\r\n      damages, costs or expenses attributable to any failure to conform to any warranty will be solely governed by this Agreement and any law applicable to <span> {{termsName}} <\/span> Emergency as provider of the software. You acknowledge that Apple\r\n      is not responsible for addressing any claims of you or any third party relating to the iTunes-Sourced Software or your possession and/or use of the iTunes-Sourced Software, including, but not limited to: (i) product liability claims; (ii) any claim\r\n      that the iTunes-Sourced Software fails to conform to any applicable legal or regulatory requirement; and (iii) claims arising under consumer protection or similar legislation; and all such claims are governed solely by this Agreement and any law\r\n      applicable to <span> {{termsName}} <\/span> Emergency as provider of the software. You acknowledge that, in the event of any third party claim that the iTunes-Sourced Software or your possession and use of that iTunes-Sourced Software infringes that\r\n      third partys intellectual property rights, <span> {{termsName}} <\/span> Emergency, not Apple, will be solely responsible for the investigation, defense, settlement and discharge of any such intellectual property infringement claim to the extent\r\n      required by this Agreement. You and <span> {{termsName}} <\/span> Emergency acknowledge and agree that Apple, and Apples subsidiaries, are third party beneficiaries of this Agreement as relates to your license of the iTunes-Sourced Software, and\r\n      that, upon your acceptance of the terms and conditions of this Agreement, Apple will have the right (and will be deemed to have accepted the right) to enforce this Agreement as relates to your license of the iTunes-Sourced Software against you as\r\n      a third party beneficiary thereof.\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong>5. Our Proprietary Rights<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      Except for your User Content, the Service and all materials therein or transferred thereby, including, without limitation, software, images, text, graphics, illustrations, logos, patents, trademarks, service marks, copyrights, photographs, audio, videos,\r\n      music, and User Content belonging to other Users (the <span> {{termsName}} <\/span> Emergency Content), and all Intellectual Property Rights related thereto, are the exclusive property of <span> {{termsName}} <\/span> and its licensors (including\r\n      other Users who post User Content to the Service). Except as explicitly provided herein, nothing in this Agreement shall be deemed to create a license in or under any such Intellectual Property Rights, and you agree not to sell, license, rent, modify,\r\n      distribute, copy, reproduce, transmit, publicly display, publicly perform, publish, adapt, edit or create derivative works from any <span> {{termsName}} <\/span> Content. Use of the <span> {{termsName}} <\/span> Emergency Content for any purpose not\r\n      expressly permitted by this Agreement is strictly prohibited.\r\n      <br> You may choose to or we may invite you to submit comments or ideas about the Service, including without limitation about how to improve the Service or our products (&quot;Ideas&quot;). By submitting any Idea, you agree that your disclosure is gratuitous,\r\n      unsolicited and without restriction and will not place <span> {{termsName}} <\/span> under any fiduciary or other obligation, and that we are free to use the Idea without any additional compensation to you, and/or to disclose the Idea on a non-confidential\r\n      basis or otherwise to anyone. You further acknowledge that, by acceptance of your submission, <span> {{termsName}} <\/span> does not waive any rights to use similar or related ideas previously known to <span> {{termsName}} <\/span>, or developed by\r\n      its employees, or obtained from sources other than you.\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong> 6. Recording Location-Based Information<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      <span> {{termsName}} <\/span> does not collect, monitor, track, or disclose information concerning your physical location or the location of your handset except to provide certain services in emergency situations. Any information that we collect,\r\n      monitor, or track regarding your physical location or the location of your handset will be treated as confidential and is retained only for the period necessary to provide the requested service or respond to the specific request. By using our service,\r\n      you consent to have us electronically collect, monitor, track, and disclose your physical location and the location of your handset and to provide this information to the following individuals or governmental entities in the following circumstances:\r\n      <br> 1. Your immediate family member or legal guardian in an emergency situation involving serious physical harm;\r\n      <br> 2. Public safety and emergency services personnel;\r\n      <br> 3. Providers of information or database management services to assist with emergency services;\r\n      <br> 4. Law enforcement personnel pursuant to an authorized subpoena or other legal requirement.\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong> 7. Privacy<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      We care about the privacy of our Users. You understand that by using the Services you consent to the collection, use and disclosure of your personally identifiable information and aggregate data as set forth in our Privacy Policy, and to have your personally\r\n      identifiable information collected, used, transferred to and processed in the United States.\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong> 8. Security<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      <span> {{termsName}} <\/span> cares about the integrity and security of your personal information. However, we cannot guarantee that unauthorized third parties will never be able to defeat our security measures or use your personal information for\r\n      improper purposes. You acknowledge that you provide your personal information at your own risk.\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong> 9. Third-Party Links<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      The Service may contain links to third-party websites, advertisers, services, special offers, or other events or activities that are not owned or controlled by <span> {{termsName}} <\/span>. <span> {{termsName}} <\/span> does not endorse or assume\r\n      any responsibility for any such third-party sites, information, materials, products, or services. If you access a third party website from the Service, you do so at your own risk, and you understand that this Agreement and <span> {{termsName}} <\/span>s\r\n      Privacy Policy do not apply to your use of such sites. You expressly relieve <span> {{termsName}} <\/span> from any and all liability arising from your use of any third-party website, service, or content. Additionally, your dealings with or participation\r\n      in promotions of advertisers found on the Service, including payment and delivery of goods, and any other terms (such as warranties) are solely between you and such advertisers. You agree that <span> {{termsName}} <\/span> shall not be responsible\r\n      for any loss or damage of any sort relating to your dealings with such advertisers.\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong>10. Indemnity <\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      You agree to defend, indemnify and hold harmless <span> {{termsName}} <\/span> and its subsidiaries, agents, licensors, managers, employees, officers, trustees, insurers, and other affiliated companies, and their employees, contractors, agents, employees,\r\n      officers and directors, from and against any and all claims, damages, obligations, losses, liabilities, costs or debt, and expenses (including but not limited to attorneys fees) arising from: (i) your use of and access to the Service, including\r\n      any data or content transmitted or received by you; (ii) your violation of any term of this Agreement, including without limitation your breach of any of the representations and warranties above; (iii) your violation of any third-party right, including\r\n      without limitation any right of privacy or Intellectual Property Rights; (iv) your violation of any applicable law, rule or regulation; (v) any claim or damages that arise as a result of any of your User Content or any that is submitted via your\r\n      account; or (vi) any other partys access and use of the Service with your unique username, password or other appropriate security code.\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong> 11. No Warranty<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      THE SERVICE IS PROVIDED ON AN AS IS AND &quot;AS AVAILABLE&quot; BASIS. USE OF THE SERVICE IS AT YOUR OWN RISK. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, THE SERVICE IS PROVIDED WITHOUT WARRANTIES OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING,\r\n      BUT NOT LIMITED TO, IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT. NO ADVICE OR INFORMATION, WHETHER ORAL OR WRITTEN, OBTAINED BY YOU FROM <span> {{termsName}} <\/span> OR THROUGH THE SERVICE WILL\r\n      CREATE ANY WARRANTY NOT EXPRESSLY STATED HEREIN. WITHOUT LIMITING THE FOREGOING, <span> {{termsName}} <\/span>, ITS SUBSIDIARIES, ITS AFFILIATES, AND ITS LICENSORS DO NOT WARRANT THAT THE CONTENT IS ACCURATE, RELIABLE OR CORRECT; THAT THE SERVICE\r\n      WILL MEET YOUR REQUIREMENTS; THAT THE SERVICE WILL BE AVAILABLE AT ANY PARTICULAR TIME OR LOCATION, UNINTERRUPTED OR SECURE; THAT ANY DEFECTS OR ERRORS WILL BE CORRECTED; OR THAT THE SERVICE IS FREE OF VIRUSES OR OTHER HARMFUL COMPONENTS. ANY CONTENT\r\n      DOWNLOADED OR OTHERWISE OBTAINED THROUGH THE USE OF THE SERVICE IS DOWNLOADED AT YOUR OWN RISK AND YOU WILL BE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR COMPUTER SYSTEM OR MOBILE DEVICE OR LOSS OF DATA THAT RESULTS FROM SUCH DOWNLOAD OR YOUR USE\r\n      OF THE SERVICE. <span> {{termsName}} <\/span> DOES NOT WARRANT, ENDORSE, GUARANTEE, OR ASSUME RESPONSIBILITY FOR ANY PRODUCT OR SERVICE ADVERTISED OR OFFERED BY A THIRD PARTY THROUGH THE <span> {{termsName}} <\/span> SERVICE OR ANY HYPERLINKED WEBSITE\r\n      OR SERVICE, AND COMPANY WILL NOT BE A PARTY TO OR IN ANY WAY MONITOR ANY TRANSACTION BETWEEN YOU AND THIRD-PARTY PROVIDERS OF PRODUCTS OR SERVICES.\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong> 12. Limitation of Liability<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, IN NO EVENT SHALL <span> {{termsName}} <\/span>, ITS AFFILIATES, AGENTS, DIRECTORS, EMPLOYEES, OFFICERS, TRUSTEES, SUPPLIERS OR LICENSORS BE LIABLE FOR ANY DIRECT, INDIRECT, PUNITIVE, INCIDENTAL,\r\n      SPECIAL, CONSEQUENTIAL OR EXEMPLARY DAMAGES, INCLUDING WITHOUT LIMITATION DAMAGES FOR LOSS OF PROFITS, GOODWILL, USE, DATA OR OTHER INTANGIBLE LOSSES, THAT RESULT FROM THE USE OF, OR INABILITY TO USE, THIS SERVICE. UNDER NO CIRCUMSTANCES WILL <span> {{termsName}} <\/span>      BE RESPONSIBLE FOR ANY DAMAGE, LOSS OR INJURY RESULTING FROM HACKING, TAMPERING OR OTHER UNAUTHORIZED ACCESS OR USE OF THE SERVICE OR YOUR ACCOUNT OR THE INFORMATION CONTAINED THEREIN. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, <span> {{termsName}} <\/span>      ASSUMES NO LIABILITY OR RESPONSIBILITY FOR ANY (I) ERRORS, MISTAKES, OR INACCURACIES OF CONTENT; (II) PERSONAL INJURY OR PROPERTY DAMAGE, OF ANY NATURE WHATSOEVER, RESULTING FROM YOUR ACCESS TO OR USE OF OUR SERVICE; (III) ANY UNAUTHORIZED ACCESS\r\n      TO OR USE OF OUR SECURE SERVERS AND/OR ANY AND ALL PERSONAL INFORMATION STORED THEREIN; (IV) ANY INTERRUPTION OR CESSATION OF TRANSMISSION TO OR FROM THE SERVICE; (V) ANY BUGS, VIRUSES, TROJAN HORSES, OR THE LIKE THAT MAY BE TRANSMITTED TO OR THROUGH\r\n      OUR SERVICE BY ANY THIRD PARTY; (VI) ANY ERRORS OR OMISSIONS IN ANY CONTENT OR FOR ANY LOSS OR DAMAGE INCURRED AS A RESULT OF THE USE OF ANY CONTENT POSTED, EMAILED, TRANSMITTED, OR OTHERWISE MADE AVAILABLE THROUGH THE SERVICE; AND/OR (VII) USER\r\n      CONTENT OR THE DEFAMATORY, OFFENSIVE, OR ILLEGAL CONDUCT OF ANY THIRD PARTY. IN NO EVENT SHALL <span> {{termsName}} <\/span>, ITS AFFILIATES, AGENTS, EMPLOYEES, OFFICERS, TRUSTEES, DIRECTORS, EMPLOYEES, SUPPLIERS, OR LICENSORS BE LIABLE TO YOU FOR\r\n      ANY CLAIMS, PROCEEDINGS, LIABILITIES, OBLIGATIONS, DAMAGES, LOSSES OR COSTS IN AN AMOUNT EXCEEDING THE AMOUNT YOU PAID TO COMPANY HEREUNDER OR $100.00, WHICHEVER IS GREATER.\r\n      <br> THIS LIMITATION OF LIABILITY SECTION APPLIES WHETHER THE ALLEGED LIABILITY IS BASED ON CONTRACT, TORT, NEGLIGENCE, STRICT LIABILITY, OR ANY OTHER BASIS, EVEN IF <span> {{termsName}} <\/span> HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. THE\r\n      FOREGOING LIMITATION OF LIABILITY SHALL APPLY TO THE FULLEST EXTENT PERMITTED BY LAW IN THE STATE OF DELAWARE.\r\n      <br> The Service is controlled and operated from facilities in the United States. <span> {{termsName}} <\/span> makes no representations that the Service is appropriate or available for use in other locations. Those who access or use the Service from\r\n      other jurisdictions do so at their own volition and are entirely responsible for compliance with all applicable United States and local laws and regulations, including but not limited to export and import regulations. You may not use the Service\r\n      if you are a resident of a country embargoed by the United States, or are a foreign person or entity blocked or denied by the United States government. Unless otherwise explicitly stated, all materials found on the Service are solely directed to\r\n      individuals, companies, or other entities located in the United States.\r\n    <\/p>\r\n\r\n\r\n    <p class=\"font16\"><strong> 13. Governing Law and Arbitration<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      You agree that: (i) the Service shall be deemed solely based in Delaware; and (ii) the Service shall be deemed a passive one that does not give rise to personal jurisdiction over <span> {{termsName}} <\/span>, either specific or general, in jurisdictions\r\n      other than Delaware. This Agreement shall be governed by the internal substantive laws of the State of Delaware, without respect to its conflict of laws principles. The application of the United Nations Convention on Contracts for the International\r\n      Sale of Goods is expressly excluded. You agree to submit to the personal jurisdiction of the federal and state courts located in Delaware for any actions for which we retain the right to seek injunctive or other equitable relief in a court of competent\r\n      jurisdiction to prevent the actual or threatened infringement, misappropriation or violation of a our copyrights, trademarks, trade secrets, patents, or other intellectual property or proprietary rights.\r\n    <\/p>\r\n\r\n    <p class=\"font16\"><strong> 14. General<\/strong><\/p>\r\n    <p class=\"font14 paddingRight5\">\r\n      <span class=\"proximaBoldFont\">A. Assignment.<\/span>\r\n      <br> This Agreement, and any rights and licenses granted hereunder, may not be transferred or assigned by you, but may be assigned by <span> {{termsName}} <\/span> without restriction. Any attempted transfer or assignment in violation hereof shall be\r\n      null and void.\r\n      <br> <span class=\"proximaBoldFont\">B. Notification Procedures and Changes to the Agreement.<\/span>\r\n      <br> <span> {{termsName}} <\/span> may provide notifications, whether such notifications are required by law or are for marketing or other business related purposes, to you via email notice, written or hard copy notice, or through posting of such notice\r\n      on our website, as determined by <span> {{termsName}} <\/span> in our sole discretion. <span> {{termsName}} <\/span> reserves the right to determine the form and means of providing notifications to our Users, provided that you may opt out of certain\r\n      means of notification as described in this Agreement. <span> {{termsName}} <\/span> is not responsible for any automatic filtering you or your network provider may apply to email notifications we send to the email address you provide us. <span> {{termsName}} <\/span>      may, in its sole discretion, modify or update this Agreement from time to time, and so you should review this page periodically. When we change the Agreement in a material manner, we will update the last modified date at the bottom of this page.\r\n      Your continued use of the Service after any such change constitutes your acceptance of the new Terms of Use. If you do not agree to any of these terms or any future Terms of Use, do not use or access (or continue to access) the Service.\r\n      <br> <span class=\"proximaBoldFont\">C. Entire Agreement/Severability.<\/span>\r\n      <br> This Agreement, together with any amendments and any additional agreements you may enter into with <span> {{termsName}} <\/span> in connection with the Service, shall constitute the entire agreement between you and <span> {{termsName}} <\/span> concerning\r\n      the Service. If any provision of this Agreement is deemed invalid by a court of competent jurisdiction, the invalidity of such provision shall not affect the validity of the remaining provisions of this Agreement, which shall remain in full force\r\n      and effect.\r\n      <br> <span class=\"proximaBoldFont\">D. No Waiver.<\/span>\r\n      <br> No waiver of any term of this Agreement shall be deemed a further or continuing waiver of such term or any other term, and <span> {{termsName}} <\/span>s failure to assert any right or provision under this Agreement shall not constitute a waiver\r\n      of such right or provision.\r\n      <br> This Agreement was last modified on September 7, 2016.\r\n      <br> Dated: September 7, 2016\r\n    <\/p>\r\n    <div>\r\n      <div id=\"btnAgree\" class='btn btn-block btn-primary marginTop15px ' ng-click=\"terms();\" style=\"font-size:12px;\">I Agree to the terms & conditions<\/div>\r\n\r\n\r\n    <\/div>\r\n  <\/div>\r\n<\/div>",
          "termsName": "Becker"
        },
        {
          "pageid": "BlueLightEmergency50Page6",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page6(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  $rootScope.back = function() {\r\n    $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n  };\r\n\r\n  $scope.returnFun = function(btn) {\r\n\r\n    if (btn == 1) {\r\n\r\n      return;\r\n    } else {\r\n\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n\r\n    }\r\n  }\r\n\r\n\r\n  $scope.PI = true;\r\n\r\n  $(\".tabsContent1\").hide();\r\n\r\n  $(\"#PIContent\").show();\r\n\r\n  var url = $.jStorage.get('url') + \"/personal\";\r\n  var tenantId = $.jStorage.get('tenantId');\r\n\r\n\r\n  url = url + \"/\" + $rootScope.user.email;\r\n  $scope.PerEmail = $rootScope.user.email;\r\n\r\n  $(\"#PerEmail\").val($scope.PerEmail.toLowerCase());\r\n  var PI = null;\r\n  $scope.showHide = function(show) {\r\n    $scope.PI = false;\r\n    $scope.MI = false;\r\n    $scope.AI = false;\r\n    if (show == 'MI') {\r\n      $scope.MI = true;\r\n      $(\"#MIContent\").show();\r\n      $(\"#AIContent\").hide();\r\n      $(\"#PIContent\").hide();\r\n    } else if (show == 'AI') {\r\n      $scope.AI = true;\r\n      $(\"#MIContent\").hide();\r\n      $(\"#AIContent\").show();\r\n      $(\"#PIContent\").hide();\r\n    } else {\r\n      $scope.PI = true;\r\n      $(\"#MIContent\").hide();\r\n      $(\"#AIContent\").hide();\r\n      $(\"#PIContent\").show();\r\n    }\r\n  }\r\n  var checkPersonalInfo = function() {\r\n    try {\r\n\r\n      if ($.jStorage.get(\"PersonalInfo\") != null) {\r\n        $scope.NoProfile = true;\r\n      }\r\n      $scope.NoProfile = false;\r\n\r\n      var proxyMethod = \"GET\";\r\n\r\n\r\n      $.blockUI();\r\n\r\n      $http({\r\n        method: proxyMethod,\r\n        url: url,\r\n        headers: {\r\n          \"X-Tenant-ID\": tenantId,\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        data: ''\r\n\r\n      }).then(function(response) {\r\n        $.unblockUI();\r\n\r\n\r\n        if (response.data != '') {\r\n          $scope.data = response.data;\r\n\r\n\r\n          $.jStorage.set(\"PersonalInfo\", $scope.data);\r\n          $(\"#usr_id\").val($scope.data._id);\r\n          $(\"#PerFirstname\").val($scope.data.fname);\r\n          $(\"#PerLastname\").val($scope.data.lname);\r\n          $(\"#PerEmail\").val($scope.data.email);\r\n          $(\"#PerAddress\").val($scope.data.address);\r\n          $(\"#PerPhNum\").val($scope.data.phone);\r\n          $(\"#PerBG\").val($scope.data.bloodGroup);\r\n          $(\"#perSex\").val($scope.data.sex);\r\n          $(\"#PerAge\").val($scope.data.age);\r\n          if ($scope.data.medicalInfo != null && $scope.data.medicalInfo != 'undefined') {\r\n\r\n\r\n            $scope.medicalInfo = $scope.data.medicalInfo;\r\n            $scope.additionalInfo = $scope.data.additionalInfo;\r\n\r\n            $scope.smoking = $scope.medicalInfo.smoking;\r\n            $scope.alcohol = $scope.medicalInfo.alcoholic;\r\n            $scope.diabetic = $scope.medicalInfo.diabetic;\r\n            $scope.disability = $scope.medicalInfo.disability;\r\n\r\n            $(\"#PerAllergy\").val($scope.medicalInfo.allergies);\r\n            $(\"#PerMedication\").val($scope.medicalInfo.medication);\r\n            $(\"#PerVaccines\").val($scope.medicalInfo.vaccines);\r\n            $(\"#PerMedicalNotes\").val($scope.medicalInfo.medicalNotes);\r\n\r\n\r\n          }\r\n          $rootScope.PersonalInfo = response.data;\r\n\r\n\r\n        } else {\r\n\r\n          $scope.PerEmail = $rootScope.user.email\r\n        }\r\n      }, function(response) {\r\n        $.unblockUI();\r\n        $scope.data = response.data || 'Request failed';\r\n        $scope.status = response.status;\r\n\r\n\r\n      });\r\n\r\n\r\n\r\n    } catch (e) {\r\n      alert(e)\r\n    }\r\n  }\r\n  var devicePushID = '';\r\n  $scope.deviceID = '';\r\n  $scope.SavePersonalInfo = function() {\r\n\r\n\r\n    if (window.device) {\r\n      \r\n      $rootScope.push = PushNotification.init({\r\n        android: {\r\n          senderID: \"280092233283\",\r\n\t\t  sound: true,\r\n          vibrate: true\r\n        },\r\n        browser: {\r\n          pushServiceURL: 'http://push.api.phonegap.com/v1/push'\r\n        },\r\n        ios: {\r\n          alert: \"true\",\r\n          badge: \"true\",\r\n          sound: \"true\"\r\n        },\r\n        windows: {}\r\n      });\r\n      \r\n      $rootScope.push.on('error', function(e) {\r\n        alert(JSON.stringify(e));\r\n      });\r\n\t  \r\n\t   try {\r\n      PushNotification.createChannel(\r\n        () => {\r\n          console.log(\"success\");\r\n        }, () => {\r\n          console.log(\"error\");\r\n        }, {\r\n          id: 'pushNotificationChannel',\r\n          description: 'Push Notification Channel',\r\n          importance: 1,\r\n          vibration: true\r\n        }\r\n      );\r\n    } catch (e) {\r\n        console.log(\"channel not created\")\r\n    }\r\n\r\n\r\n      $rootScope.push.on('registration', function(data) {\r\n        devicePushID = data.registrationId;\r\n\r\n        $scope.save();\r\n\r\n      });\r\n\r\n      $scope.deviceID = device.platform;\r\n\r\n    } else {\r\n\r\n      $scope.save();\r\n    }\r\n  }\r\n\r\n  $scope.save = function() {\r\n\r\n\r\n\r\n\r\n    if ($(\"#PerFirstname\").val().trim() == \"\" || $(\"#PerLastname\").val().trim() == \"\" || /^[a-zA-Z0-9- ]*$/.test($(\"#PerFirstname\").val().trim()) == false || /^[a-zA-Z0-9- ]*$/.test($(\"#PerLastname\").val().trim()) == false) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter a valid name, make sure you are not adding special characters.\");\r\n\r\n      } else {\r\n        alert(\"Please enter a valid name, make sure you are not adding any special characters.\");\r\n\r\n      }\r\n      return;\r\n    }\r\n    if ($(\"#PerAddress\").val().trim() == \"\") {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter a valid Address.\");\r\n\r\n      } else {\r\n        alert(\"Please enter a valid Address.\");\r\n\r\n      }\r\n      return;\r\n    }\r\n    if ($(\"#PerAge\").val().trim() == \"\" || /^\\d+$/.test($(\"#PerAge\").val().trim()) == false || $(\"#PerAge\").val().trim() < 5 || $(\"#PerAge\").val().trim() > 200) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter a valid age.\");\r\n\r\n      } else {\r\n        alert(\"Please enter a valid age.\");\r\n\r\n      }\r\n      return;\r\n    }\r\n\r\n    if ($(\"#PerBG\").val().trim() != \"\" && /^(A|B|AB|O)[+-]$/.test($(\"#PerBG\").val().trim()) == false) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter a valid Blood Group.\");\r\n\r\n      } else {\r\n        alert(\"Please enter a valid Blood Group.\");\r\n\r\n      }\r\n      return;\r\n    }\r\n    if ($(\"#perSex\").val().trim() == \"\") {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please select Gender.\");\r\n\r\n      } else {\r\n        alert(\"Please select sex.\");\r\n\r\n      }\r\n      return;\r\n    }\r\n\r\n    if ($(\"#PerAllergy\").val().trim() != \"\" && /^[a-zA-Z0-9,. ]*$/.test($(\"#PerAllergy\").val().trim()) == false) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter valid Allergy description.\");\r\n\r\n      } else {\r\n        alert(\"Please enter valid Allergy description.\");\r\n\r\n      }\r\n      return;\r\n    }\r\n    if ($(\"#PerMedication\").val().trim() != \"\" && /^[a-zA-Z0-9,. ]*$/.test($(\"#PerMedication\").val().trim()) == false) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter valid Medication detail.\");\r\n\r\n      } else {\r\n        alert(\"Please enter valid Medication detail.\");\r\n\r\n      }\r\n      return;\r\n    }\r\n    if ($(\"#PerVaccines\").val().trim() != \"\" && /^[a-zA-Z0-9,. ]*$/.test($(\"#PerVaccines\").val().trim()) == false) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter valid Vaccines description.\");\r\n\r\n      } else {\r\n        alert(\"Please enter valid Vaccines description.\");\r\n\r\n      }\r\n      return;\r\n    }\r\n    if ($(\"#PerMedicalNotes\").val().trim() != \"\" && /^[a-zA-Z0-9,. ]*$/.test($(\"#PerMedicalNotes\").val().trim()) == false) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter valid Medical Notes.\");\r\n\r\n      } else {\r\n        alert(\"Please enter valid Medical Notes.\");\r\n\r\n      }\r\n      return;\r\n    }\r\n\r\n\r\n    if (!(($(\"#PerPhNum\").val().trim()).match(/^\\d{10}$/)) || $(\"#PerPhNum\").val().trim().length != 10 || $(\"#PerPhNum\").val() < 10) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter a valid phone number.\");\r\n      } else {\r\n        alert(\"Please enter a valid phone number.\" + $(\"#PerPhNum\").val().trim());\r\n      }\r\n      return;\r\n    }\r\n    if ($(\"#PerEmail\").val().trim() == \"\") {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Enter Valid Email\");\r\n      }\r\n\r\n    }\r\n\r\n\r\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    if (!re.test(String($(\"#PerEmail\").val().trim()).toLowerCase())) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please enter a valid email.\");\r\n        $.unblockUI();\r\n      } else {\r\n        alert(\"Please enter a valid email.\");\r\n      }\r\n      $.unblockUI();\r\n      return;\r\n      return;\r\n    }\r\n\r\n    var personalInfodata = {};\r\n\r\n\r\n    if ($rootScope.PersonalInfo != undefined) {\r\n\r\n      personalInfodata = $rootScope.PersonalInfo;\r\n    }\r\n\r\n\r\n    var medicalInfo = {};\r\n    var additionalInfo = {};\r\n\r\n    if ($(\"#usr_id\").val().trim() != 'undefined' && $(\"#usr_id\").val().trim() != null && $(\"#usr_id\").val().trim() != '') {\r\n\r\n      personalInfodata._id = $(\"#usr_id\").val().trim();\r\n    }\r\n    personalInfodata.fname = $(\"#PerFirstname\").val().trim();\r\n    personalInfodata.lname = $(\"#PerLastname\").val().trim();\r\n    personalInfodata.email = $(\"#PerEmail\").val().trim().toLowerCase();\r\n    personalInfodata.address = $(\"#PerAddress\").val().trim();\r\n    personalInfodata.phone = $(\"#PerPhNum\").val().trim();\r\n    personalInfodata.bloodGroup = $(\"#PerBG\").val().trim();\r\n    personalInfodata.sex = $(\"#perSex\").val().trim();\r\n    personalInfodata.age = $(\"#PerAge\").val().trim();\r\n\r\n    personalInfodata.pushID = devicePushID;\r\n    personalInfodata.deviceType = $scope.deviceID;\r\n\r\n\r\n\r\n\r\n\r\n    medicalInfo.smoking = $scope.smoking;\r\n\r\n    medicalInfo.alcoholic = $scope.alcohol;\r\n    medicalInfo.diabetic = $scope.diabetic;\r\n    medicalInfo.disability = $scope.disability;\r\n    medicalInfo.allergies = $(\"#PerAllergy\").val().trim();\r\n    medicalInfo.medication = $(\"#PerMedication\").val().trim();\r\n    medicalInfo.vaccines = $(\"#PerVaccines\").val().trim();\r\n    medicalInfo.medicalNotes = $(\"#PerMedicalNotes\").val().trim();\r\n\r\n    personalInfodata.medicalInfo = medicalInfo;\r\n\r\n    var proxyMethod = \"POST\";\r\n    var proxyData = personalInfodata;\r\n\r\n    console.log(\"url\", JSON.stringify(url));\r\n    console.log(\"tenantId\", JSON.stringify(tenantId));\r\n    console.log(\"proxyData\", JSON.stringify(proxyData));\r\n\r\n    $.blockUI();\r\n    $http({\r\n      method: proxyMethod,\r\n      url: url,\r\n      headers: {\r\n        \"X-Tenant-ID\": tenantId,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      data: proxyData\r\n\r\n    }).then(function(response) {\r\n      console.log(\"error\", response);\r\n\r\n      if (response.data != 'undefined') {\r\n        $scope.data = response.data;\r\n\r\n        $.jStorage.set(\"PersonalInfo\", $scope.data);\r\n        $(\"#usr_id\").val($scope.data._id);\r\n        $(\"#PerFirstname\").val($scope.data.fname);\r\n        $(\"#PerLastname\").val($scope.data.lname);\r\n        $(\"#PerEmail\").val($scope.data.email);\r\n        $(\"#PerAddress\").val($scope.data.address);\r\n        $(\"#PerPhNum\").val($scope.data.phone);\r\n        $(\"#PerBG\").val($scope.data.bloodGroup);\r\n        $(\"#perSex\").val($scope.data.sex);\r\n        $(\"#PerAge\").val($scope.data.age);\r\n        if ($scope.data.medicalInfo != null && $scope.data.medicalInfo != 'undefined') {\r\n\r\n\r\n          $scope.medicalInfo = $scope.data.medicalInfo;\r\n          $scope.additionalInfo = $scope.data.additionalInfo;\r\n\r\n          $scope.smoking = $scope.medicalInfo.smoking;\r\n          $scope.alcohol = $scope.medicalInfo.alcoholic;\r\n          $scope.diabetic = $scope.medicalInfo.diabetic;\r\n          $scope.disability = $scope.medicalInfo.disability;\r\n          $(\"#PerAllergy\").val($scope.medicalInfo.allergies);\r\n          $(\"#PerMedication\").val($scope.medicalInfo.medication);\r\n          $(\"#PerVaccines\").val($scope.medicalInfo.vaccines);\r\n          $(\"#PerMedicalNotes\").val($scope.medicalInfo.medicalNotes);\r\n\r\n\r\n        }\r\n        $rootScope.PersonalInfo = response.data;\r\n\r\n      }\r\n      $.unblockUI();\r\n      if (window.device) {\r\n\r\n        navigator.notification.alert(\"Your Information is saved successfully.\");\r\n\r\n      } else {\r\n        alert(\"Information is saved successfully.\");\r\n      }\r\n    }, function(error) {\r\n\r\n      if (window.device) {\r\n\r\n        console.log(\"url\", JSON.stringify(url));\r\n        console.log(\"tenantId\", JSON.stringify(tenantId));\r\n        console.log(\"error\", JSON.stringify(error));\r\n        navigator.notification.alert(\"Error in Saving data\");\r\n        $.unblockUI();\r\n      } else {\r\n        alert(\"Error in Saving data\");\r\n      }\r\n\r\n      $.unblockUI();\r\n\r\n\r\n    });\r\n\r\n  }\r\n  checkPersonalInfo();\r\n  if ($scope.PerEmail != '') {\r\n\r\n    $scope.isDisabled = true;\r\n  } else {\r\n\r\n    $scope.isDisabled = false;\r\n  }\r\n}",
          "endpoint": "",
          "datatemplate": "<style>\r\n  .switchCircle input {\r\n    z-index: 99 !important;\r\n    position: absolute !important;\r\n    left: 9px !important;\r\n    right: 0 !important;\r\n    top: -12px !important;\r\n    height: 10px !important;\r\n    display: block !important;\r\n    opacity: 0 !important;\r\n    padding: 10px !important;\r\n  }\r\n  \r\n  .noteStar {\r\n    color: red;\r\n    font-size: 26px;\r\n    position: absolute;\r\n    top: -8px;\r\n    right: 6px;\r\n  }\r\n  \r\n  @media (max-width: 480px) and (min-width: 320px) {\r\n    .toolbar-menu {\r\n      padding: 0px 0 !important;\r\n    }\r\n    /* .toolbar-column span {\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n      } */\r\n    .toolbar-column span {\r\n      font-weight: normal;\r\n      font-size: 13px;\r\n    }\r\n    select > option[value=\"\"] {\r\n      display: none;\r\n    }\r\n  }\r\n<\/style>\r\n<div class=\"list-group-item toolbar-menu clearfix\">\r\n  <div id=\"tab1\" class=\"col-xs-4 toolbar-column toolbar-column-active\" ng-class=\"PI ? 'toolbar-column-active' : ''\" ng-click=\"showHide('PI');\">\r\n    <span class=\"proximaFont\">Personal Info<\/span>\r\n  <\/div>\r\n  <div id=\"tab2\" class=\"col-xs-4 toolbar-column\" ng-class=\"MI ? 'toolbar-column-active' : ''\" ng-click=\"showHide('MI');\">\r\n    <span class=\"proximaFont\">Medical Info<\/span>\r\n  <\/div>\r\n  <div id=\"tab3\" class=\"col-xs-4 toolbar-column\" ng-class=\"AI ? 'toolbar-column-active' : ''\" ng-click=\"showHide('AI');\">\r\n    <span class=\"proximaFont\">Additional Info<\/span>\r\n  <\/div>\r\n<\/div>\r\n\r\n<div class=\"lg_webAppletContentPadding marginTop15px\">\r\n  <div class=\"list-group listItems\">\r\n    <div id=\"PIContent\" class='tabsContent1'>\r\n      <div class=\"list-group-item\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <input class=\"form-control\" type=\"text\" id=\"PerFirstname\" ng-model=\"PerFirstname\" placeholder=\"First Name\" />\r\n            <span class=\"noteStar\">*<\/span>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"list-group-item\">\r\n        <div class=\"row \">\r\n          <div class=\"col-md-12 \">\r\n            <input class=\"form-control \" type=\"text\" id=\"PerLastname\" ng-model=\"PerLastname\" placeholder=\"Last Name\" />\r\n            <span class=\"noteStar\">*<\/span>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"list-group-item\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <input class=\"form-control\" type=\"text\" id=\"PerEmail\" ng-model=\"PerEmail\" placeholder=\"Email\" ng-disabled=\"isDisabled\" />\r\n            <span class=\"noteStar\">*<\/span>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"list-group-item\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <textarea class=\"form-control\" type=\"text\" id=\"PerAddress\" ng-model=\"PerAddress\" placeholder=\"Address\" style=\"height:50px;\"><\/textarea>\r\n            <span class=\"noteStar\">*<\/span>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"list-group-item\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-1 col-sm-1 col-xs-2 pr0\">\r\n            <input class=\"form-control disabled text-center\" style=\"padding:0px;\" value=\"+1\" disabled=\"disabled\">\r\n          <\/div>\r\n          <div class=\"col-md-11 col-sm-11 col-xs-10\">\r\n            <input class=\"form-control\" type=\"text\" id=\"PerPhNum\" placeholder=\"Phone Number\" min=\"0000000010\"  max=\"9999999999\" /><span class=\"noteStar \">*<\/span>\r\n              <\/div>\r\n          <\/div>\r\n      <\/div>\r\n      <div class=\"list-group-item\">\r\n          <div class=\"row\"> \r\n              <div class=\"col-md-6 col-sm-6 col-xs-6\">\r\n                  <input class=\"form-control\" type=\"text\" id=\"PerBG\" ng-model=\"PerBG\" placeholder=\"Blood Group\">\r\n              <\/div>\r\n              <div class=\"col-md-6 col-sm-6 col-xs-6\">\r\n               <input class=\"form-control\" type=\"text\" id=\"PerAge\" ng-model=\"PerAge\" placeholder=\"Age\" /><span class=\"noteStar \">*<\/span>\r\n              <\/div>\r\n             \r\n          <\/div>\r\n      <\/div>\r\n    <div class=\"list-group-item\">\r\n          <div class=\"row\"> \r\n               \r\n              <div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n              <select data-role=\"none\" class=\"form-control border1px\"  ng-model=\"perSex\"  id=\"perSex\">\r\n            \r\n                      <option value=\" \">Select Gender<\/option>\r\n                      <option value=\"Male\">Male<\/option>\r\n                      <option value=\"Female\">Female<\/option>\r\n                      <option value=\"Non-Binary\">Non-Binary<\/option>\r\n              <\/select>\r\n                  <span class=\"noteStar\">*<\/span>\r\n              <\/div>\r\n          <\/div>\r\n      <\/div>\r\n          \r\n      <div class=\"list-group-item\">\r\n              <div class='Applybtn btn btn-block btn-primary' ng-click=\"SavePersonalInfo();\" ng-show='NoProfile'>Save<\/div>\r\n              <div class='Applybtn btn btn-block btn-primary' ng-click=\"SavePersonalInfo();\" ng-hide='NoProfile'>Update<\/div>\r\n      <\/div>\r\n      <div class=\"ng-hide\">\r\n      <div class=\"row\"> \r\n          <div class=\"col-md-12\"> \r\n              <input class=\"form-control\" type=\"text\" id=\"usr_id\" placeholder=\" \" />\r\n              <span class=\"noteStar\">*<\/span>\r\n          <\/div>\r\n      <\/div>\r\n  <\/div>\r\n  <\/div>\r\n  <div id=\"MIContent\" class='tabsContent1'> \r\n  <div class=\"list-group-item \">\r\n      <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n              <div>\r\n                  <input class=\"form-control\" style=\"height:50px;\" type=\"text\" id=\"PerAllergy\" ng-model=\"PerAllergy\" placeholder=\"Allergies\" />\r\n              <\/div>\r\n          <\/div>\r\n      <\/div>\r\n  <\/div>\r\n  <div class=\"list-group-item\">\r\n      <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n              <div>\r\n                  <input class=\"form-control\" style=\"height:45px;\" type=\"text\" id=\"PerMedication\" ng-model=\"PerMedication\" placeholder=\"Medication\"/>\r\n              <\/div>\r\n          <\/div>\r\n      <\/div>\r\n  <\/div>\r\n  \r\n  <div class=\"list-group-item\">\r\n      <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n              <div>\r\n                  <input class=\"form-control\" style=\"width:100%;height:45px;\" type=\"text\" id=\"PerVaccines\" ng-model=\"PerVaccines\" placeholder=\"Vaccines\"/>\r\n              <\/div>\r\n          <\/div>\r\n      <\/div>\r\n  <\/div>\r\n  <div class=\"list-group-item\">\r\n      <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n              <div>\r\n                  <input class=\"form-control\" style=\"width:100%;height:45px;\" type=\"text\" id=\"PerMedicalNotes\" ng-model=\"PerMedicalNotes\" placeholder=\"Medical Notes\"/>\r\n              <\/div>\r\n          <\/div>\r\n      <\/div>\r\n  <\/div>\r\n      <div class=\"list-group-item\">\r\n          <div class='Applybtn btn btn-block btn-primary' ng-click=\"SavePersonalInfo();\">Update<\/div>\r\n      <\/div>\r\n  <\/div>\r\n  <div id=\"AIContent\" class='tabsContent1'>\r\n      <div class=\"list-group-item\">\r\n          <div class=\"row \">\r\n              <div class=\"col-xs-8\">\r\n                  <label class=\"form-label form16\">Smoking<\/label>\r\n              <\/div>\r\n              <div class=\"col-xs-4\">\r\n                  <label class=\"switch switchCircle colPadding grey-background pull-right\" style=\"margin-top:5px \">\r\n                      <input  type=\"checkbox\" ng-value=\"smoking\" ng-model=\"smoking\">\r\n                      <div class=\"slider sliderCircle round\"><\/div>\r\n                  <\/label>  \r\n              <\/div>\r\n          <\/div>\r\n      <\/div>\r\n      <div class=\"list-group-item\">\r\n          <div class=\"row\">\r\n              <div class=\"col-xs-8\">\r\n                  <label class=\"form-label form16\">Alcohol<\/label>\r\n              <\/div>\r\n              <div class=\"col-xs-4\"> \r\n                  <label class=\"switch switchCircle colPadding grey-background pull-right\" style=\"margin-top:5px\">\r\n                      <input  type=\"checkbox\" ng-value=\"alcohol\" ng-model=\"alcohol\">\r\n                      <div class=\"slider sliderCircle round\"><\/div>\r\n                  <\/label>\r\n              <\/div>\r\n          <\/div>\r\n      <\/div>\r\n      <div class=\"list-group-item\">\r\n          <div class=\"row\">\r\n              <div class=\"col-xs-8\">\r\n                  <label class=\"form-label form16\">Diabetic<\/label>\r\n              <\/div>\r\n              <div class=\"col-xs-4\"> \r\n                  <label class=\"switch switchCircle colPadding grey-background pull-right\" style=\"margin-top:5px\">\r\n                      <input  type=\"checkbox\" ng-value=\"diabetic\" ng-model=\"diabetic\">\r\n                      <div class=\"slider sliderCircle round\"><\/div>\r\n                  <\/label>\r\n              <\/div>\r\n          <\/div>\r\n      <\/div>\r\n      <div class=\"list-group-item\">\r\n          <div class=\"row\">\r\n              <div class=\"col-xs-8\">\r\n                  <label class=\"form-label form16\">Disability<\/label>\r\n              <\/div>\r\n              <div class=\"col-xs-4\"> \r\n                  <label class=\"switch switchCircle colPadding grey-background pull-right\" style=\"margin-top:5px\">\r\n                      <input  type=\"checkbox\" ng-value=\"disability\" ng-model=\"disability\">\r\n                      <div class=\"slider sliderCircle round\"><\/div>\r\n                  <\/label>\r\n              <\/div>\r\n          <\/div>\r\n      <\/div>\r\n          <div class=\"list-group-item\">\r\n              <div class='Applybtn btn btn-block btn-primary' ng-click=\"SavePersonalInfo();\">Update<\/div>\r\n          <\/div>\r\n      <\/div>\r\n  <\/div>\r\n  <\/div>\r\n  <\/div>"
        },
        {
          "pageid": "BlueLightEmergency50Page7",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page7(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n \r\n var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n   \r\n   if ($.jStorage.get('PersonalInfo') == null || $.jStorage.get('PersonalInfo') == 'undefined') {\r\n    if (window.device) {\r\n        navigator.notification.alert(\"Please update your profile\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page6\");\r\n        return;\r\n      } else {\r\n        alert(\"Please update your profile\");\r\n      }\r\n  }\r\n   \r\n   $rootScope.back = function() {\r\n     \r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n    };\r\n    $scope.PerEmail =  $rootScope.user.email;\r\n    var url = $.jStorage.get('url') + \"/personal/\" + $scope.PerEmail;  \r\n   var tenantId = $.jStorage.get('tenantId');\r\n  \r\n   var CheckSettings = function() {\r\n    try {\r\n\r\n      if ($.jStorage.get(\"PersonalInfo\") != null) {\r\n        $scope.NoProfile = true;\r\n      }\r\n        $scope.NoProfile = false;\r\n       \r\n         var proxyMethod = \"GET\";\r\n\r\n        \r\n        $.blockUI();\r\n     $http({\r\n        method: proxyMethod,\r\n        url :  url,\r\n        headers:{\"X-Tenant-ID\": tenantId},\r\n        data: ''\r\n        \r\n        }).then(function(response) {\r\n       \r\n      $.unblockUI();\r\n      \r\n      if(response.data.additionalInfo != undefined){\r\n        $scope.data =  response.data;\r\n       \r\n        $scope.additionalInfo = $scope.data.additionalInfo;\r\n      $.jStorage.set(\"PersonalInfo\", $scope.data);\r\n            \r\n        $(\"#alertText\").val($scope.additionalInfo.alertText);\r\n         $(\"#alertMessage\").prop('checked',$scope.additionalInfo.alertMessage);\r\n        $(\"#addInfo\").prop('checked',$scope.additionalInfo.addInfo);\r\n        $(\"#searchRadius\").val($scope.additionalInfo.searchRadius);\r\n        $(\"#timeInterval\").val($scope.additionalInfo.timeInterval);\r\n        \r\n       $rootScope.PersonalInfo =  response.data;\r\n      \r\n       \r\n      }\r\n        }, function(Error) {\r\n            $.unblockUI();\r\n          \r\n      \r\n       if (window.device) {\r\n                navigator.notification.alert(\"Error\");\r\n\r\n              } else {\r\n                alert(\"Error\");\r\n              }\r\n      });\r\n        \r\n\r\n      \r\n    } catch (e) {\r\n      alert(e)\r\n    }\r\n    }\r\n\r\n    $scope.SaveSettingsInfo=function(){\r\n    \r\n \r\n        if ($(\"#alertText\").val().trim() == \"\" ||  /^[a-zA-Z0-9,. ]*$/.test($(\"#alertText\").val().trim() ) == false) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please enter valid message\");\r\n\r\n            } else {\r\n                alert(\"Please enter valid message.\");\r\n\r\n            }\r\n            return;\r\n        }\r\n     if ( $(\"#alertText\").val().trim().length >500 ) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"The maximum number of characters allowed is 500.\");\r\n\r\n            } else {\r\n                alert(\"The maximum number of characters allowed is 500.\");\r\n\r\n            }\r\n            return;\r\n        }\r\n    if ($(\"#searchRadius\").val().trim() == \"\" || /^\\d+$/.test($(\"#searchRadius\").val().trim()) == false || $(\"#searchRadius\").val().trim() <1 ) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please enter a valid search radius, empty and decimal radius is not allowed\");\r\n\r\n            } else {\r\n                alert(\"Please enter Search Radius.\");\r\n\r\n            }\r\n            return;\r\n        }\r\n    if ($(\"#searchRadius\").val().trim() == \"\" || /^\\d+$/.test($(\"#searchRadius\").val().trim()) == false || $(\"#searchRadius\").val().trim() >50 ) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"The maximum Search Radius allowed is 50.\");\r\n\r\n            } else {\r\n                alert(\"The maximum Search Radius allowed is 50.\");\r\n\r\n            }\r\n            return;\r\n        }\r\n    if ($(\"#timeInterval\").val().trim() == \"\" || /^\\d+$/.test($(\"#timeInterval\").val().trim()) == false || $(\"#timeInterval\").val().trim() <1  ) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please enter a valid time interval, empty and decimal time interval is not allowed\");\r\n\r\n            } else {\r\n                alert(\"Please enter Time Interval.\");\r\n\r\n            }\r\n            return;\r\n        }\r\n    if ($(\"#timeInterval\").val().trim() == \"\" || /^\\d+$/.test($(\"#timeInterval\").val().trim()) == false ||  $(\"#timeInterval\").val().trim() >50 ) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"The maximum Time Interval allowed is 50\");\r\n\r\n            } else {\r\n                alert(\"The maximum Time Interval allowed is 50.\");\r\n\r\n            }\r\n            return;\r\n        }\r\n      \r\n      var personalInfodata ={};\r\n      personalInfodata =$rootScope.PersonalInfo;\r\n      \r\n      var medicalInfo ={};\r\n      var additionalInfo ={};\r\n      \r\n      if( $rootScope.PersonalInfo._id != 'undefined'){\r\n        \r\n        personalInfodata._id = $rootScope.PersonalInfo._id ;\r\n      }\r\n           \r\n       additionalInfo.alertText= $(\"#alertText\").val();\r\n       additionalInfo.alertMessage= $(\"#alertMessage\").prop('checked');\r\n       additionalInfo.addInfo= $(\"#addInfo\").prop('checked');\r\n      additionalInfo.searchRadius = $(\"#searchRadius\").val();\r\n      additionalInfo.timeInterval = $(\"#timeInterval\").val();\r\n      \r\n      personalInfodata.additionalInfo = additionalInfo;\r\n            \r\n           \r\n      \r\n      \r\n         \r\n          var proxyMethod = \"POST\";\r\n          var proxyData = personalInfodata;\r\n          $.blockUI();\r\n       $http({\r\n        method: proxyMethod,\r\n        url :  url,\r\n        headers:{\"X-Tenant-ID\": tenantId},\r\n        data: proxyData\r\n        \r\n        }).then(function(response) {\r\n           \r\n            $.unblockUI();\r\n            if (response.data != 'undefined') {\r\n        \r\n           $scope.data =  response.data;\r\n           $rootScope.PersonalInfo =  response.data;\r\n      \r\n      $.jStorage.set(\"PersonalInfo\", $scope.data);\r\n             \r\n      if( $scope.data.additionalInfo != null &&  $scope.data.additionalInfo != 'undefined'){\r\n        \r\n        $scope.additionalInfo = $scope.data.additionalInfo ;\r\n         \r\n        $(\"#alertText\").val($scope.additionalInfo.alertText);\r\n         $(\"#alertMessage\").prop('checked',$scope.additionalInfo.alertMessage);\r\n        $(\"#addInfo\").prop('checked',$scope.additionalInfo.addInfo);\r\n        $(\"#searchRadius\").val($scope.additionalInfo.searchRadius);\r\n        $(\"#timeInterval\").val($scope.additionalInfo.timeInterval);\r\n        \r\n      }\r\n              if (window.device) {\r\n                navigator.notification.alert(\"Your Preference is saved successfully.\");\r\n\r\n              } else {\r\n                alert(\"Your Preference is saved successfully.\");\r\n              }\r\n      }\r\n          },function(error) {\r\n        \r\n        if (window.device) {\r\n                navigator.notification.alert(\"Error.\");\r\n\r\n              } else {\r\n                alert(\"Error.\");\r\n              }\r\n            $.unblockUI();\r\n          });\r\n\r\n       \r\n     \r\n    } \r\n\r\n    CheckSettings();\r\n}",
          "endpoint": "",
          "datatemplate": "<style>\r\n    .noteStar {\r\n      color: red;\r\n      font-size: 26px;\r\n      position: absolute;\r\n      top: -8px;\r\n      right: 6px;\r\n    }\r\n\r\n     .switchCircle input {\r\n  z-index: 99 !important;position: absolute !important;left: 9px !important;right: 0 !important;top: -12px !important;height: 10px !important;display: block !important;opacity: 0 !important;padding: 10px !important;\r\n}\r\n    \r\n    label.switchCircle {\r\n      cursor: pointer;\r\n    }\r\n\r\n    @media (max-width: 480px) and (min-width: 320px) {\r\n      .toolbar-menu {\r\n        padding: 0px 0 !important;\r\n      }\r\n      .toolbar-column span {\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n      }\r\n      select > option[value=\"\"] {\r\n        display: none;\r\n      }\r\n    }\r\n  <\/style>\r\n  <div class=\"list-group listItems lg_webAppletContentPadding marginTop30px ng-scope\">\r\n    <div class=\"row borderAll padding15  borderRadius4px whiteBackground\">\r\n      <div class=\"list-group-item\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <label class=\"labelType colorDarkGrey\">Alert Text<\/label>\r\n            <input class=\"form-control\" type=\"text\" id=\"alertText\" placeholder=\"Need help.\" ng-model=\"alertText\" />\r\n            <span class=\"noteStar\">*<\/span>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"list-group-item text-center\">\r\n        <label class=\" proximaFont font18\">Send Alert<\/label>\r\n      <\/div>\r\n      <div class=\"list-group-item\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-8 col-sm-8 col-xs-8\">\r\n            <label class=\"labelType colorDarkGrey\">Send medical info with alert message<\/label>\r\n          <\/div>\r\n          <div class=\"col-md-4 col-sm-4 col-xs-4\">\r\n            <label class=\"switch switchCircle colPadding grey-background pull-right\" style=\"margin-top:5px\">\r\n              <input type=\"checkbox\" id=\"alertMessage\" ng-init=\"alertMessage\" ng-model=\"alertMessage\">\r\n              <div class=\"slider sliderCircle round\"><\/div>\r\n            <\/label>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"list-group-item\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-8 col-sm-8 col-xs-8\">\r\n            <label class=\"labelType colorDarkGrey\">Send additional info with alert message<\/label>\r\n          <\/div>\r\n          <div class=\"col-md-4 col-sm-4 col-xs-4\">\r\n            <label class=\"switch switchCircle colPadding grey-background pull-right\" style=\"margin-top:5px\">\r\n              <input type=\"checkbox\" id=\"addInfo\" ng-init=\"addInfo\" ng-model=\"addInfo\">\r\n              <div class=\"slider sliderCircle round\"><\/div>\r\n            <\/label>\r\n            <!--switch class=\"pull-right\" ng-model=\"additionalInfo\"><\/switch-->\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n  \r\n      <!-- <div class=\"list-group-item font16\">\r\n          <span>Note: <span>Sending medical/Additional info along with alert message can cost you more depending upon your service provider SMS charges.<\/span>\r\n          <\/span>\r\n      <\/div>-->\r\n  \r\n      <div class=\"list-group-item\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n            <label class=\"labelType colorDarkGrey\">Emergency Places : Search radius(in miles)<\/label>\r\n            <input class=\"form-control\" type=\"number\" min=\"1\" max=\"50\" id=\"searchRadius\" placeholder=\"5\" ng-model=\"searchRadius\" />\r\n            <span class=\"noteStar\">*<\/span>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n  \r\n  \r\n      <div class=\"list-group-item\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12 col-sm-12 col-xs-12\">\r\n            <label class=\"labelType colorDarkGrey\">Track Me : Time interval to update Location(in seconds)<\/label>\r\n            <input class=\"form-control \" type=\"number\" min=\"1\" max=\"500\" id=\"timeInterval\" placeholder=\"5\" ng-model=\"timeInterval\" />\r\n            <span class=\"noteStar\">*<\/span>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n  \r\n      <div class=\"list-group-item\">\r\n        <div class='btn btn-primary btn-block' ng-click=\"SaveSettingsInfo();\">Save<\/div>\r\n      <\/div>\r\n    <\/div>\r\n  <\/div>\r\n  <\/div>"
        },
        {
          "pageid": "BlueLightEmergency50Page8",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page8(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.flag = !1;\r\n  $scope.locFlag = !1;\r\n  $scope.errFlag = !1;\r\n  var trackMeInterval = 0;\r\n  var errmsg = \"\";\r\n  $scope.GuardiansActiveList = [];\r\n  var options = {\r\n    maximumAge: 0,\r\n    timeout: 10000,\r\n    enableHighAccuracy: !0\r\n  };\r\n  if ($rootScope.TrackMeStarted) {\r\n    $scope.TrackMeStarted = !0\r\n  }\r\n  $scope.trackingFinished = false;\r\n  var PI = $.jStorage.get(\"PersonalInfo\");\r\n  $scope.PerEmail = $rootScope.user.email;\r\n  var url = $.jStorage.get('url') + \"/trackMe\";\r\n  var tenantId = $.jStorage.get('tenantId');\r\n  var proxyData = '';\r\n  if ($.jStorage.get(\"PersonalInfo\") == null) {\r\n    if (window.device) {\r\n      navigator.notification.alert(\"Please update your profile\");\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page6\")\r\n    } else {\r\n      alert(\"Please update your profile\")\r\n    }\r\n    return\r\n  } else {\r\n    proxyData = $rootScope.PersonalInfo;\r\n    if (proxyData.guardiansList == null || proxyData.guardiansList.length == 0) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please add guardians in alert contacts.\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page2\")\r\n      } else {\r\n        alert(\"Please add guardians in alert contacts.\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page2\")\r\n      }\r\n      return\r\n    } else if (proxyData.additionalInfo == null || proxyData.additionalInfo == '' || (proxyData.additionalInfo != null && proxyData.additionalInfo != '' && proxyData.additionalInfo.timeInterval == 0)) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please add Additional Info.\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page7\")\r\n      } else {\r\n        alert(\"Please update your Additional Info\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page7\")\r\n      }\r\n      return\r\n    }\r\n  }\r\n  var gudData = [];\r\n  if ($.jStorage.get(\"PersonalInfo\") != null)\r\n    gudData = $.jStorage.get(\"PersonalInfo\").guardiansList;\r\n  if (gudData != null && gudData.length != 0) {\r\n    var smsNumbers = \"\";\r\n    var emails = \"\";\r\n    var gphn = [];\r\n    var pushChannels = [];\r\n    for (var k = 0; k < gudData.length; k++) {\r\n      smsNumbers += gudData[k].guardianPhn + \",\";\r\n      emails += gudData[k].gudemail + \";\";\r\n      gphn.push(gudData[k].guardianPhn);\r\n      pushChannels.push(gudData[k].guardianPhn)\r\n    }\r\n    smsNumbers = smsNumbers.substr(0, smsNumbers.length - 1);\r\n    emails = emails.substr(0, emails.length - 1);\r\n    var guardianInfo = [];\r\n    for (var i = 0; i < gudData.length; i++) {\r\n      var sendUrl = $.jStorage.get('url') + \"/personal/\" + gudData[i].gudemail;\r\n      $http({\r\n        method: 'GET',\r\n        url: sendUrl,\r\n        headers: {\r\n          \"X-Tenant-ID\": tenantId,\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        data: ''\r\n      }).then(function(response) {\r\n        $.unblockUI();\r\n        if (response.data != undefined || response.data != '') {\r\n          guardianInfo.push({\r\n            'ID': response.data.pushID,\r\n            'type': response.data.deviceType\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n  var locationError = function() {\r\n    clearInterval(trackMeInterval);\r\n    $scope.finishTracking();\r\n  }\r\n  var onError = function(err) {\r\n    console.log(err);\r\n    switch (err.code) {\r\n      case 3:\r\n        {\r\n          var errmsg = \"Could not get the current position. Check Location access permission for the App.\";\r\n          break\r\n        }\r\n      case 1:\r\n        {\r\n          var errmsg = \"Could not get the current position. Check Location access permission for the App.\";\r\n          break\r\n        }\r\n      case 2:\r\n        {\r\n          var errmsg = \"Could not get the current position. Check Location access permission for the App.\";\r\n          break\r\n        }\r\n    }\r\n    if ($scope.locFlag == !1) {\r\n      $scope.locFlag = !0;\r\n      if (window.device) {\r\n        navigator.notification.alert(errmsg);\r\n        clearInterval(trackMeInterval);\r\n        $scope.finishTracking();\r\n      } else {\r\n        alert(errmsg)\r\n      }\r\n    }\r\n  }\r\n  var trackingID = Math.random();\r\n  var time = '';\r\n  $scope.startTracking = function() {\r\n    $scope.SendPush();\r\n    $rootScope.TrackMeStarted = !0;\r\n    time = PI.additionalInfo.timeInterval;\r\n    if (parseInt(time) < 5)\r\n      time = time * 5;\r\n    time = time * 1000;\r\n    $scope.trackingFinished = false;\r\n    trackMeInterval = setInterval(function() {\r\n      $scope.sendTrackingLocation();\r\n    }, time)\r\n  }\r\n  $scope.sendTrackingLocation = function() {\r\n    console.log(\"time \" + time);\r\n    navigator.geolocation.getCurrentPosition(function(loc) {\r\n      var lat = loc.coords.latitude;\r\n      var long = loc.coords.longitude;\r\n      var trackMe = {};\r\n      trackingID = Math.random();\r\n      trackMe._id = $rootScope.PersonalInfo._id, trackMe.trackingId = trackingID, trackMe.lat = lat, trackMe.longitude = long;\r\n      if ($scope.trackingFinished) {\r\n        trackMe.active = false;\r\n      } else {\r\n        trackMe.active = true;\r\n      }\r\n      var personalInfodata = {};\r\n      $scope.PerEmail = $rootScope.user.email;\r\n      var refreshUrl = $.jStorage.get('url') + \"/personal/\" + $scope.PerEmail;\r\n      $http({\r\n        method: 'GET',\r\n        url: refreshUrl,\r\n        headers: {\r\n          \"X-Tenant-ID\": tenantId,\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        data: ''\r\n      }).then(function(res) {\r\n        $rootScope.PersonalInfo = res.data;\r\n        personalInfodata = $rootScope.PersonalInfo;\r\n        personalInfodata.trackMe = trackMe;\r\n        var proxyData = personalInfodata;\r\n        console.info('sendTrackingLocation', proxyData);\r\n        var proxyMethod = \"POST\";\r\n        $http({\r\n          method: proxyMethod,\r\n          url: url,\r\n          headers: {\r\n            \"X-Tenant-ID\": tenantId,\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          data: proxyData\r\n        }).then(function(response) {\r\n          $scope.GuardiansActiveList = [];\r\n          $rootScope.PersonalInfo = response.data;\r\n          var guardiansList = [];\r\n          guardiansList = $rootScope.PersonalInfo.guardiansList;\r\n          for (var i = 0; i < guardiansList.length; i++) {\r\n            if (guardiansList[i].guardianTracking)\r\n              $scope.GuardiansActiveList.push(guardiansList[i])\r\n          }\r\n          trackingID = $rootScope.PersonalInfo.trackMe.trackingId;\r\n          if (trackingID != 'undefined' || trackingID != '' || trackingID != null) {\r\n            if ($scope.flag == !1) {\r\n              $scope.flag = !0;\r\n              if (window.device) {} else {}\r\n            }\r\n          }\r\n        })\r\n      }, function(error) {\r\n        if ($scope.errFlag == !1) {\r\n          $scope.errFlag = !0;\r\n          if (window.device) {\r\n            clearInterval(trackMeInterval);\r\n            $scope.finishTracking();\r\n            navigator.notification.alert(\"GPS Error, Check Location access permission for the App.\")\r\n          } else {\r\n            clearInterval(trackMeInterval);\r\n            $scope.finishTracking();\r\n            alert(\"GPS Error, Check Location access permission for the App.\")\r\n          }\r\n        }\r\n      })\r\n    }, onError, options)\r\n  }\r\n\r\n  $scope.finishTracking = function() {\r\n    $scope.trackingFinished = true;\r\n    clearInterval(trackMeInterval);\r\n    setTimeout($scope.changeUserTrackingStatus, time);\r\n    $rootScope.TrackMeStarted = !1;\r\n    var proxyMethod = \"POST\";\r\n    var trackMe = {};\r\n    trackMe = $rootScope.PersonalInfo.trackMe;\r\n    trackMe.active = !1;\r\n    var personalInfodata = {};\r\n    personalInfodata = $rootScope.PersonalInfo;\r\n    personalInfodata.trackMe = trackMe;\r\n    for (var i = 0; i < personalInfodata.guardiansList.length; i++) {\r\n      personalInfodata.guardiansList[i].guardianTracking = false;\r\n    }\r\n    var proxyData = personalInfodata;\r\n    console.info('finishTracking', proxyData);\r\n    $http({\r\n      method: proxyMethod,\r\n      url: url,\r\n      headers: {\r\n        \"X-Tenant-ID\": tenantId,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      data: proxyData\r\n    }).then(function(response) {\r\n      $scope.data = response.data;\r\n      $scope.trackMe = $scope.data.trackMe;\r\n      if ($scope.trackMe.active) {\r\n        $scope.finishTracking()\r\n      }\r\n      trackingID = $scope.trackMe.trackingID;\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Tracking has been stopped\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\")\r\n      } else {\r\n        alert(\"Tracking has been stopped.\")\r\n      }\r\n    }, function(error) {})\r\n  }\r\n\r\n  $scope.changeUserTrackingStatus = function() {\r\n    $scope.trackingFinished = true;\r\n    clearInterval(trackMeInterval);\r\n    $rootScope.TrackMeStarted = !1;\r\n    var proxyMethod = \"POST\";\r\n    var trackMe = {};\r\n    trackMe = $rootScope.PersonalInfo.trackMe;\r\n    trackMe.active = !1;\r\n    var personalInfodata = {};\r\n    personalInfodata = $rootScope.PersonalInfo;\r\n    personalInfodata.trackMe = trackMe;\r\n    for (var i = 0; i < personalInfodata.guardiansList.length; i++) {\r\n      personalInfodata.guardiansList[i].guardianTracking = false;\r\n    }\r\n    var proxyData = personalInfodata;\r\n    console.info('changeUserTrackingStatus', proxyData);\r\n    $http({\r\n      method: proxyMethod,\r\n      url: url,\r\n      headers: {\r\n        \"X-Tenant-ID\": tenantId,\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      data: proxyData\r\n    }).then(function(response) {\r\n      $scope.data = response.data;\r\n      $scope.trackMe = $scope.data.trackMe;\r\n      if ($scope.trackMe.active) {\r\n        $scope.finishTracking()\r\n      }\r\n      trackingID = $scope.trackMe.trackingID;\r\n      if (window.device) {\r\n        //navigator.notification.alert(\"Stopped\");\r\n        //$location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\")\r\n      } else {\r\n        //alert(\"Alert stopped\")\r\n      }\r\n    }, function(error) {})\r\n  }\r\n  $scope.SendPush = function() {\r\n    navigator.geolocation.getCurrentPosition(function(loc) {\r\n      var message = '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3 style=\"color:#323232;\">Sending Alert<\/h3><\/div>';\r\n      $.blockUI({\r\n        message: message\r\n      });\r\n      var lat = loc.coords.latitude;\r\n      var long = loc.coords.longitude;\r\n      var phn = PI.phone;\r\n      UserName = PI.fname + \" \" + PI.lname;\r\n      var pushDataMsg = \"\";\r\n      pushDataMsg += UserName + \" (\" + $scope.PerEmail + \") - has initiated tracking request.\\n\";\r\n      //pushDataMsg += \"Track user to See My current Location.\";\r\n      var emergencyAlert = UserName + \": \" + PI.additionalInfo.alertText + \"<br/><br/>\";\r\n      emergencyAlert = emergencyAlert + \"<b>Medical & Additional Info: <\/b><br/>\";\r\n      console.log(\"check1--\", PI.medicalInfo);\r\n      if (PI.additionalInfo.addInfo) {\r\n        if (PI.medicalInfo.alcoholic == undefined || !PI.medicalInfo.alcoholic) {\r\n          PI.medicalInfo.alcoholic = 'No';\r\n          console.log(\"check2--\", PI.medicalInfo.alcoholic)\r\n        }\r\n        if (PI.medicalInfo.smoking == undefined || !PI.medicalInfo.smoking) {\r\n          PI.medicalInfo.smoking = 'No';\r\n          console.log(\"check3--\", PI.medicalInfo.smoking)\r\n        }\r\n        if (PI.medicalInfo.diabetic == undefined || !PI.medicalInfo.diabetic) {\r\n          PI.medicalInfo.diabetic = 'No';\r\n          console.log(\"check4--\", PI.medicalInfo.diabetic)\r\n        }\r\n        if (PI.medicalInfo.disability == undefined || !PI.medicalInfo.disability) {\r\n          PI.medicalInfo.disability = 'No';\r\n          console.log(\"check5--\", PI.medicalInfo.disability)\r\n        }\r\n        if (PI.medicalInfo.alcoholic == !0) {\r\n          PI.medicalInfo.alcoholic = 'Yes'\r\n        }\r\n        if (PI.medicalInfo.smoking == !0) {\r\n          PI.medicalInfo.smoking = 'Yes'\r\n        }\r\n        if (PI.medicalInfo.diabetic == !0) {\r\n          PI.medicalInfo.diabetic = 'Yes'\r\n        }\r\n        if (PI.medicalInfo.disability == !0) {\r\n          PI.medicalInfo.disability = 'Yes'\r\n        }\r\n        emergencyAlert = emergencyAlert + \" Alcoholic : \" + PI.medicalInfo.alcoholic + \"<br/>\";\r\n        emergencyAlert = emergencyAlert + \" Smoking: \" + PI.medicalInfo.smoking + \"<br/>\";\r\n        console.log(\"check6--\", emergencyAlert);\r\n        emergencyAlert = emergencyAlert + \" Diabetic: \" + PI.medicalInfo.diabetic + \"<br/>\";\r\n        emergencyAlert = emergencyAlert + \" Disability: \" + PI.medicalInfo.disability + \"<br/>\";\r\n        console.log(\"check7--\", emergencyAlert)\r\n      }\r\n      if (PI.additionalInfo.alertMessage && PI.medicalInfo.allergies != undefined && PI.medicalInfo.allergies != '')\r\n        emergencyAlert = emergencyAlert + \" Allergies: \" + PI.medicalInfo.allergies + \"<br/>\";\r\n      if (PI.additionalInfo.alertMessage && PI.medicalInfo.medication != undefined && PI.medicalInfo.medication != '')\r\n        emergencyAlert = emergencyAlert + \" Medication: \" + PI.medicalInfo.medication + \"<br/>\";\r\n      if (PI.additionalInfo.alertMessage && PI.medicalInfo.vaccines != undefined && PI.medicalInfo.vaccines != '')\r\n        emergencyAlert = emergencyAlert + \" Vaccines: \" + PI.medicalInfo.vaccines + \"<br/>\";\r\n      if (PI.additionalInfo.alertMessage && PI.medicalInfo.medicalNotes != undefined && PI.medicalInfo.medicalNotes != '')\r\n        emergencyAlert = emergencyAlert + \" Medical Notes: \" + PI.medicalInfo.medicalNotes + \"<br/>\";\r\n      var emailmsg = \"<html><body>\" + emergencyAlert + \" <br> Please see my location: <a href='http://maps.google.com/?q=\" + loc.coords.latitude + \",\" + loc.coords.longitude + \"'>http://maps.google.com/?q=\" + loc.coords.latitude + \",\" + loc.coords.longitude + \"<\/a>\";\r\n      emailmsg += \"<br/><br/>Thanks,<br/>\" + $rootScope.metadata.appDisplayName;\r\n      emailmsg += \"<br/><br/><div ><img  height='70' src='\" + $rootScope.icon_url + \"'/><\/div>\";\r\n      emailmsg += \"<\/body><\/html>\";\r\n      var pushData = {\r\n        \"title\": $rootScope.metadata.appDisplayName + \"Tracking Alert\",\r\n        \"body\": pushDataMsg,\r\n        \"devices\": guardianInfo,\r\n        \"bundleId\": \"com.kryptosmobile.unifyedbl\"\r\n      }\r\n      var emailData = {\r\n        'to': emails,\r\n        'subject': UserName + ' is in emergency situation. Need help!',\r\n        'body': emailmsg,\r\n        'from': $rootScope.fromEmail\r\n      };\r\n      $http.post(\"https://push.kryptosmobile.com/kryptosds/push/sendPush\", pushData).then(function(response) {\r\n        $.unblockUI();\r\n        $http({\r\n          method: \"POST\",\r\n          url: \"https://kryptos.kryptosmobile.com/gateway/CEAI/kryptosemailsender\",\r\n          headers: {\r\n            'licenseKey': 'UjpIaWVDVzpTOjE0NDk0ODk2MzUxMzE6VTpha0BjYW1wdXNlYWkub3JnOlQ6NDpQOjI4Ng==',\r\n            'Content-Type': 'application/json'\r\n          },\r\n          data: JSON.stringify(emailData)\r\n        }).then(function(response) {\r\n          $.unblockUI()\r\n        }, function(err) {\r\n          navigator.notification.alert(\"Alert Email not sent to alert contacts. Please try again.\");\r\n          $.unblockUI()\r\n        })\r\n      }, function(err) {\r\n        navigator.notification.alert(\"GPS Error, Check Location access permission for the App.\")\r\n      })\r\n    }, onError, options);\r\n    $.unblockUI()\r\n  }\r\n  $scope.finishTrackingWindow = function(btn) {\r\n    if (btn == 1) {\r\n      $rootScope.TrackMeStarted = !1;\r\n      var proxyMethod = \"POST\";\r\n      var trackMe = {};\r\n      trackMe = $rootScope.PersonalInfo.trackMe;\r\n      trackMe.active = !1;\r\n      var personalInfodata = {};\r\n      personalInfodata = $rootScope.PersonalInfo;\r\n      personalInfodata.trackMe = trackMe;\r\n      var proxyData = personalInfodata;\r\n      $http({\r\n        method: proxyMethod,\r\n        url: url,\r\n        headers: {\r\n          \"X-Tenant-ID\": tenantId,\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        data: proxyData\r\n      }).then(function(response) {\r\n        $scope.data = response.data;\r\n        $scope.trackMe = $scope.data.trackMe;\r\n        if ($scope.trackMe.active) {\r\n          $scope.finishTracking()\r\n        }\r\n        trackingID = $scope.trackMe.trackingID;\r\n        if (window.device) {\r\n          navigator.notification.alert(\"Tracking has been stopped.\");\r\n          $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\")\r\n        } else {\r\n          alert(\"Tracking has been stopped.\")\r\n        }\r\n      }, function(error) {});\r\n      clearInterval(trackMeInterval)\r\n    }\r\n  }\r\n  $rootScope.back = function() {\r\n    if ($rootScope.TrackMeStarted == !0) {\r\n      navigator.notification.confirm(\"You have Initiated track me request. Are you sure you want to stop.\", $scope.finishTrackingWindow, 'Confirmation', ['Yes', 'No'])\r\n    } else {\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\")\r\n    }\r\n  }\r\n}",
          "endpoint": "",
          "datatemplate": "<style type=\"text/css\">\r\n  .paddingLeftRight35px {\r\n    padding-left: 35px;\r\n    padding-right: 35px;\r\n  }\r\n  \r\n  .blueLightMain .trackSection {\r\n    display: table;\r\n    padding: 15px 0 0;\r\n  }\r\n  \r\n  .blueLightMain .trackSection .userBox,\r\n  .blueLightMain .trackSection .gurdianBox {\r\n    width: 25%;\r\n    display: table-cell;\r\n    vertical-align: middle;\r\n  }\r\n  \r\n  .trackLine {\r\n    width: 50%;\r\n    display: table-cell;\r\n    vertical-align: top;\r\n    padding: 0 5px;\r\n    opacity: .6;\r\n    padding-top: 40px;\r\n  }\r\n  \r\n  .blueLightMain .trackSection .gurdianIcon,\r\n  .blueLightMain .trackSection .userIcon {\r\n    width: 80px;\r\n    height: 80px;\r\n    padding: 21px;\r\n    border: 2px solid #767676;\r\n    display: inline-block;\r\n    border-radius: 100%;\r\n  }\r\n  \r\n  .blueLightMain .trackSection .gurdianIcon {\r\n    padding: 15px;\r\n  }\r\n  \r\n  .blueLightMain .trackSection .gurdianIcon svg {\r\n    width: 45px;\r\n  }\r\n  \r\n  .blueLightMain .trackSection .userIcon svg {\r\n    width: 27px;\r\n  }\r\n  \r\n  .blueLightMain .trackSection .gurdianIcon svg path,\r\n  .blueLightMain .trackSection .userIcon svg path {\r\n    fill: #767676;\r\n  }\r\n  \r\n  .blueLightMain .trackSection .trackingLoader {\r\n    width: 100%;\r\n    height: 4px;\r\n    background: #767676;\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  .blueLightMain .trackSection .UserText {\r\n    margin-top: 5px;\r\n  }\r\n  \r\n  .blueLightMain .gurdiansInitials {\r\n    margin-right: 10px;\r\n    display: inline-block;\r\n    vertical-align: middle;\r\n  }\r\n  \r\n  .blueLightMain .trackSection .marginBottom5 {\r\n    margin-bottom: 5px;\r\n  }\r\n  \r\n  .blueLightMain .trackSection.activeTrackiing .gurdianIcon,\r\n  .blueLightMain .trackSection.activeTrackiing .userIcon {\r\n    border: 2px solid #0084d0;\r\n  }\r\n  \r\n  .blueLightMain .trackSection.activeTrackiing .trackLine {\r\n    padding-top: 25px;\r\n  }\r\n  \r\n  .blueLightMain .trackSection.activeTrackiing .trackingLoader {\r\n    background: #0084d0;\r\n    position: relative;\r\n    margin-top: 5px;\r\n    opacity: .6;\r\n  }\r\n  \r\n  .blueLightMain .trackSection.activeTrackiing .slidediv {\r\n    position: relative;\r\n    animation: move 1s steps(10) infinite;\r\n    width: 40%;\r\n    height: 4px;\r\n    border-radius: 4px;\r\n    background: #0084d0;\r\n    top: 0px;\r\n    transform: translateY(-4px)\r\n  }\r\n  \r\n  @keyframes move {\r\n    from {\r\n      top: 0;\r\n      left: 0;\r\n    }\r\n    to {\r\n      top: 0px;\r\n      left: 100px;\r\n    }\r\n  }\r\n  \r\n  .textAnimation {\r\n    color: #767676;\r\n    animation: fade 1s infinite;\r\n  }\r\n  \r\n  @keyframes fade {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n    1% {\r\n      opacity: .6;\r\n    }\r\n    100% {\r\n      opacity: .9;\r\n    }\r\n  }\r\n  \r\n  .blueLightMain .trackSection.activeTrackiing .gurdianIcon svg path,\r\n  .blueLightMain .trackSection.activeTrackiing .userIcon svg path {\r\n    fill: #0084d0;\r\n  }\r\n  \r\n  @media only screen and (max-width: 420px) {\r\n    .blockUI.blockMsg {\r\n      transform: translateY(68%);\r\n    }\r\n  }\r\n<\/style>\r\n<div class=\"blueLightMain lg_webAppletContentPadding\">\r\n  <div ng-hide='TrackMeStarted' class=\"trackSection\" style=\"width:100%;text-align:center;\">\r\n    <div class=\"userBox\">\r\n      <div class=\"userIcon\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 40 50.69\">\r\n          <g data-name=\"Layer 2\">\r\n            <g>\r\n              <path d=\"M20,0A12.75,12.75,0,1,0,32.75,12.75,12.76,12.76,0,0,0,20,0Zm0,21.75a9,9,0,1,1,9-9A9,9,0,0,1,20,21.75Z\" />\r\n              <path d=\"M20,30C8.79,30,0,39.09,0,50.69H3.75c0-9.65,7-16.94,16.25-16.94S36.25,41,36.25,50.69H40C40,39.09,31.22,30,20,30Z\" />\r\n            <\/g>\r\n          <\/g>\r\n        <\/svg>\r\n      <\/div>\r\n      <div class=\"UserText\">Me<\/div>\r\n    <\/div>\r\n    <div class=\"trackLine\">\r\n      <div class=\"trackingLoader\">\r\n\r\n      <\/div>\r\n    <\/div>\r\n    <div class=\"gurdianBox\">\r\n      <div class=\"gurdianIcon\">\r\n        <svg class=\"\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 511.998 511.998\" style=\"enable-background:new 0 0 511.998 511.998;\" xml:space=\"preserve\">\r\n          <g>\r\n            <g>\r\n              <path d=\"M206.932,0C178.682,0,155.7,22.982,155.7,51.232s22.983,51.232,51.232,51.232c28.25,0,51.232-22.982,51.232-51.232\r\n                S235.182,0,206.932,0z M206.932,87.463c-19.978,0-36.231-16.253-36.231-36.231s16.254-36.231,36.231-36.231\r\n                c19.978,0,36.231,16.254,36.231,36.231C243.163,71.209,226.91,87.463,206.932,87.463z\" />\r\n            <\/g>\r\n          <\/g>\r\n          <g>\r\n            <g>\r\n              <path d=\"M399,312.274c-2.958-2.898-7.707-2.854-10.607,0.104l-62.955,64.205l-22.232-23.261c-2.862-2.996-7.61-3.103-10.605-0.24\r\n                c-2.994,2.862-3.102,7.609-0.24,10.605l27.586,28.862c2.926,3.063,7.81,3.095,10.778,0.069l68.379-69.736\r\n                C402.004,319.922,401.957,315.174,399,312.274z\" />\r\n            <\/g>\r\n          <\/g>\r\n          <g>\r\n            <g>\r\n              <path d=\"M440.383,362.372c-4.06-0.805-8.011,1.831-8.818,5.895c-8.6,43.273-39.135,80.246-79.691,96.494\r\n                c-3.845,1.54-5.713,5.906-4.173,9.752c1.54,3.846,5.907,5.713,9.752,4.173c46.691-18.705,79.427-60.202,88.824-107.495\r\n                C447.086,367.127,444.445,363.179,440.383,362.372z\" />\r\n            <\/g>\r\n          <\/g>\r\n          <g>\r\n            <g>\r\n              <path d=\"M427.508,246.793c-20.064,11.335-38.989,11.713-56.253,1.124c-13.724-8.417-21.415-20.746-21.722-21.244\r\n                c-2.527-4.137-6.843-6.679-11.65-6.911c-13.954-39.069-37.243-66.207-54.787-82.364c-11.189-10.304-25.712-15.978-40.895-15.978\r\n                c-7.292,0-63.438,0-70.537,0c-16.21,0-31.639,6.091-43.444,17.15c-24.306,22.772-65.119,72.52-65.358,149.83\r\n                c-0.051,16.21,12.819,29.753,28.688,30.19c16.577,0.485,30.349-12.818,30.349-29.507c0-29.014,8.149-56.327,23.743-80.083v276.976\r\n                c0,14.349,11.674,26.023,26.023,26.023h16.747c7.24,0,13.8-2.972,18.522-7.761c4.722,4.789,11.281,7.761,18.522,7.761h16.747\r\n                c14.349,0,26.023-11.674,26.023-26.023v-39.541c13.875,13.939,30.395,24.937,48.649,32.249c3.848,1.541,8.213-0.33,9.752-4.173\r\n                c1.541-3.845-0.328-8.211-4.173-9.752c-48.29-19.347-82.259-67.31-82.259-122.726v-81.756\r\n                c30.366,16.818,59.767,12.716,83.786-9.698c5.51-5.062,10-10.419,13.035-15.179c0.047-0.072,0.109-0.163,0.15-0.227\r\n                c2.154,3.327,11.153,16.272,26.251,25.532c15.182,9.314,39.729,16.741,70.721-0.429v74.451c0,4.143,3.358,7.5,7.5,7.5\r\n                c4.142,0,7.5-3.357,7.5-7.5v-75.312C449.135,248.329,437.178,241.334,427.508,246.793z M220.12,136.421l-8.981,10.668\r\n                c-2.199,2.611-6.213,2.611-8.413,0l-8.982-10.668H220.12z M268.224,254.907v-43.966c8.641,13.568,14.834,28.191,18.5,43.708\r\n                C280.712,255.967,274.556,256.049,268.224,254.907z M300.822,249.141c-6.024-24.073-17.575-46.134-34.417-65.692\r\n                c-4.535-5.266-13.185-2.03-13.185,4.894v61.719c-3.231-1.471-7.283-3.722-7.394-3.774c-9.53-4.485-20.638,2.456-20.638,13.128\r\n                v0.258v82.361c0,31.398,9.709,61.426,28.032,86.768v57.175h0.004c0,6.077-4.944,11.022-11.022,11.022h-16.747\r\n                c-6.077,0-11.022-4.943-11.022-11.022V331.838c0-4.143-3.358-7.5-7.5-7.5s-7.5,3.357-7.5,7.5v154.139\r\n                c0,6.077-4.944,11.022-11.022,11.022h-16.747c-6.077,0-11.022-4.943-11.022-11.022V186.869c0-6.899-8.571-10.124-13.125-4.962\r\n                c-26.575,30.116-40.621,67.178-40.621,107.177c0,8.075-6.594,14.711-14.934,14.512c-7.8-0.215-14.126-7.01-14.1-15.148\r\n                c0.222-71.678,38.071-117.81,60.614-138.929c9.015-8.446,20.8-13.098,33.187-13.098h2.471l17.116,20.328\r\n                c8.193,9.734,23.18,9.721,31.363,0l17.115-20.328h2.471c11.409,0,22.323,4.266,30.734,12.011\r\n                c16.615,15.302,38.787,41.201,51.615,78.614C318.836,235.665,310.125,243.89,300.822,249.141z\" />\r\n            <\/g>\r\n          <\/g>\r\n        <\/svg>\r\n      <\/div>\r\n      <div class=\"UserText\">Guardian<\/div>\r\n    <\/div>\r\n  <\/div>\r\n  <div ng-show=\"TrackMeStarted\" class=\"trackSection activeTrackiing\" style=\"width:100%;text-align:center;\">\r\n    <div class=\"userBox\">\r\n      <div class=\"userIcon\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 40 50.69\">\r\n          <g data-name=\"Layer 2\">\r\n            <g>\r\n              <path d=\"M20,0A12.75,12.75,0,1,0,32.75,12.75,12.76,12.76,0,0,0,20,0Zm0,21.75a9,9,0,1,1,9-9A9,9,0,0,1,20,21.75Z\" />\r\n              <path d=\"M20,30C8.79,30,0,39.09,0,50.69H3.75c0-9.65,7-16.94,16.25-16.94S36.25,41,36.25,50.69H40C40,39.09,31.22,30,20,30Z\" />\r\n            <\/g>\r\n          <\/g>\r\n        <\/svg>\r\n      <\/div>\r\n      <div class=\"UserText\">Me<\/div>\r\n    <\/div>\r\n    <div class=\"trackLine\">\r\n      <div class=\"textAnimation\">Connecting to Guardians<\/div>\r\n      <div class=\"trackingLoader\">\r\n      <\/div>\r\n      <div class=\"slidediv\"><\/div>\r\n    <\/div>\r\n    <div class=\"gurdianBox\">\r\n      <div class=\"gurdianIcon\">\r\n        <svg class=\"\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 511.998 511.998\" style=\"enable-background:new 0 0 511.998 511.998;\" xml:space=\"preserve\">\r\n          <g>\r\n            <g>\r\n              <path d=\"M206.932,0C178.682,0,155.7,22.982,155.7,51.232s22.983,51.232,51.232,51.232c28.25,0,51.232-22.982,51.232-51.232\r\n                S235.182,0,206.932,0z M206.932,87.463c-19.978,0-36.231-16.253-36.231-36.231s16.254-36.231,36.231-36.231\r\n                c19.978,0,36.231,16.254,36.231,36.231C243.163,71.209,226.91,87.463,206.932,87.463z\" />\r\n            <\/g>\r\n          <\/g>\r\n          <g>\r\n            <g>\r\n              <path d=\"M399,312.274c-2.958-2.898-7.707-2.854-10.607,0.104l-62.955,64.205l-22.232-23.261c-2.862-2.996-7.61-3.103-10.605-0.24\r\n                c-2.994,2.862-3.102,7.609-0.24,10.605l27.586,28.862c2.926,3.063,7.81,3.095,10.778,0.069l68.379-69.736\r\n                C402.004,319.922,401.957,315.174,399,312.274z\" />\r\n            <\/g>\r\n          <\/g>\r\n          <g>\r\n            <g>\r\n              <path d=\"M440.383,362.372c-4.06-0.805-8.011,1.831-8.818,5.895c-8.6,43.273-39.135,80.246-79.691,96.494\r\n                c-3.845,1.54-5.713,5.906-4.173,9.752c1.54,3.846,5.907,5.713,9.752,4.173c46.691-18.705,79.427-60.202,88.824-107.495\r\n                C447.086,367.127,444.445,363.179,440.383,362.372z\" />\r\n            <\/g>\r\n          <\/g>\r\n          <g>\r\n            <g>\r\n              <path d=\"M427.508,246.793c-20.064,11.335-38.989,11.713-56.253,1.124c-13.724-8.417-21.415-20.746-21.722-21.244\r\n                c-2.527-4.137-6.843-6.679-11.65-6.911c-13.954-39.069-37.243-66.207-54.787-82.364c-11.189-10.304-25.712-15.978-40.895-15.978\r\n                c-7.292,0-63.438,0-70.537,0c-16.21,0-31.639,6.091-43.444,17.15c-24.306,22.772-65.119,72.52-65.358,149.83\r\n                c-0.051,16.21,12.819,29.753,28.688,30.19c16.577,0.485,30.349-12.818,30.349-29.507c0-29.014,8.149-56.327,23.743-80.083v276.976\r\n                c0,14.349,11.674,26.023,26.023,26.023h16.747c7.24,0,13.8-2.972,18.522-7.761c4.722,4.789,11.281,7.761,18.522,7.761h16.747\r\n                c14.349,0,26.023-11.674,26.023-26.023v-39.541c13.875,13.939,30.395,24.937,48.649,32.249c3.848,1.541,8.213-0.33,9.752-4.173\r\n                c1.541-3.845-0.328-8.211-4.173-9.752c-48.29-19.347-82.259-67.31-82.259-122.726v-81.756\r\n                c30.366,16.818,59.767,12.716,83.786-9.698c5.51-5.062,10-10.419,13.035-15.179c0.047-0.072,0.109-0.163,0.15-0.227\r\n                c2.154,3.327,11.153,16.272,26.251,25.532c15.182,9.314,39.729,16.741,70.721-0.429v74.451c0,4.143,3.358,7.5,7.5,7.5\r\n                c4.142,0,7.5-3.357,7.5-7.5v-75.312C449.135,248.329,437.178,241.334,427.508,246.793z M220.12,136.421l-8.981,10.668\r\n                c-2.199,2.611-6.213,2.611-8.413,0l-8.982-10.668H220.12z M268.224,254.907v-43.966c8.641,13.568,14.834,28.191,18.5,43.708\r\n                C280.712,255.967,274.556,256.049,268.224,254.907z M300.822,249.141c-6.024-24.073-17.575-46.134-34.417-65.692\r\n                c-4.535-5.266-13.185-2.03-13.185,4.894v61.719c-3.231-1.471-7.283-3.722-7.394-3.774c-9.53-4.485-20.638,2.456-20.638,13.128\r\n                v0.258v82.361c0,31.398,9.709,61.426,28.032,86.768v57.175h0.004c0,6.077-4.944,11.022-11.022,11.022h-16.747\r\n                c-6.077,0-11.022-4.943-11.022-11.022V331.838c0-4.143-3.358-7.5-7.5-7.5s-7.5,3.357-7.5,7.5v154.139\r\n                c0,6.077-4.944,11.022-11.022,11.022h-16.747c-6.077,0-11.022-4.943-11.022-11.022V186.869c0-6.899-8.571-10.124-13.125-4.962\r\n                c-26.575,30.116-40.621,67.178-40.621,107.177c0,8.075-6.594,14.711-14.934,14.512c-7.8-0.215-14.126-7.01-14.1-15.148\r\n                c0.222-71.678,38.071-117.81,60.614-138.929c9.015-8.446,20.8-13.098,33.187-13.098h2.471l17.116,20.328\r\n                c8.193,9.734,23.18,9.721,31.363,0l17.115-20.328h2.471c11.409,0,22.323,4.266,30.734,12.011\r\n                c16.615,15.302,38.787,41.201,51.615,78.614C318.836,235.665,310.125,243.89,300.822,249.141z\" />\r\n            <\/g>\r\n          <\/g>\r\n        <\/svg>\r\n      <\/div>\r\n      <div class=\"UserText\">Guardian<\/div>\r\n    <\/div>\r\n  <\/div>\r\n  <div ng-hide='TrackMeStarted' class=\"marginTop15 text-center\">\r\n    <div class=\"font16 proximaFont marginBottom15 text-center\">\r\n      You can trigger an emergency alert to your guardians so that they can track your location\r\n    <\/div>\r\n    <div class=' btn btn-primary paddingLeftRight35px' ng-click=\"startTracking()\">Initiate Tracking<\/div>\r\n  <\/div>\r\n  <div class=\"marginTop15 text-center\" ng-show='TrackMeStarted'>\r\n    <div class=\"col-md-12 font16 proximaFont marginBottom15\">\r\n      Your location is getting tracked now and alerts are sent to your guardians. Please don't close the app.\r\n      <div class=\"marginTop15\">To finish the tracking press on stop button.<\/div>\r\n    <\/div>\r\n    <div class=' btn btn-primary paddingLeftRight35px' ng-click=\"finishTracking()\">\r\n      Stop Tracking\r\n    <\/div>\r\n  <\/div>\r\n\r\n  <div ng-show='TrackMeStarted ' class=\"marginTop15\">\r\n    <div class=\"borderTop1px paddingTop15 paddingBottom15\" ng-hide=\"GuardiansActiveList.length == 0 ? true: false\">\r\n      <div class=\"font16\">List of guardians tracking your location: <\/div>\r\n    <\/div>\r\n    <div ng-repeat='g in GuardiansActiveList | filter: g.guardianTracking: true'>\r\n      <div class=\"border1px borderRadius4px padding15\" ng-class=\"g.length > 1?'marginBottom5':''\">\r\n        <span class='pull-right' style=\"margin-top: 5px\">\r\n      <a href='tel:{{g.guardianPhn}}'>\r\n      <i class=\"fa fa-phone font20\" style='color:#252729'><\/i>\r\n      <\/a>\r\n    <\/span>\r\n        <span class=\"gurdiansInitials\">\r\n      <div class=\"nameContainer displayTable fontBold fontSize16 whiteTextColor borderRadiusCircle marginAuto pull-left img-xs \" ng-style=\"{ background: $root.randomBackground(g.guardianName.split(' ')[0][0] , g.guardianName.split(' ')[1][0])}\">\r\n                <span class=\"displayTableCell verticalAlignMiddle textcenter text-uppercase\">{{g.guardianName.split(' ')[0][0]}}{{g.guardianName.split(' ')[1][0]}}<\/span>\r\n      <\/div>\r\n      <\/span>\r\n      <span class=\"font16 colordark proximaFont\">{{g.guardianName}}<\/span>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>\r\n<\/div>"
        },
        {
          "pageid": "BlueLightEmergency50Page9",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page9(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.showGuardians = false;\r\n    var apiKey = \"AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o\";\r\n    $scope.flag = !1;\r\n    var userInfo;\r\n    $scope.gurUpUser = {};\r\n    $scope.guardiansList = [];\r\n    var usertracking = !1;\r\n    var usertrackingInterval;\r\n    var gudata;\r\n    var url = '';\r\n    var tenantId = $.jStorage.get('tenantId');\r\n    var mapDisplay = document.getElementById(\"MapMapCanvas\");\r\n    var mapheight = $(window).height() - ($(\"#appContent .list-group-item\").height() + $(\".navbar-absolute-top\").height() + $(\".navbar-absolute-bottom\").height() + 100)\r\n    $(\"#MapMapCanvas\").css(\"height\", mapheight + \"px\");\r\n    try {\r\n        $scope.PerEmail = $rootScope.user.email;\r\n        $scope.guardianTrackingShow = !0;\r\n        $scope.trackMeConfirmation = function(btn) {\r\n            if (btn == 1) {\r\n                clearInterval(usertrackingInterval);\r\n                usertracking = !1;\r\n                $scope.guardianTrackingShow = !0;\r\n                $scope.guardiansList = [];\r\n                $scope.guardiansList = $scope.gurUpUser.guardiansList;\r\n                for (var i = 0; i < $scope.guardiansList.length; i++) {\r\n                    if ($scope.guardiansList[i].gudemail == $rootScope.user.email) {\r\n                        $scope.guardiansList[i].guardianTracking = !1;\r\n                        break\r\n                    }\r\n                }\r\n                url = $.jStorage.get('url') + \"/personal/\" + $scope.gurUpUser.email;\r\n                $scope.gurUpUser.guardiansList = $scope.guardiansList;\r\n                var proxyMethod = \"POST\";\r\n                var proxyData = $scope.gurUpUser;\r\n                $http({\r\n                    method: proxyMethod,\r\n                    url: url,\r\n                    headers: {\r\n                        \"X-Tenant-ID\": tenantId,\r\n                        \"Content-Type\": \"application/json\"\r\n                    },\r\n                    data: proxyData\r\n                }).then(function(response) {\r\n                    if (window.device) {\r\n                        navigator.notification.alert(\"Tracking stopped\");\r\n                        $location.path(\"#/app/BlueLightEmergency50/BlueLightEmergency50\")\r\n                    } else {\r\n                        alert(\"Tracking stopped\");\r\n                        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\")\r\n                    }\r\n                }, function(error) {\r\n                    if (window.device) {\r\n                        navigator.notification.alert(\"Error \")\r\n                    } else {\r\n                        alert(\"Error\")\r\n                    }\r\n                })\r\n            }\r\n        }\r\n        $scope.StopTrackingUser = function() {\r\n            if (!usertracking == !0) {\r\n                $scope.guardianTrackingShow = !0;\r\n                clearInterval(usertrackingInterval);\r\n                $location.path(\"#/app/BlueLightEmergency50/BlueLightEmergency50\")\r\n            } else {\r\n                if (window.device) {\r\n                    navigator.notification.confirm(\"You are tracking user location. Are you sure you want to stop.\", $scope.trackMeConfirmation, 'Confirmation', ['Yes', 'No'])\r\n                } else {\r\n                    $scope.trackMeConfirmation(1)\r\n                }\r\n            }\r\n        }\r\n\r\n        $scope.loadGuardianList = function(){\r\n            var proxyMethod = \"GET\";\r\n        url = $.jStorage.get('url') + \"/trackUsers/\" + $scope.PerEmail;\r\n        $http({\r\n            method: proxyMethod,\r\n            url: url,\r\n            headers: {\r\n                \"X-Tenant-ID\": tenantId,\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            data: ''\r\n        }).then(function(response) {\r\n            if (response.data == null || response.data == 'undefined' || response.data.length == 0) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"You are not listed as guardian for any user.\");\r\n                    $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\")\r\n                } else {\r\n                    alert(\"You are not listed as guardian for any user\")\r\n                }\r\n            } else {\r\n                $scope.gurUser = response.data;\r\n                $scope.data = response.data;\r\n                $scope.users = [];\r\n                var user = {\r\n                    \"userName\": null,\r\n                    \"active\": !1\r\n                };\r\n                for (var i = 0; i < $scope.data.length; i++) {\r\n                    var userName = $scope.data[i].fname + \" \" + $scope.data[i].lname;\r\n                    if ($scope.data[i].trackMe != null && $scope.data[i].trackMe.length != 0) {\r\n                        var active = $scope.data[i].trackMe.active;\r\n                        user = {\r\n                            \"gEmail\": $scope.data[i].email,\r\n                            \"userName\": userName,\r\n                            \"active\": active\r\n                        }\r\n                    } else {\r\n                        user = {\r\n                            \"gEmail\": $scope.data[i].email,\r\n                            \"userName\": userName,\r\n                            \"active\": !1\r\n                        }\r\n                    }\r\n                    $scope.users.push(user)\r\n                }\r\n                $scope.showGuardians = true;\r\n            }\r\n        }, function(error) {});    \r\n        }\r\n        \r\n        $scope.loadGuardianList();\r\n\r\n        $scope.getUserTrackingDetails = function(trackMe) {\r\n            var lat = trackMe.lat;\r\n            var lng = trackMe.longitude;\r\n            var latlng = new google.maps.LatLng(lat, lng);\r\n            var myOptions = {\r\n                zoom: 14,\r\n                center: latlng,\r\n                mapTypeId: google.maps.MapTypeId.ROADMAP\r\n            };\r\n            map = new google.maps.Map(mapDisplay, myOptions);\r\n            map.addMarker($scope.createMarker($scope.gurUpUser.fname + \" \" + $scope.gurUpUser.lname + ' current location ', latlng))\r\n        }\r\n        $scope.createMarker = function(text, latlng) {\r\n            var marker = new google.maps.Marker({\r\n                position: latlng,\r\n                map: map\r\n            });\r\n            infowindow = new google.maps.InfoWindow({\r\n                content: text\r\n            });\r\n            infowindow.open(map, marker);\r\n            return marker\r\n        }\r\n        var trackUserInterval = function() {\r\n            var proxyMethod = \"POST\";\r\n            $scope.guardiansList = [];\r\n            $scope.PerEmail = $rootScope.user.email;\r\n            var refreshUrl = $.jStorage.get('url') + \"/personal/\" + $scope.gurUpUser.email;\r\n            $http({\r\n                method: 'GET',\r\n                url: refreshUrl,\r\n                headers: {\r\n                    \"X-Tenant-ID\": tenantId,\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                data: ''\r\n            }).then(function(response) {\r\n                //setTimeout(function() {\r\n                    $scope.gurUpUser = response.data;\r\n                    $scope.guardiansList = $scope.gurUpUser.guardiansList;\r\n                    for (var i = 0; i < $scope.guardiansList.length; i++) {\r\n                        if ($scope.guardiansList[i].gudemail == $rootScope.user.email) {\r\n                            $scope.guardiansList[i].guardianTracking = !0;\r\n                            break\r\n                        }\r\n                    }\r\n                    url = $.jStorage.get('url') + \"/personal/\" + $scope.gurUpUser.email;\r\n                    $scope.gurUpUser.guardiansList = $scope.guardiansList;\r\n                    if(!$scope.gurUpUser.trackMe.active){\r\n                        $scope.gurUpUser.trackMe.active = false;\r\n                    }\r\n                    var proxyData = $scope.gurUpUser;\r\n                    $http({\r\n                        method: proxyMethod,\r\n                        url: url,\r\n                        headers: {\r\n                            \"X-Tenant-ID\": tenantId,\r\n                            \"Content-Type\": \"application/json\"\r\n                        },\r\n                        data: proxyData\r\n                    }).then(function(response) {\r\n                        if (!response.data.trackMe.active) {\r\n                            clearInterval(usertrackingInterval);\r\n                            try{$scope.trackMeConfirmation(1);}catch(e){}\r\n                            if (window.device) {\r\n                                navigator.notification.alert(\"The user has stopped tracking.\")\r\n                            } else {\r\n                                alert(\"The user has stopped tracking.\")\r\n                            }\r\n                            $scope.guardianTrackingShow = !0\r\n                        } else {\r\n                            var trackMe = response.data.trackMe;\r\n                            if ($scope.flag == !1) {\r\n                                $scope.flag = !0;\r\n                                if (window.device) {\r\n                                    navigator.notification.alert(\"You are tracking Live location of: \" + $scope.gurUpUser.fname + \" \" + $scope.gurUpUser.lname)\r\n                                } else {\r\n                                    alert(\"You are tracking Live location of: \" + $scope.gurUpUser.fname + \" \" + $scope.gurUpUser.lname)\r\n                                }\r\n                            }\r\n                            $scope.getUserTrackingDetails(trackMe)\r\n                        }\r\n                    })\r\n               // }, 1000)\r\n            }, function(error) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"Error\")\r\n                } else {\r\n                    alert(\"Error\")\r\n                }\r\n            })\r\n        }\r\n        $scope.trackUser = function(userData) {\r\n            if (!usertracking) {\r\n                $scope.guardianTrackingShow = !1;\r\n                usertracking = !0;\r\n                userInfo = userData;\r\n                $scope.UpdateGuardianStatus(userInfo.gEmail)\r\n            }\r\n        }\r\n        $scope.UpdateGuardianStatus = function(gEmail) {\r\n            var proxyMethod = \"GET\";\r\n            url = $.jStorage.get('url') + \"/personal/\" + gEmail;\r\n            var proxyData = gEmail;\r\n            $http({\r\n                method: proxyMethod,\r\n                url: url,\r\n                headers: {\r\n                    \"X-Tenant-ID\": tenantId,\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                data: proxyData\r\n            }).then(function(response) {\r\n                var refreshData = response.data;\r\n                if (!refreshData.trackMe.active) {\r\n                    console.log('load guardians');\r\n                    $scope.loadGuardianList();\r\n                    try{$scope.trackMeConfirmation(1);}catch(e){}\r\n                    if (window.device) {\r\n                        navigator.notification.alert(\"The user has stopped tracking.\")\r\n                    } else {\r\n                        alert(\"The user has stopped tracking.\")\r\n                    }\r\n                    usertracking = !1\r\n                } else {\r\n                    $scope.gurUpUser = response.data;\r\n                    var time = $scope.gurUpUser.additionalInfo.timeInterval;\r\n                    if (parseInt(time) < 5)\r\n                        time = time * 5;\r\n                    time = time * 1000;\r\n                    console.log(\"time\", time);\r\n                    usertrackingInterval = setInterval(function() {\r\n                        trackUserInterval()\r\n                    }, time)\r\n                }\r\n            }, function(data, status, headers, config) {})\r\n        }\r\n    } catch (e) {\r\n        if (window.device) {\r\n            navigator.notification.alert(\"Exception\")\r\n        } else {\r\n            alert(\"Exception\")\r\n        }\r\n    }\r\n    $rootScope.back = function() {\r\n        if (usertracking == !1) {\r\n            clearInterval(usertrackingInterval);\r\n            $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\")\r\n        } else {\r\n            $scope.StopTrackingUser()\r\n        }\r\n    }\r\n    if ($location.search().email != undefined && $location.search().email != '') {\r\n        var emailTrack = $location.search().email;\r\n        if (!usertracking) {\r\n            $scope.guardianTrackingShow = !1;\r\n            usertracking = !0;\r\n            $scope.UpdateGuardianStatus(emailTrack)\r\n        }\r\n    }\r\n}",
          "endpoint": "",
          "datatemplate": "<div ng-show=\"showGuardians\">\r\n<div class=\" marginTop30px\" ng-show='guardianTrackingShow'>\r\n  <div class=\"list-group listItems\">\r\n    <div>\r\n      <div class=\"list-group-item\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"font18 proximaBoldFont\">List of users who has added you as guardian<\/div>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n      <div class=\"list-group-item\" ng-repeat='u in users'>\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div>\r\n              <span ng-click=\"trackUser(u)\" ng-show='u.active' class='linkColor cursorPointer pull-right'>Track User<\/span>\r\n              <span ng-hide='u.active' class='pull-right font16 colorGrey'>User not active<\/span>\r\n              <span class=\"colorDark font16\">{{u.userName}}<\/span>\r\n            <\/div>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>\r\n\r\n<div class=\" marginTop30px\" ng-hide='guardianTrackingShow'>\r\n  <div class=\"list-group-item\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <span ng-click=\"StopTrackingUser()\" class='btn btn-primary pull-right'>Stop Tracking<\/span>\r\n        <div class=\"font16 proximaSemiBold displayInline marginTop10\">You are now tracking <span class=\"colorDark proximaBoldFont\">{{gurUpUser.fname + \" \" + gurUpUser.lname  }} <\/span> location\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n  <\/div>\r\n  <div class=\"sm_webAppletContentPadding\" style=\"padding-top: 0px !important\">\r\n    <div id=\"MapMapCanvas\" style=\"width:100%;height:100%;margin:0px;padding:0px;\"><\/div>\r\n  <\/div>\r\n<\/div>\r\n<\/div>",
          "apikey": "AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o"
        },
        {
          "pageid": "BlueLightEmergency50Page10",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page10(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  $rootScope.back = function() {\r\n    $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n  };\r\n\r\n  var UserName = '';\r\n  var applicationId = \"8bSjK36YW9cTRBNZOvp8mo3ANPskUW102DrS4BBt\";\r\n  var clientKey = \"p8e83RAcb7n12eH4OspaFSpFLsnLdoOyCnxfyvLh\";\r\n  var tenantid = \"6694\";\r\n  var mobappid = \"6560\"\r\n  var featureid = \"97212\";\r\n  $scope.alertFlag = false;\r\n  $scope.PerEmail = $rootScope.user.email;\r\n  var tenantId = $.jStorage.get('tenantId');\r\n  var gudData = [];\r\n  var proxyData = '';\r\n  var fromEmail = $rootScope.fromEmail;\r\n  $scope.universityPhones = $rootScope.universityPhones;\r\n\r\n\r\n  if ($.jStorage.get(\"PersonalInfo\") == null) {\r\n    if (window.device) {\r\n      navigator.notification.alert(\"Please update your profile\");\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page6\");\r\n    } else {\r\n      alert(\"Please update your profile\");\r\n    }\r\n    return;\r\n  } else {\r\n\r\n    proxyData = $rootScope.PersonalInfo;\r\n    if (proxyData.guardiansList == null || proxyData.guardiansList.length == 0) {\r\n      $.unblockUI();\r\n\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please add guardians in alert contacts.\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page2\");\r\n      } else {\r\n        alert(\"Please add guardians in alert contacts.\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page2\");\r\n      }\r\n\r\n    } else if (proxyData.additionalInfo == null || proxyData.additionalInfo == '' || (proxyData.additionalInfo != null && proxyData.additionalInfo != '' && proxyData.additionalInfo.timeInterval == 0)) {\r\n\r\n\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please add Additional Info.\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page7\");\r\n      } else {\r\n        alert(\"Please update your Additional Info\");\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page7\");\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  if ($.jStorage.get(\"PersonalInfo\") != null)\r\n    gudData = $.jStorage.get(\"PersonalInfo\").guardiansList;\r\n  if (gudData != null && gudData.length != 0) {\r\n\r\n    var smsNumbers = \"\";\r\n    var emails = \"\";\r\n    var gphn = [];\r\n    var pushChannels = [];\r\n    for (var k = 0; k < gudData.length; k++) {\r\n      smsNumbers += gudData[k].guardianPhn + \",\";\r\n      emails += gudData[k].gudemail + \";\";\r\n      gphn.push(gudData[k].guardianPhn);\r\n      pushChannels.push(gudData[k].guardianPhn);\r\n    }\r\n\r\n\r\n    smsNumbers = smsNumbers.substr(0, smsNumbers.length - 1);\r\n    emails = emails.substr(0, emails.length - 1);\r\n    var guardianInfo = [];\r\n\r\n\r\n    for (var i = 0; i < gudData.length; i++) {\r\n\r\n      var sendUrl = $.jStorage.get('url') + \"/personal/\" + gudData[i].gudemail;\r\n\r\n      $http({\r\n        method: 'GET',\r\n        url: sendUrl,\r\n        headers: {\r\n          \"X-Tenant-ID\": tenantId,\r\n          \"Content-Type\": \"application/json\"\r\n        },\r\n        data: ''\r\n\r\n      }).then(function(response) {\r\n        $.unblockUI();\r\n\r\n        if (response.data != undefined || response.data != '') {\r\n\r\n          guardianInfo.push({\r\n\r\n            'ID': response.data.pushID,\r\n            'type': response.data.deviceType\r\n          });\r\n        }\r\n\r\n      });\r\n\r\n\r\n    }\r\n  }\r\n  $scope.sendAlertContacts = function() {\r\n\r\n    $scope.alertFlag = false;\r\n\r\n\r\n\r\n\r\n    navigator.geolocation.getCurrentPosition(function(loc) {\r\n\r\n\r\n      if ($scope.alertFlag == false) {\r\n\r\n        $scope.alertFlag = true;\r\n        var message = '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3 style=\"color:#323232;\">Sending Alert<\/h3><\/div>';\r\n        $.blockUI({\r\n          message: message\r\n        });\r\n        var lat = loc.coords.latitude;\r\n        var long = loc.coords.longitude;\r\n\r\n        var PI = $.jStorage.get(\"PersonalInfo\");\r\n\r\n        var phn = PI.phone;\r\n\r\n        UserName = PI.fname + \" \" + PI.lname;\r\n\r\n        var pushDataMsg = \"\";\r\n        pushDataMsg += UserName + \": \" + PI.additionalInfo.alertText + \" \\n I need assistance with a non-emergency.\\n\";\r\n\r\n\r\n\r\n        var emergencyAlert = UserName + \": \" + PI.additionalInfo.alertText + \"<br/><br/>\";\r\n        emergencyAlert = emergencyAlert + \"<b>Medical & Additional Info: <\/b><br/>\";\r\n        if (PI.additionalInfo.addInfo) {\r\n          if (PI.medicalInfo.alcoholic == undefined || !PI.medicalInfo.alcoholic) {\r\n\r\n            PI.medicalInfo.alcoholic = 'No';\r\n          }\r\n          if (PI.medicalInfo.smoking == undefined || !PI.medicalInfo.smoking) {\r\n\r\n            PI.medicalInfo.smoking = 'No';\r\n          }\r\n          if (PI.medicalInfo.diabetic == undefined || !PI.medicalInfo.diabetic) {\r\n\r\n            PI.medicalInfo.diabetic = 'No';\r\n          }\r\n          if (PI.medicalInfo.disability == undefined || !PI.medicalInfo.disability) {\r\n\r\n            PI.medicalInfo.disability = 'No';\r\n          }\r\n\r\n          if (PI.medicalInfo.alcoholic == true) {\r\n\r\n            PI.medicalInfo.alcoholic = 'Yes';\r\n          }\r\n          if (PI.medicalInfo.smoking == true) {\r\n\r\n            PI.medicalInfo.smoking = 'Yes';\r\n          }\r\n          if (PI.medicalInfo.diabetic == true) {\r\n\r\n            PI.medicalInfo.diabetic = 'Yes';\r\n          }\r\n          if (PI.medicalInfo.disability == true) {\r\n\r\n            PI.medicalInfo.disability = 'Yes';\r\n          }\r\n          emergencyAlert = emergencyAlert + \" Alcoholic : \" + PI.medicalInfo.alcoholic + \"<br/>\";\r\n          emergencyAlert = emergencyAlert + \" Smoking: \" + PI.medicalInfo.smoking + \"<br/>\";\r\n          emergencyAlert = emergencyAlert + \" Diabetic: \" + PI.medicalInfo.diabetic + \"<br/>\";\r\n          emergencyAlert = emergencyAlert + \" Disability: \" + PI.medicalInfo.disability + \"<br/>\";\r\n\r\n        }\r\n\r\n\r\n        if (PI.additionalInfo.alertMessage && PI.medicalInfo.allergies != undefined && PI.medicalInfo.allergies != '')\r\n          emergencyAlert = emergencyAlert + \" Allergies: \" + PI.medicalInfo.allergies + \"<br/>\";\r\n        if (PI.additionalInfo.alertMessage && PI.medicalInfo.medication != undefined && PI.medicalInfo.medication != '')\r\n          emergencyAlert = emergencyAlert + \" Medication: \" + PI.medicalInfo.medication + \"<br/>\";\r\n        if (PI.additionalInfo.alertMessage && PI.medicalInfo.vaccines != undefined && PI.medicalInfo.vaccines != '')\r\n          emergencyAlert = emergencyAlert + \" Vaccines: \" + PI.medicalInfo.vaccines + \"<br/>\";\r\n        if (PI.additionalInfo.alertMessage && PI.medicalInfo.medicalNotes != undefined && PI.medicalInfo.medicalNotes != '')\r\n          emergencyAlert = emergencyAlert + \" Medical Notes: \" + PI.medicalInfo.medicalNotes + \"<br/>\";\r\n\r\n\r\n\r\n\r\n        var emailmsg = \"<html><body>\" + emergencyAlert + \" <br> Please see my location: <a href='http://maps.google.com/?q=\" + loc.coords.latitude + \",\" + loc.coords.longitude + \"'>http://maps.google.com/?q=\" + loc.\r\n        coords.latitude + \",\" + loc.coords.longitude + \"<\/a>\";\r\n\r\n\r\n\r\n        emailmsg += \"<br/><br/>Thanks,<br/>\" + $rootScope.metadata.appDisplayName ;\r\n        emailmsg += \"<br/><br/><div ><img  height='70' src='\" + $rootScope.icon_url + \"'/><\/div>\";\r\n        emailmsg += \"<\/body><\/html>\";\r\n\r\n\r\n\r\n        var pushData = {\r\n\r\n          \"title\":  $rootScope.metadata.appDisplayName + \"Alert\",\r\n          \"body\": pushDataMsg,\r\n          \"devices\": guardianInfo,\r\n          \"bundleId\": \"com.kryptosmobile.unifyedbl\"\r\n        }\r\n\r\n\r\n        var emailData = {\r\n\r\n          'to': emails,\r\n          'subject': UserName + ' is in emergency situation. Need help!',\r\n          'body': emailmsg,\r\n          'from': fromEmail\r\n        };\r\n\r\n\r\n\r\n        $http.post(\"https://push.kryptosmobile.com/kryptosds/push/sendPush\", pushData).then(function(response) {\r\n          $.unblockUI();\r\n          //  navigator.notification.alert(\"Notification sent to active Guardians\");          \r\n\r\n          $http({\r\n            method: \"POST\",\r\n            url: \"https://kryptos.kryptosmobile.com/gateway/CEAI/kryptosemailsender\",\r\n\r\n\r\n            headers: {\r\n              'licenseKey': 'UjpIaWVDVzpTOjE0NDk0ODk2MzUxMzE6VTpha0BjYW1wdXNlYWkub3JnOlQ6NDpQOjI4Ng==',\r\n              'Content-Type': 'application/json'\r\n            },\r\n            data: JSON.stringify(emailData)\r\n          }).\r\n          then(function(response) {\r\n              $.unblockUI();\r\n              navigator.notification.alert(\"Alert Notification & Email sent to active Guardians.\");\r\n\r\n\r\n              if (response.success != null) {\r\n                if (device.platform == 'iOS') {\r\n                  if (sms) {\r\n                    // sms.send(smsNumbers, emergencyAlert, msgOptions, alertContactssmssuccess, alertContactssmserror);\r\n                  }\r\n                } else {\r\n                  //SMS.sendSMS(gphn, emergencyAlert, alertContactssmssuccess, alertContactssmserror);\r\n                }\r\n              } else {\r\n                //navigator.notification.alert(\"Alert SMS not sent to alert contacts. Please try again.\");\r\n              }\r\n            },\r\n            function(err) {\r\n              navigator.notification.alert(\"Alert Email not sent to alert contacts. Please try again.\");\r\n              $.unblockUI();\r\n            }\r\n          );\r\n\r\n\r\n        }, function(err) {\r\n          $.unblockUI();\r\n          navigator.notification.alert(\"Error\");\r\n        });\r\n\r\n\r\n      }\r\n    }, onError, options);\r\n\r\n\r\n  }\r\n\r\n  var onError = function(err) {\r\n    $.unblockUI();\r\n    switch (err.code) {\r\n      case 3:\r\n        {\r\n          var errmsg = \"Could not get the current position. Either GPS signals are weak or GPS has been switched off.\";\r\n          break;\r\n        }\r\n      case 1:\r\n        {\r\n          var errmsg = \"Either GPS signals are weak or GPS has been switched off.\";\r\n          break;\r\n        }\r\n      case 2:\r\n        {\r\n          var errmsg = \"Unable to get your current position.\";\r\n          break;\r\n        }\r\n    }\r\n    if (window.device) {\r\n      navigator.notification.alert(errmsg);\r\n    } else {\r\n      alert(errmsg);\r\n    }\r\n  }\r\n  var options = {\r\n    maximumAge: 0,\r\n    timeout: 10000,\r\n    enableHighAccuracy: true\r\n  };\r\n\r\n  $scope.publicSafetyCall = true;\r\n  $scope.publicSafetyText = true;\r\n\r\n  $scope.call911 = function() {\r\n    phonedialer.dial(\r\n      \"911\",\r\n      function(err) {\r\n        alert(\"Please check you have dial permission to app\")\r\n      },\r\n      function(success) {}\r\n    );\r\n  }\r\n\r\n  $scope.showHidePublicSafety = function() {\r\n    $scope.publicSafetyCall = false;\r\n    $scope.publicSafetyText = true;\r\n  }\r\n\r\n\r\n  $scope.callPublicSafety = function(data) {\r\n    phonedialer.dial(\r\n      data.phone,\r\n      function(err) {\r\n        alert(\"Please check you have dial permission to app\");\r\n      },\r\n      function(success) {}\r\n    );\r\n\r\n  }\r\n\r\n  /* $scope.callPublicSafety = function(id) {\r\n     switch (id) {\r\n       case 'WILMINGTON':\r\n         {\r\n           phonedialer.dial(\r\n             \"3025735418\",\r\n             function(err) {\r\n               //alert(\"err\");\r\n             },\r\n             function(success) {\r\n               //alert(\"succ\");\r\n             }\r\n           );\r\n           break;\r\n         }\r\n       case 'GEORGETOWN':\r\n         {\r\n           phonedialer.dial(\r\n             \"3022596241\",\r\n             function(err) {},\r\n             function(success) {}\r\n           );\r\n           break;\r\n         }\r\n       case 'STANTON':\r\n         {\r\n           phonedialer.dial(\r\n             \"3024543938\",\r\n             function(err) {},\r\n             function(success) {}\r\n           );\r\n           break;\r\n         }\r\n       case 'DOVER':\r\n         {\r\n           phonedialer.dial(\r\n             \"3028571110\",\r\n             function(err) {},\r\n             function(success) {}\r\n           );\r\n           break;\r\n         }\r\n     }\r\n   }   */\r\n\r\n  $scope.showHidePublicSafetyText = function() {\r\n    $scope.publicSafetyText = false;\r\n    $scope.publicSafetyCall = true;\r\n  }\r\n\r\n\r\n  var msgOptions = {\r\n    replaceLineBreaks: true, // true to replace \\n by a new line, false by default\r\n    android: {\r\n      intent: '' // send SMS without open any other app\r\n    }\r\n  };\r\n  var smssuccess = function() {\r\n    navigator.notification.alert(\"Text alert sent to public safety.\");\r\n    $.unblockUI();\r\n  };\r\n  var smserror = function(e) {\r\n    navigator.notification.alert('SMS not sent');\r\n    $.unblockUI();\r\n  };\r\n\r\n  var alertContactssmssuccess = function() {\r\n    navigator.notification.alert(\"Text alert sent to alert contacts.\");\r\n    $.unblockUI();\r\n  };\r\n  var alertContactssmserror = function(e) {\r\n    navigator.notification.alert(\"Text alert sent to alert contacts except SMS.\");\r\n    $.unblockUI();\r\n  };\r\n\r\n  $scope.textPublicSafety = function(id) {\r\n    var emailBody = \"\";\r\n    if ($rootScope.user.email == null || $rootScope.user.email == undefined) {\r\n      navigator.notification.alert(\"Please update your profile before sending emergency alert\");\r\n      $location.path('/app/BlueLightEmergency50/BlueLightEmergency50Page6');\r\n      return;\r\n    }\r\n\r\n    UserName = $scope.fName + \" \" + $scope.lName;\r\n    emailBody = \"<html><body>\";\r\n    emailBody += \"<div>\" + UserName + \" - I need assistance with a non-emergency<\/div><br/><br/>\";\r\n    emailBody += \"<br/><br/>Thanks,<br/>\" + $rootScope.metadata.appDisplayName;\r\n    emailBody += \"<br/><br/><div><img src='https://studio.unifyed.com/metaData/appLogo/105788?q=1535553606535'/><\/div>\";\r\n    emailBody += \"<\/body><\/html>\";\r\n\r\n    var emailData = {\r\n      'subject': UserName + ' - I need assistance with a non-emergency',\r\n      'body': emailBody,\r\n      'from': fromEmail\r\n    };\r\n\r\n\r\n    var emergencyAlert = UserName + \" - I need assistance with a non-emergency.\";\r\n    switch (id) {\r\n      case 'WILMINGTON':\r\n        {\r\n          var message = '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3 style=\"color:white;\">Sending Alert<\/h3><\/div>';\r\n          $.blockUI({\r\n            message: message\r\n          });\r\n          emailData.to = 'george-bluelight@dtcc.edu';\r\n\r\n          var xhr = $.ajax({\r\n            url: \" \",\r\n            contentType: 'application/json',\r\n            type: \"POST\",\r\n            headers: {\r\n              'licenseKey': 'UjppQjdjVjpTOjE0MTYyMDM3OTE4Mjc6VTpha0BjYW1wdXNlYWkub3JnOlQ6MzIwOlA6MTY3'\r\n            },\r\n            data: JSON.stringify(emailData),\r\n            success: function(data) {\r\n              $.unblockUI();\r\n              if (data.response == \"Successful\") {\r\n                emailSuccess = true;\r\n              } else {\r\n                emailSuccess = false;\r\n              }\r\n            },\r\n            error: function(err) {\r\n              emailSuccess = false;\r\n            }\r\n          });\r\n\r\n          var gphn = [\"302-605-2603\", \"302-540-0315\", \"302-383-0755\"];\r\n\r\n          try {\r\n            if (device.platform == 'iOS') {\r\n              if (sms) {\r\n                sms.send('302-605-2603,302-540-0315,302-383-0755', emergencyAlert, msgOptions, smssuccess, smserror);\r\n              }\r\n            } else {\r\n\r\n              if (SMS) {\r\n                SMS.sendSMS(gphn, emergencyAlert, function() {\r\n                  // navigator.notification.alert(\"Text alert sent to public safety.\");\r\n                }, function() {\r\n                  alert('SMS not sent.')\r\n                });\r\n              } else {\r\n                // navigator.notification.alert(\"SMS cannot be send from your device\");\r\n              }\r\n            }\r\n          } catch (e) {}\r\n\r\n          break;\r\n        }\r\n      case 'GEORGETOWN':\r\n        {\r\n          var message = '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3 style=\"color:white;\">Sending Alert<\/h3><\/div>';\r\n          $.blockUI({\r\n            message: message\r\n          });\r\n          emailData.to = 'owens-bluelight@dtcc.edu';\r\n          var xhr = $.ajax({\r\n            url: \"https://kryptos.kryptosmobile.com/gateway/Demo/kryptosemailsender\",\r\n            contentType: 'application/json',\r\n            type: \"POST\",\r\n            headers: {\r\n              'licenseKey': 'UjppQjdjVjpTOjE0MTYyMDM3OTE4Mjc6VTpha0BjYW1wdXNlYWkub3JnOlQ6MzIwOlA6MTY3'\r\n            },\r\n            data: JSON.stringify(emailData),\r\n            success: function(data) {\r\n              $.unblockUI();\r\n              if (data.response == \"Successful\") {\r\n                emailSuccess = true;\r\n              } else {\r\n                emailSuccess = false;\r\n              }\r\n            },\r\n            error: function(err) {\r\n              emailSuccess = false;\r\n            }\r\n          });\r\n\r\n          var gphn = [\"302-540-0971\", \"302-236-2769\"];\r\n          if (device.platform == 'iOS') {\r\n            if (sms) {\r\n              sms.send('302-540-0971,302-236-2769', emergencyAlert, msgOptions, smssuccess, smserror);\r\n            }\r\n          } else {\r\n            if (SMS) {\r\n              SMS.sendSMS(gphn, emergencyAlert, function() {\r\n                navigator.notification.alert(\"Text alert sent.\");\r\n              }, function() {\r\n                alert('SMS not sent.')\r\n              });\r\n            } else {\r\n              // navigator.notification.alert(\"SMS cannot be send from your device\");\r\n            }\r\n          }\r\n          break;\r\n        }\r\n      case 'STANTON':\r\n        {\r\n          var message = '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3 style=\"color:white;\">Sending Alert<\/h3><\/div>';\r\n          $.blockUI({\r\n            message: message\r\n          });\r\n          emailData.to = 'stan-bluelight@dtcc.edu';\r\n\r\n          var xhr = $.ajax({\r\n            url: \"https://kryptos.kryptosmobile.com/gateway/Demo/kryptosemailsender\",\r\n            contentType: 'application/json',\r\n            type: \"POST\",\r\n            headers: {\r\n              'licenseKey': 'UjppQjdjVjpTOjE0MTYyMDM3OTE4Mjc6VTpha0BjYW1wdXNlYWkub3JnOlQ6MzIwOlA6MTY3'\r\n            },\r\n            data: JSON.stringify(emailData),\r\n            success: function(data) {\r\n              $.unblockUI();\r\n              if (data.response == \"Successful\") {\r\n                emailSuccess = true;\r\n              } else {\r\n                emailSuccess = false;\r\n              }\r\n            },\r\n            error: function(err) {\r\n              emailSuccess = false;\r\n            }\r\n          });\r\n\r\n          var gphn = [\"302-605-2602\", \"302-242-0362\", \"302-530-3175\", \"302-753-3910\"];\r\n          if (device.platform == 'iOS') {\r\n            if (sms) {\r\n              sms.send('302-605-2602,302-242-0362,302-530-3175,302-753-3910', emergencyAlert, msgOptions, smssuccess, smserror);\r\n            }\r\n          } else {\r\n            if (SMS) {\r\n              SMS.sendSMS(gphn, emergencyAlert, function() {\r\n                navigator.notification.alert(\"Text alert sent to public safety.\");\r\n              }, function() {\r\n                alert('SMS not sent.')\r\n              });\r\n            } else {\r\n              navigator.notification.alert(\"SMS cannot be send from your device\");\r\n            }\r\n          }\r\n\r\n          break;\r\n        }\r\n      case 'DOVER':\r\n        {\r\n\r\n          var message = '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3 style=\"color:white;\">Sending Alert<\/h3><\/div>';\r\n          $.blockUI({\r\n            message: message\r\n          });\r\n          emailData.to = 'terry-bluelight@dtcc.edu';\r\n\r\n          var xhr = $.ajax({\r\n            url: \"https://kryptos.kryptosmobile.com/gateway/Demo/kryptosemailsender\",\r\n            contentType: 'application/json',\r\n            type: \"POST\",\r\n            headers: {\r\n              'licenseKey': 'UjppQjdjVjpTOjE0MTYyMDM3OTE4Mjc6VTpha0BjYW1wdXNlYWkub3JnOlQ6MzIwOlA6MTY3'\r\n            },\r\n            data: JSON.stringify(emailData),\r\n            success: function(data) {\r\n              $.unblockUI();\r\n              if (data.response == \"Successful\") {\r\n                emailSuccess = true;\r\n              } else {\r\n                emailSuccess = false;\r\n              }\r\n            },\r\n            error: function(err) {\r\n              emailSuccess = false;\r\n            }\r\n          });\r\n\r\n          var gphn = [\"302-670-9303\", \"410-984-8211\", \"302-943-1959\", \"302-382-2462\"];\r\n          //var gphn = [\"302-222-5735\"];\r\n\r\n          if (device.platform == 'iOS') {\r\n            if (sms) {\r\n              sms.send('302-670-9303,410-984-8211,302-943-1959,302-382-2462', emergencyAlert, msgOptions, smssuccess, smserror);\r\n              //sms.send('302-222-5735', emergencyAlert, msgOptions, smssuccess, smserror);\r\n            }\r\n          } else {\r\n            if (SMS) {\r\n              SMS.sendSMS(gphn, emergencyAlert, function() {\r\n                //  navigator.notification.alert(\"Text alert sent to public safety.\");\r\n              }, function() {\r\n                //   alert('SMS not sent.')\r\n              });\r\n            } else {\r\n              //  navigator.notification.alert(\"SMS cannot be send from your device\");\r\n            }\r\n          }\r\n\r\n\r\n          /*var emailData = {\r\n          'to': \"3026709303@vtext.com;4109848211@vtext.com;3029431959@vtext.com;3023822462@vtext.com\",\r\n          'subject': UserName + ' is in emergency situation.',\r\n          'body': emergencyAlert,\r\n          'from': 'Donotreply@dtccbluelightapp.com'\r\n        };*/\r\n\r\n          /*var emailData = {};\r\n        var emailData = {\r\n          'to': \"3026709303@vtext.com\",\r\n          'subject': UserName + ' is in emergency situation.',\r\n          'body': emergencyAlert\r\n        };\r\n\r\n        alert(JSON.stringify(emailData));\r\n\r\n        var xhr = $.ajax({\r\n                url: \"https://kryptos.kryptosmobile.com/gateway/CEAI/kryptosemailsender\",\r\n                contentType: 'application/json',\r\n                type: \"POST\",\r\n                headers: {\r\n                  'licenseKey': 'UjpIaWVDVzpTOjE0NDk0ODk2MzUxMzE6VTpha0BjYW1wdXNlYWkub3JnOlQ6NDpQOjI4Ng=='\r\n                },\r\n                data: JSON.stringify(emailData),\r\n                success: function(data) {\r\n                  $.unblockUI();\r\n                  if (data.response == \"Successful\") {\r\n                    navigator.notification.alert(\"Text alert sent to public safety.\");\r\n                  }else{\r\n                  navigator.notification.alert(\"Text alert not sent to public safety. Please try again.\");\r\n                  }\r\n                },\r\n                error: function(err) {\r\n                  navigator.notification.alert(\"Alert text not sent to alert contacts. Please try again.\");\r\n                  $.unblockUI();\r\n                }\r\n              });*/\r\n\r\n\r\n\r\n          break;\r\n        }\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n}",
          "endpoint": "",
          "datatemplate": "<style>\r\n  .bluelight_main .divCollapse[aria-expanded=\"true\"] .fa.fa-angle-down {\r\n    -webkit-transform: rotate(180deg);\r\n    -moz-transform: rotate(180deg);\r\n    -o-transform: rotate(180deg);\r\n    -ms-transform: rotate(180deg);\r\n    transform: rotate(180deg);\r\n  }\r\n  \r\n  .noteStar {\r\n    color: red;\r\n  }\r\n<\/style>\r\n<div class=\"lg_webAppletContentPadding marginTop30 bluelight_main\">\r\n  <div class=\"list-group-item headerFooterBg clearfix\" style=\"background: #cc0000; color:#ffffff\">\r\n\r\n    <div class=\"fontSize18 paddingTB10\" ng-click=\"call911()\"><i class=\"fa fa-phone \" style='color:#fff'><\/i> CALL 911<\/div>\r\n    <div class=\"fontSize12\">Please Call 911 for Any Emergency - 24/7 <\/div>\r\n  <\/div>\r\n  <div id=\"blueLight\" class=\"marginTop10\">\r\n    <div class=\"list-group-item greyBorder colPadding borderRadius4px clearfix marginBottom10px\">\r\n      <div data-toggle=\"collapse\" data-target=\"#publicSafetyCall\" data-parent=\"#blueLight\" class=\" divCollapse padding15px0px cursorPointer\">\r\n        <div class=\"col-md-12 col-sm-12  col-xs-12 font18 colorDark proximaBoldFont\">\r\n          <div class=\"pull-right font20 \">\r\n            <i class=\"fa fa-angle-down\"><\/i>\r\n          <\/div>\r\n          Call Public Safety\r\n        <\/div>\r\n        <span ng-show=\"publicSafetyCall\" class=\"col-md-12 col-sm-12  col-xs-12 font12 marginTop5\">*Help on Campus During College Hours Only*\r\n         <\/span>\r\n        <div class=\"clearfix\"><\/div>\r\n      <\/div>\r\n      <div class=\"collapse in\" id=\"publicSafetyCall\" aria-expanded=\"true\">\r\n        <div class=\"borderTop1px\">\r\n          <div class=\"col-md-12 col-sm-12  col-xs-12 borderBottom1px font16 padding10px15px linkColor cursorPointer\" ng-repeat=\"universityPhone in universityPhones\" ng-click=\"callPublicSafety(universityPhone)\"> <i class=\"fa fa-phone\" style='color:#000'><\/i> {{universityPhone.name}}<\/div>\r\n          <!--  <div class=\"col-md-12 col-sm-12  col-xs-12 borderBottom1px font16 padding10px15px linkColor cursorPointer\" ng-click=\"callPublicSafety('STANTON')\">Stanton Public Safety<\/div>\r\n            <div class=\"col-md-12 col-sm-12  col-xs-12 borderBottom1px font16 padding10px15px linkColor cursorPointer\" ng-click=\"callPublicSafety('DOVER')\">Dover Public Safety<\/div>\r\n            <div class=\"col-md-12 col-sm-12  col-xs-12 borderBottom1px font16 padding10px15px linkColor cursorPointer\" ng-click=\"callPublicSafety('GEORGETOWN')\">Georgetown Public Safety<\/div> -->\r\n          <!-- <div class=\"col-md-12 col-sm-12  col-xs-12 text-center font16 padding10px15px\">\r\n              <b>*Help on Campus During College Hours Only*<\/b><\/div> -->\r\n        <\/div>\r\n      <\/div>\r\n\r\n    <\/div>\r\n\r\n\r\n\r\n    <!--div class=\"list-group-item greyBorder colPadding borderRadius4px clearfix marginBottom10px\" >\r\n        <div data-toggle=\"collapse\" data-target=\"#textPublicSafetyCall\" data-parent=\"#blueLight\" class=\" divCollapse padding15px0px cursorPointer\">\r\n          <div class=\"col-md-12 col-sm-12  col-xs-12 font18 colorDark proximaBoldFont\">\r\n           <div class=\"pull-right font20 marginTop10\">\r\n              <i class=\"fa fa-angle-down\"><\/i>\r\n            <\/div>\r\n            Text Public Contacts\r\n            <div ng-show=\"textPublicSafetyCall\" class=\" font12 marginTop5\">Will Include General Location Map\r\n            <\/div>\r\n          <\/div>\r\n          <div class=\"clearfix\"><\/div>\r\n        <\/div>\r\n        <div class=\"collapse \" id=\"textPublicSafetyCall\" aria-expanded=\"false\">\r\n          <div class=\"borderTop1px padding15px0px\">\r\n            <div class=\"col-md-12 col-sm-12  col-xs-12   font16 padding10px15px\" ng-click=\"textPublicSafety('WILMINGTON')\">Wilmington Public Safety<\/div>\r\n            <div class=\"col-md-12 col-sm-12  col-xs-12   font16 padding10px15px\" ng-click=\"textPublicSafety('STANTON')\">Stanton Public Safety<\/div>\r\n            <div class=\"col-md-12 col-sm-12  col-xs-12   font16 padding10px15px\" ng-click=\"callPublicSafety('DOVER')\">Dover Public Safety<\/div>\r\n            <div class=\"col-md-12 col-sm-12  col-xs-12   font16 padding10px15px\" ng-click=\"callPublicSafety('GEORGETOWN')\">Georgetown Public Safety<\/div>\r\n            <div class=\"col-md-12 col-sm-12  col-xs-12 marginBottom10 font16\"><b>\r\n          *Help During College Hours Only*<\/b><\/div>\r\n          <\/div>\r\n        <\/div>\r\n  \r\n        <\/div-->\r\n    <div>\r\n      <div class=\"marginTop10px\">\r\n        <div class=\"list-group-item greyBorder cursorPointer padding15px0px colPadding borderRadius4px clearfix marginBottom10px\" ng-click=\"sendAlertContacts();\">\r\n          <div class=\"col-md-12 col-sm-12  col-xs-12 font18 colorDark proximaBoldFont\">Alert Contacts<\/div>\r\n          <div class=\"col-md-12 col-sm-12  col-xs-12 font12 marginTop5\">Will send Email & Notification Your Alert Contacts<\/div>\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n\r\n\r\n    <div>\r\n      <div class=\"marginTop10px\">\r\n        <div class=\"padding15px0px colPadding  clearfix marginBottom0px\">\r\n          <div class=\"col-md-12 col-sm-12 col-xs-12 font18 colorDark proximaBoldFont\"> <\/div>\r\n          <div class=\"col-md-12 col-sm-12 col-xs-12 font12 marginTop5 colorGrey \"><span class=\"noteStar \">*<\/span> Please Enable Contact Permission, If Dialing not working for Emergency Contacts<\/div>\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>"
        },
        {
          "pageid": "BlueLightEmergency50Page12",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page12(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    \r\n     \r\n    \r\n    var distance = '20000';\r\n    var tenantId = $.jStorage.get('tenantId');\r\n    var proxyData;\r\n     \r\n     \r\n    if ($.jStorage.get(\"PersonalInfo\") == null) {\r\n        if (window.device) {\r\n            navigator.notification.alert(\"Please update your profile\");\r\n            $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page6\");\r\n        } else {\r\n            alert(\"Please update your profile\");\r\n        }\r\n        return;\r\n    } else {\r\n\r\n        proxyData = $rootScope.PersonalInfo;\r\n        if (proxyData.guardiansList == null || proxyData.guardiansList.length == 0) {\r\n\r\n\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please add guardians in alert contacts.\");\r\n                $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page2\");\r\n            } else {\r\n                alert(\"Please add guardians in alert contacts.\");\r\n                $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page2\");\r\n            }\r\n            return;\r\n        } else if (proxyData.additionalInfo == null || proxyData.additionalInfo == '' || (proxyData.additionalInfo != null && proxyData.additionalInfo != '' && proxyData.additionalInfo.timeInterval == 0)) {\r\n\r\n\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please add Additional Info.\");\r\n                $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page7\");\r\n            } else {\r\n                alert(\"Please update your Additional Info\");\r\n                $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page7\");\r\n            }\r\n            return;\r\n        } else if((parseInt($.jStorage.get(\"PersonalInfo\").additionalInfo.searchRadius))*1609 != 0){\r\n            \r\n            distance = (parseInt($.jStorage.get(\"PersonalInfo\").additionalInfo.searchRadius))*1609;\r\n            console.log(\"distanceCalculated\", distance);\r\n        }\r\n        \r\n    }\r\n    \r\n    \r\n    \r\n    $rootScope.back = function() {\r\n        $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n        };\r\n        \r\n   var mapapikey = \"AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o\";\r\n  var placesapikey = \"AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o\";\r\n\r\n  $scope.PlacesSuccessCallback = function(placeType) {\r\n    try {\r\n      $.blockUI();\r\n      var latitudeVal = placeCoordinate.coords.latitude;\r\n      var longitudeVal = placeCoordinate.coords.longitude;\r\n      \r\n      \r\n      var place_url = \"https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=\" +\r\n        $rootScope.placeCoordinate.coords.latitude + \",\" + $rootScope.placeCoordinate.coords.longitude + \"&radius=\"+ distance+\"&types=\" + placeType +\r\n        \"&sensor=true&key=\" + placesapikey;\r\n     console.log(\"distanceUsed\", distance);\r\n      var url = \"\";\r\n      var proxyMethod = \"GET\";\r\n      var proxyData = {};\r\n      if (window.device) {\r\n        url = place_url;\r\n      } else {\r\n        url = \"/websimulator/json?url=\" + encodeURIComponent(place_url);\r\n        proxyMethod = \"POST\";\r\n        proxyData = {\r\n          method: \"GET\"\r\n        }\r\n      }\r\n      $.ajax({\r\n        url: url,\r\n        method: proxyMethod,\r\n        data: proxyData,\r\n        success: function(data) {\r\n          $rootScope.appDisplayName = placeType;\r\n         \r\n          $rootScope.placesdata = data;\r\n          $rootScope.$apply(function() {\r\n            $location.search(\"placetype\", placeType).path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page13\");\r\n            $.unblockUI();\r\n          });\r\n        },\r\n        error: function(e) {\r\n          $.unblockUI();\r\n          //alertServerError(e.status);\r\n          alert(\"Error : \" + e);\r\n        }\r\n\r\n      });\r\n\r\n    } catch (e) {\r\n      alert(e)\r\n    }\r\n\r\n  }\r\n\r\n  var geocoder;\r\n  var placeCoordinate;\r\n  var errorCallback = function(error) {\r\n    $.unblockUI();\r\n    switch (error.code) {\r\n      case 3:\r\n        {\r\n          var errmsg = \"Could not get the current position. Either GPS signals are weak or GPS has been switched off.\";\r\n          break;\r\n        }\r\n      case 1:\r\n        {\r\n          var errmsg = \"Either GPS signals are weak or GPS has been switched off.\";\r\n          break;\r\n        }\r\n      case 2:\r\n        {\r\n          var errmsg = \"Unable to get your current position.\";\r\n          break;\r\n        }\r\n    }\r\n    if (window.device) {\r\n      navigator.notification.alert('GPS Error');\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n    } else {\r\n      alert(errmsg);\r\n    }\r\n  }\r\n  var placeGeoCoder = function(results) {\r\n    try {\r\n      $.unblockUI();\r\n      var data1 = $compile($(pagedef.datatemplate))($scope);\r\n      $(\"#appContent\").append(data1);\r\n\r\n      \r\n      placeCoordinate = results;\r\n      $rootScope.placeCoordinate = placeCoordinate;\r\n      geocoder = new google.maps.Geocoder();\r\n      var latlng = new google.maps.LatLng(results.coords.latitude, results.coords.longitude);\r\n      geocoder.geocode({\r\n        'latLng': latlng\r\n      }, function(results, status) {\r\n       \r\n        if (status == google.maps.GeocoderStatus.OK) {\r\n          if (results[0]) {\r\n           \r\n            $(\"#currentUserLoc\").html(results[0].formatted_address);\r\n          } else {\r\n            alert('No results found');\r\n          }\r\n        } else {\r\n          alert('Geocoder failed due to: ' + status);\r\n        }\r\n      });\r\n    } catch (e) {\r\n      $.unblockUI();\r\n      alert(\"Error : \" + e);\r\n    }\r\n    //pageChange(\"places\");\r\n  }\r\n\r\n  //if (window.device) {\r\n  var placescb = function() {\r\n    if (navigator.geolocation) {\r\n      $.blockUI();\r\n      navigator.geolocation.getCurrentPosition(placeGeoCoder, errorCallback, {\r\n        timeout: 10000,\r\n        frequency: 3000,\r\n        enableHighAccuracy: true\r\n      });\r\n    } else {\r\n      alert(\"not working\")\r\n    }\r\n  }\r\n  window.placescb = placescb;\r\n  $.getScript(\"https://maps.googleapis.com/maps/api/js?key=\" + mapapikey + \"&sensor=false&callback=placescb\");\r\n  //}\r\n}",
          "endpoint": "",
          "datatemplate": "<div class=\"list-group listItems lg_webAppletContentPadding marginTop30px\">\r\n  <div class=\"list-group-item\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=' btn btn-primary btn-block' ng-click=\"PlacesSuccessCallback('hospital');\">Hospitals<\/div>\r\n      <\/div>\r\n    <\/div>\r\n  <\/div>\r\n  <div class=\"list-group-item\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <div class=' btn btn-primary btn-block' ng-click=\"PlacesSuccessCallback('police');\">Police<\/div>\r\n      <\/div>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>"
        },
        {
          "pageid": "BlueLightEmergency50Page13",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page13(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n     var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n     if ($routeParams.placetype == 'hospital') {\r\n    $rootScope.appDisplayName = 'Hospitals'\r\n  } else {\r\n    $rootScope.appDisplayName = 'Police Stations';\r\n  }\r\n  //$rootScope.appDisplayName = $routeParams.placetype;\r\n}",
          "endpoint": "",
          "datatemplate": "<div class=\"list-group listItems lg_webAppletContentPadding marginTop30px\">\r\n    <div class=\"list-group-item\" ng-repeat=\"item in placesdata.results\">\r\n        <a href=\"#app/BlueLightEmergency50/BlueLightEmergency50Page15?index={{$index}}\" >\r\n    <div class=\"row\">\r\n            <div class=\"col-md-2 col-sm-2 col-xs-3\">\r\n                <img style='width:60px;height:60px' src='https://maps.googleapis.com/maps/api/place/photo?maxwidth=80&photoreference={{item.photos[0].photo_reference}}&sensor=true&key=AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o' />\r\n            <\/div>\r\n            <div class=\"col-md-10 col-sm-10 col-xs-9\">\r\n                <div class=\" font16 proximaBoldFont colorDark\">{{item.name}}<\/div>\r\n                <div class=\" font16 proximaFont colorGrey\">{{item.vicinity}}<\/div>\r\n                <div class=\" font16 proximaFont colorGrey\">Rating : {{item.rating}}<\/div>\r\n            <\/div>\r\n            <div style='clear:both'><\/div>\r\n    <\/div>\r\n        <\/a>\r\n<\/div>\r\n<\/div>"
        },
        {
          "pageid": "BlueLightEmergency50Page15",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page15(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var placesapikey = \"AIzaSyBf-3Ff01fEYn-d6qC6mXaVAbKvOkPLOTY\";\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.item = $rootScope.placesdata.results[$routeParams.index];\r\n  var placeDescUrl = \"https://maps.googleapis.com/maps/api/place/details/json?reference=\"+$scope.item.reference+\"&sensor=true&key=\"+placesapikey;\r\n  $.blockUI();\r\n  $.ajax({\r\n    url: placeDescUrl,\r\n    method: 'GET',\r\n    success: function(data) {\r\n     \r\n      $scope.place = data;\r\n      $rootScope.place = data;\r\n      $.unblockUI();\r\n      $scope.$digest();\r\n    },\r\n    error: function(e) {\r\n      $.unblockUI();\r\n      // alertServerError(e.status);\r\n      alert(\"Error : \" + e);\r\n    }\r\n\r\n  });\r\n  \r\n  $scope.Abt = true;\r\n  $scope.Pht = false;\r\n  $('#PhotoTb').hide();\r\n  $('#AboutTb').show();\r\n$scope.showHide = function(mode){\r\n\t\r\n\tif(mode == 'Pht'){\r\n\t\t\r\n\t\t$('#PhotoTb').show();\r\n\t\t$('#AboutTb').hide();\r\n\t\t$scope.Pht = true;\r\n\t\t$scope.Abt = false;\r\n\t}else{\r\n\t\t\r\n\t\t$scope.Abt = true;\r\n\t\t$scope.Pht = false;\r\n\t\t\r\n\t\t$('#AboutTb').show();\r\n\t\t$('#PhotoTb').hide();\r\n\t}\r\n\t\r\n\t\r\n}\r\n  $scope.showPlaceOnMap = function() {\r\n    alert(\"Clicked show place on Map\");\r\n    $rootScope.$apply(function() {\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page16\");\r\n    });\r\n  }\r\n\r\n}",
          "endpoint": "",
          "datatemplate": "<div class=\"well\" style=\"background:#fff;\">\r\n  <div class=\"list-group-item toolbar-menu clearfix\">\r\n    <div class=\"col-xs-6 toolbar-column toolbar-column-active\" ng-class=\"Abt ? 'toolbar-column-active' : ''\" ng-click=\"showHide('Abt');\">\r\n      <span class=\"proximaFont\">\r\n                    About\r\n                <\/span>\r\n    <\/div>\r\n    <div class=\"col-xs-6 toolbar-column\" ng-class=\"Pht ? 'toolbar-column-active' : ''\" ng-click=\"showHide('Pht');\">\r\n      <span class=\"proximaFont\">\r\n                    Photos\r\n                <\/span>\r\n    <\/div>\r\n  <\/div>\r\n  <div class=\"lg_webAppletContentPadding marginTop15px\">\r\n    <div class=\"list-group listItems\">\r\n      <div class=\"list-group-item\">\r\n        <div class=\"tab-content\">\r\n          <div class=\"tab-pane\" id=\"AboutTb\">\r\n            <div id=\"IndPlaceAdd\">\r\n              <div>\r\n                <div class=\"col-md-3 col-sm-3 col-xs-3\">\r\n                  <img style='width:60px;height:60px' ng-src='https://maps.googleapis.com/maps/api/place/photo?maxwidth=120&photoreference={{place.result.photos[0].photo_reference}}&sensor=true&key=AIzaSyBf-3Ff01fEYn-d6qC6mXaVAbKvOkPLOTY' />\r\n                <\/div>\r\n                <div class=\"col-md-9 col-sm-9 col-xs-9\">\r\n                  <div class=\"form16 colordark\">{{place.result.name}}<\/div>\r\n                  <div class=\"form16 colorGrey\">{{place.result.formatted_address}}<\/div>\r\n                  <div class=\"form16\"><span class=\"colordark\"> Rating :<\/span> <span class=\"colorGrey\">{{place.result.rating}}<\/span><\/div>\r\n                  <div class=\"form16\"><span class=\"colordark\"> <span class=\"colordark\">Phone : <\/span> <a class=\"linkColor\" href=tel:{{place.result.formatted_phone_number}}>{{place.result.formatted_phone_number}}<\/a> <\/div>\r\n                  <div class=\"form16\"><span class=\"colordark\">International :<\/span> <a class=\"linkColor\" href=tel:{{place.result.international_phone_number}}>{{place.result.international_phone_number}}<\/a>\r\n                  <\/div>\r\n                <\/div>\r\n                <div style='clear:both'><\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div id=\"mapOptions\" align=\"center\" style=\"text-align:center;\" class=\"padding15px0px\">\r\n              <a class=' diplayInline' href='#app/BlueLightEmergency50/BlueLightEmergency50Page16' style='border-right:1px solid red; padding-right: 15px'>\r\n                <img class=\"icon40 \" alt=\"\" src=\"data:image/png;base64,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\"\r\n                />\r\n              <\/a>\r\n              <a class='diplayInline' style=\"padding-left: 15px\" href='#app/BlueLightEmergency50/BlueLightEmergency50Page18'>\r\n                <img class=\"icon40 \" alt=\"\" src=\"data:image/png;base64,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\"\r\n                />\r\n              <\/a>\r\n              <div style='clear:both'><\/div>\r\n            <\/div>\r\n            <div class=\"colorDark borderTop1px borderBottom1px padding15px0px\">\r\n              <b><span>Reviews<\/span><\/b>\r\n            <\/div>\r\n            <div id=\"IndplaceReview\">\r\n              <div ng-repeat=\"review in place.result.reviews\" class=\"borderBottom1px padding15px0px\">\r\n                <div>\r\n                  <div class=\"form16 colordark\">{{review.author_name}}<\/div>\r\n                  <div class=\"form16 colorGrey\">{{review.text}}<\/div>\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n          <\/div>\r\n          <div class=\"tab-pane\" id=\"PhotoTb\">\r\n            <div style=\"background:#fff; width:100%\" class=\"clearfix\">\r\n              <div ng-repeat=\"photo in place.result.photos\" class=\"pull-right\" style=\"width:50%\">\r\n                <img style=\"height:100px; width:97%; margin-top:5px; margin-left:3px;\" class='img-thumbnail' ng-src='https://maps.googleapis.com/maps/api/place/photo?maxwidth=120&photoreference={{photo.photo_reference}}&sensor=true&key=AIzaSyBf-3Ff01fEYn-d6qC6mXaVAbKvOkPLOTY'\r\n                \" + \"alt=''>\r\n              <\/div>\r\n            <\/div>\r\n          <\/div>\r\n        <\/div>\r\n\r\n      <\/div>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>\r\n<\/div>",
          "apikey": "AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o"
        },
        {
          "pageid": "BlueLightEmergency50Page16",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page16(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n   data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  try {\r\n    var latlng = new google.maps.LatLng($rootScope.place.result.geometry.location.lat, $rootScope.place.result.geometry.location.lng);\r\n    var myOptions = {\r\n      zoom: 16,\r\n      center: latlng,\r\n      mapTypeId: google.maps.MapTypeId.ROADMAP\r\n    };\r\n    var mapDisplay = document.getElementById(\"Place-map-canvas\")\r\n    var map = new google.maps.Map(mapDisplay, myOptions);\r\n    var marker = new google.maps.Marker({\r\n      position: latlng,\r\n      map: map,\r\n      title: $rootScope.place.result.name\r\n    });\r\n  } catch (e) {\r\n    alert(\"Error : \" + e);\r\n  }\r\n}",
          "endpoint": "",
          "datatemplate": "<style>\r\n.app-body{background-color:#fff;\r\n}\r\n<\/style>\r\n \t<div id=\"Place-map-canvas\" style=\"width:100%;height:99%;position:absolute;\">\r\n    \r\n\t<\/div>\r\n\t\r\n\t\r\n\t<script src=\"https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyBf-3Ff01fEYn-d6qC6mXaVAbKvOkPLOTY\"><\/script>"
        },
        {
          "pageid": "BlueLightEmergency50Page17",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page17(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n\r\n  $rootScope.back = function() {\r\n    $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n  };\r\n\r\n\r\n\r\n  var onError = function(err) {\r\n    $.unblockUI();\r\n    switch (err.code) {\r\n      case 3:\r\n        {\r\n          var errmsg = \"Could not get the current position. Either GPS signals are weak or GPS has been switched off.\";\r\n          break;\r\n        }\r\n      case 1:\r\n        {\r\n          var errmsg = \"Either GPS signals are weak or GPS has been switched off.\";\r\n          break;\r\n        }\r\n      case 2:\r\n        {\r\n          var errmsg = \"Unable to get your current position.\";\r\n          break;\r\n        }\r\n    }\r\n    if (window.device) {\r\n      navigator.notification.alert('To continue, turn on Device Location');\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n    } else {\r\n      alert(errmsg);\r\n    }\r\n  }\r\n\r\n  var ShareLocation = function(data) {\r\n    $.unblockUI();\r\n\r\n    var PI = $.jStorage.get('PersonalInfo');\r\n    var message = PI.fname + \" \" + PI.lname + \" location: http://maps.google.com/?q=\" + data.coords.latitude + \",\" + data.coords.longitude;\r\n    var subject = \"Sharing location of \" + PI.fname + \" \" + PI.lname\r\n    try {\r\n      window.plugins.socialsharing.share(message, subject);\r\n    } catch (e) {\r\n      alert(e)\r\n    }\r\n    $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50\");\r\n\r\n  }\r\n\r\n  $.blockUI();\r\n  var options = {\r\n    timeout: 5000,\r\n    frequency: 3000,\r\n    enableHighAccuracy: true\r\n  };\r\n\r\n  /*var defaultGD = [\r\n  {'GuardianPhn':'3028571110','guardianName':'Dover Public Safety  Main Phone','email':'owens-bluelight@dtcc.edu','enable':true},\r\n  {'GuardianPhn':'3024543938','guardianName':'Georgetown Public Safety  Main Phone','email':'george-bluelight@dtcc.edu','enable':true},\r\n  {'GuardianPhn':'3025735418','guardianName':'Wilmington Public Safety  Main Phone','email':'terry-bluelight@dtcc.edu','enable':true},\r\n  {'GuardianPhn':'3022420362','guardianName':'Stan Public Safety  Main Phone','email':'stan-bluelight@dtcc.edu','enable':true}];\r\n  */\r\n  if ($.jStorage.get(\"PersonalInfo\") == null) {\r\n    if (window.device) {\r\n      $.unblockUI();\r\n      navigator.notification.alert(\"Please update your profile before sharing location.\");\r\n      $location.path(\"/app/BlueLightEmergency50/BlueLightEmergency50Page6\");\r\n    } else {\r\n      alert(\"Please update your profile before sharing location.\");\r\n    }\r\n  } else {\r\n    navigator.geolocation.getCurrentPosition(ShareLocation, onError, options);\r\n  }\r\n\r\n  /*var message=\"I need non-urgent assistance\\n\\n\";\r\n  for(var i=0;i<defaultGD.length;i++){\r\n    message +=defaultGD[i].guardianName+\": \"+defaultGD[i].GuardianPhn+\"\\n\";\r\n  }\r\n        \r\n  window.plugins.socialsharing.share(message);*/\r\n\r\n}",
          "endpoint": "",
          "datatemplate": "<style>\r\n  \r\n\r\n<\/style>\r\n <div style=\"padding:10px\"> <h4> Share Location<\/h4>  \r\n\r\n<p>Quickly share your location with contacts via any app on your device <\/p><\/div>"
        },
        {
          "pageid": "BlueLightEmergency50Page18",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorBlueLightEmergency50Page18(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    try {\r\n\r\n        $scope.walk = false;\r\n        $scope.cycle = false;\r\n        $scope.transit = false;\r\n        $scope.drive = false;\r\n       \r\n\r\n        $scope.changeMode = function(mode) {\r\n\r\n            var latlng = new google.maps.LatLng($rootScope.place.result.geometry.location.lat, $rootScope.place.result.geometry.location.lng);\r\n            var myOptions = {\r\n                zoom: 16,\r\n                mapTypeId: google.maps.MapTypeId.ROADMAP\r\n            };\r\n            var mapDisplay = document.getElementById(\"Place-map-canvas\")\r\n            var map = new google.maps.Map(mapDisplay, myOptions);\r\n            var directionsDisplay = new google.maps.DirectionsRenderer({\r\n                suppressMarkers: true\r\n            });\r\n            var icons = {\r\n                start: new google.maps.MarkerImage(\r\n\r\n                    // URL\r\n                    'images/start-pin.png',\r\n                    // (image width,height)\r\n                    new google.maps.Size(32, 32),\r\n                    //Point for the Image\r\n                    new google.maps.Point(0, 0)\r\n                ),\r\n                end: new google.maps.MarkerImage(\r\n                    // URL\r\n                    'images/end-pin.png',\r\n                    // (image width,height)\r\n                    new google.maps.Size(32, 32),\r\n                    //Point for the Image\r\n                    new google.maps.Point(0, 0)\r\n                )\r\n            };\r\n            directionsDisplay.setMap(null);\r\n            directionsDisplay.setMap(map);\r\n\r\n\r\n\r\n            var directionsService = new google.maps.DirectionsService();\r\n            //alert(currentLocation.latitude);\" ,long:\"-80.128108\r\n            //var start = new google.maps.LatLng(36.106139,-86.799758);\r\n            var start = new google.maps.LatLng($rootScope.placeCoordinate.coords.latitude, $rootScope.placeCoordinate.coords.longitude);\r\n            var end = new google.maps.LatLng($rootScope.place.result.geometry.location.lat, $rootScope.place.result.geometry.location.lng);\r\n\r\n\r\n\r\n            try {\r\n\r\n\r\n                //alert(currentLocation.latitude);\" ,long:\"-80.128108\r\n                //var start = new google.maps.LatLng(36.106139,-86.799758);\r\n\r\n\r\n                switch (mode) {\r\n                    case \"walk\":\r\n                        {\r\n\r\n                            $scope.walk = true;\r\n                            $scope.cycle = false;\r\n                            $scope.drive = false;\r\n\t\t\t\t\t\t\t$scope.transit = false;\r\n\r\n                            var usertravelMode = \"WALKING\";\r\n                            var request = {\r\n                                origin: start,\r\n                                destination: end,\r\n                                travelMode: google.maps.TravelMode.WALKING,\r\n                                unitSystem: google.maps.UnitSystem.METRIC\r\n                            };\r\n                            break;\r\n                        } \r\n\t\t\t\t\t\tcase \"TRANSIT\":\r\n                        {\r\n\r\n                            $scope.transit = true;\r\n                            $scope.walk = false;\r\n                            $scope.cycle = false;\r\n                            $scope.drive = false;\r\n\r\n\r\n                            var usertravelMode = \"TRANSIT\";\r\n                            var request = {\r\n                                origin: start,\r\n                                destination: end,\r\n                                travelMode: google.maps.TravelMode.TRANSIT,\r\n                                unitSystem: google.maps.UnitSystem.METRIC\r\n                            };\r\n                            break;\r\n                        }\r\n                    case \"cycle\":\r\n                        {\r\n\r\n                            $scope.walk = false;\r\n                            $scope.cycle = true;\r\n                            $scope.drive = false;\r\n\t\t\t\t\t\t\t$scope.transit = false;\r\n                            var usertravelMode = \"BICYCLING\";\r\n                            var request = {\r\n                                origin: start,\r\n                                destination: end,\r\n                                travelMode: google.maps.TravelMode.BICYCLING,\r\n                                unitSystem: google.maps.UnitSystem.METRIC\r\n                            };\r\n\r\n                            break;\r\n                        }\r\n                    case \"drive\":\r\n                        {\r\n\r\n                            $scope.walk = false;\r\n                            $scope.cycle = false;\r\n                            $scope.drive = true;\r\n\t\t\t\t\t\t\t$scope.transit = false;\r\n                            var usertravelMode = \"DRIVING\";\r\n                            var request = {\r\n                                origin: start,\r\n                                destination: end,\r\n                                travelMode: google.maps.TravelMode.DRIVING,\r\n                                unitSystem: google.maps.UnitSystem.METRIC\r\n                            };\r\n\r\n                            break;\r\n                        }\r\n                    default:\r\n                        {\r\n                            // $(\"#mapRadio\").find(\"input[type='radio']\").attr(\"checked\",false).checkboxradio(\"refresh\");\r\n                            // $(\"#mapRadio\").find(\"input[name='walking']\").attr(\"checked\",true).checkboxradio(\"refresh\");\r\n                            var usertravelMode = \"DRIVING\";\r\n                            var request = {\r\n                                origin: start,\r\n                                destination: end,\r\n                                travelMode: google.maps.TravelMode.DRIVING,\r\n                                unitSystem: google.maps.UnitSystem.METRIC\r\n                            };\r\n                            break;\r\n                        }\r\n\r\n\r\n                }\r\n\r\n            } catch (e) {\r\n                alert(e)\r\n            }\r\n\r\n            directionsService.route(request, function(result, status) {\r\n\r\n                if (status == google.maps.DirectionsStatus.OK) {\r\n                    try {\r\n                        //$(\".mapRefresh\").show();\r\n                        $(\"#PlaceDirectionDetail\").show();\r\n                        var len = result.routes[0].legs[0].distance.text.length - 3;\r\n                        var miles = result.routes[0].legs[0].distance.text.substring(0, len) * 0.621;\r\n                        var d = miles.toString();\r\n                        // alert(d.slice(0,8)+\" \"+result.routes[0].legs[0].distance.text.substring(0,len)+\" \"+len);\r\n                        $(\"#PlacedirectionInfo\").html(\"TravelMode: \" + usertravelMode + \"<br />Distance = <span style='white-space:nowrap; text-overflow:ellipsis; overflow:hidden;width:35px;'>\" + d.slice(0, 6) + \"<\/span> miles <br />Time = \" + JSON.stringify(result.routes[0].legs[0].duration.text));\r\n                    } catch (e) {}\r\n                    directionsDisplay.setDirections(result);\r\n                    var leg = result.routes[0].legs[0];\r\n                    //PlacemakeMarker(leg.start_location, icons.start, \"title\");\r\n                    var dirMarkerst = new google.maps.Marker({\r\n                        animation: google.maps.Animation.null,\r\n                        //draggable:true,\r\n                        position: leg.start_location,\r\n                        map: map,\r\n                        title: \"title\"\r\n                    });\r\n                    //PlacemakeMarker(leg.end_location, icons.end, 'title');\r\n                    var dirMarkerend = new google.maps.Marker({\r\n                        animation: google.maps.Animation.null,\r\n                        //draggable:true,\r\n                        position: leg.end_location,\r\n                        map: map,\r\n                        title: \"title\"\r\n                    });\r\n                    //stopActivitySpinner();\r\n                } else {\r\n                    //stopActivitySpinner();\r\n                    navigator.notification.alert(\"Oops! Your device don't have GPS enabled or Selected Mode on this Route not available.\");\r\n\r\n                }\r\n            });\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n        $scope.changeMode('default');\r\n    } catch (e) {\r\n        alert(\"Error : \" + e);\r\n    }\r\n}",
          "endpoint": "",
          "datatemplate": " <div class=\"list-group-item toolbar-menu\"> <h4>Navigation Modes <\/h4> <\/div>\r\n<div class=\"list-group-item toolbar-menu\">\r\n<ul class=\"nav nav-tabs\" style=\"width:100%; height:29px; position:relative\";>\r\n\r\n\t\t<li>\r\n\t\t\t<button ng-click=\"changeMode('drive')\" clss=\"btn\" ng-class=\"drive ? 'btn-primary': 'btn-default'\" style=\"height:29px;\">DRIVING<\/button>\r\n        <\/li> \r\n        <li>\r\n\t\t\t<button ng-click=\"changeMode('walk')\" clss=\"btn\" ng-class=\"walk ? 'btn-primary': 'btn-default'\" style=\"height:29px;\">WALKING<\/button>\r\n        <\/li>\r\n        \r\n\t\t <li>\r\n\t\t\t<button ng-click=\"changeMode('TRANSIT')\" clss=\"btn\" ng-class=\"transit ? 'btn-primary': 'btn-default'\" style=\"height:29px;\">TRANSIT<\/button>\r\n        <\/li> \r\n\t\t<li>\r\n\t\t\t<button ng-click=\"changeMode('cycle')\" clss=\"btn\" ng-class=\"cycle ? 'btn-primary': 'btn-default'\" style=\"height:29px;\">BICYCLING<\/button>\r\n        <\/li> \r\n\t\t \r\n<\/ul>\r\n<\/div>\r\n<style>\r\n  .app-body {\r\n    background-color: #fff;\r\n  }\r\n<\/style>\r\n\r\n<div id=\"Place-map-canvas\" style=\"width:100%;height:99%;position:absolute;margin-top:5px;padding:5px;\">\r\n<\/div>\r\n\r\n<script src=\"https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyBf-3Ff01fEYn-d6qC6mXaVAbKvOkPLOTY\"><\/script>"
        }
      ]
    }
  ],
  "pages": 
  [
  ]
}